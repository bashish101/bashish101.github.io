var Fne=Object.defineProperty,zne=Object.defineProperties,Vne=Object.getOwnPropertyDescriptors,NF=Object.getOwnPropertySymbols,Hne=Object.prototype.hasOwnProperty,Bne=Object.prototype.propertyIsEnumerable,OF=(pt,xe,V)=>xe in pt?Fne(pt,xe,{enumerable:!0,configurable:!0,writable:!0,value:V}):pt[xe]=V,gt=(pt,xe)=>{for(var V in xe||(xe={}))Hne.call(xe,V)&&OF(pt,V,xe[V]);if(NF)for(var V of NF(xe))Bne.call(xe,V)&&OF(pt,V,xe[V]);return pt},no=(pt,xe)=>zne(pt,Vne(xe));(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[179],{7905:(pt,xe,V)=>{"use strict";V.d(xe,{hO:()=>Xe,xv:()=>me,Dh:()=>be,GT:()=>fe,cc:()=>Fe,on:()=>J,pX:()=>ce});var h=V(3668),pe=V(7892),B=V(7233);pt=V.hmd(pt);const we=["ngOnDestroy"],ce=(de,Ee,Oe,De={})=>new Proxy(de,{get:($e,He)=>Oe.runOutsideAngular(()=>{var et;if(de[He])return(null===(et=null==De?void 0:De.spy)||void 0===et?void 0:et.get)&&De.spy.get(He,de[He]),de[He];if(we.indexOf(He)>-1)return()=>{};const at=Ee.toPromise().then(ye=>{const H=ye&&ye[He];return"function"==typeof H?H.bind(ye):H&&H.then?H.then(Z=>Oe.run(()=>Z)):Oe.run(()=>H)});return new Proxy(()=>{},{get:(ye,H)=>at[H],apply:(ye,H,Z)=>at.then(te=>{var re;const Y=te&&te(...Z);return(null===(re=null==De?void 0:De.spy)||void 0===re?void 0:re.apply)&&De.spy.apply(He,Z,Y),Y})})})}),fe=(de,Ee)=>{Ee.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(De=>{Object.defineProperty(de.prototype,De,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,De))})})};class le{constructor(Ee){return Ee}}const be=new h.OlP("angularfire2.app.options"),me=new h.OlP("angularfire2.app.name");function J(de,Ee,Oe){const $e="object"==typeof Oe&&Oe||{};$e.name=$e.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const et=pe.Z.apps.filter(at=>at&&at.name===$e.name)[0]||Ee.runOutsideAngular(()=>pe.Z.initializeApp(de,$e));try{JSON.stringify(de)!==JSON.stringify(et.options)&&ee("error",`${et.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(at){}return new le(et)}const ee=(de,...Ee)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[de](...Ee)},ue={provide:le,useFactory:J,deps:[be,h.R0b,[new h.FiY,me]]};let Xe=(()=>{class de{constructor(Oe){pe.Z.registerVersion("angularfire",B.q4.full,"core"),pe.Z.registerVersion("angularfire",B.q4.full,"app-compat"),pe.Z.registerVersion("angular",h.q4F.full,Oe.toString())}static initializeApp(Oe,De){return{ngModule:de,providers:[{provide:be,useValue:Oe},{provide:me,useValue:De}]}}}return de.\u0275fac=function(Oe){return new(Oe||de)(h.LFG(h.Lbi))},de.\u0275mod=h.oAB({type:de}),de.\u0275inj=h.cJS({providers:[ue]}),de})();function Fe(de,Ee,Oe,De,$e){const[,He,et]=globalThis.\u0275AngularfireInstanceCache.find(at=>at[0]===de)||[];if(He)return function(de,Ee){try{return de.toString()===Ee.toString()}catch(Oe){return de===Ee}}($e,et)||(_e("error",`${Ee} was already initialized on the ${Oe} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:$e,was:et})),He;{const at=De();return globalThis.\u0275AngularfireInstanceCache.push([de,at,$e]),at}}const Ye=!!pt.hot,_e=(de,...Ee)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[de](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(pt,xe,V)=>{"use strict";V.d(xe,{q4:()=>is,iC:()=>Yo,fc:()=>Jt,HU:()=>O1,vb:()=>Xd,JM:()=>Ts});var h=V(3668),pe=V(7713),B=V(8239),we=V(1572),ce=V(4213),fe=V(1177),le=V(3855),be=V(4995);const me="@firebase/installations",J="0.5.5",ue=`w:${J}`,Xe="FIS_v2",Ee=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(D){return D instanceof ce.ZR&&D.code.includes("request-failed")}function De({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function $e(D){return{token:D.token,requestStatus:2,expiresIn:te(D.expiresIn),creationTime:Date.now()}}function He(D,R){return et.apply(this,arguments)}function et(){return(et=(0,B.Z)(function*(D,R){const W=(yield R.json()).error;return Ee.create("request-failed",{requestName:D,serverCode:W.code,serverMessage:W.message,serverStatus:W.status})})).apply(this,arguments)}function at({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ye(D,{refreshToken:R}){const L=at(D);return L.append("Authorization",function(D){return`${Xe} ${D}`}(R)),L}function H(D){return Z.apply(this,arguments)}function Z(){return(Z=(0,B.Z)(function*(D){const R=yield D();return R.status>=500&&R.status<600?D():R})).apply(this,arguments)}function te(D){return Number(D.replace("s","000"))}function Y(D,R){return q.apply(this,arguments)}function q(){return(q=(0,B.Z)(function*(D,{fid:R}){const L=De(D),Me={method:"POST",headers:at(D),body:JSON.stringify({fid:R,authVersion:Xe,appId:D.appId,sdkVersion:ue})},Be=yield H(()=>fetch(L,Me));if(Be.ok){const lt=yield Be.json();return{fid:lt.fid||R,registrationStatus:2,refreshToken:lt.refreshToken,authToken:$e(lt.authToken)}}throw yield He("Create Installation",Be)})).apply(this,arguments)}function ze(D){return new Promise(R=>{setTimeout(R,D)})}const Rt=/^[cdef][\w-]{21}$/;function Je(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const L=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Rt.test(L)?L:""}catch(D){return""}}function _t(D){return`${D.appName}!${D.appId}`}const Vn=new Map;function Er(D,R){const L=_t(D);Yt(L,R),function(D,R){const L=(!xr&&"BroadcastChannel"in self&&(xr=new BroadcastChannel("[Firebase] FID Change"),xr.onmessage=D=>{Yt(D.data.key,D.data.fid)}),xr);L&&L.postMessage({key:D,fid:R}),0===Vn.size&&xr&&(xr.close(),xr=null)}(L,R)}function Yt(D,R){const L=Vn.get(D);if(L)for(const W of L)W(R)}let xr=null;const xi="firebase-installations-store";let ps=null;function Oo(){return ps||(ps=(0,be.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(xi)})),ps}function bt(D,R){return or.apply(this,arguments)}function or(){return(or=(0,B.Z)(function*(D,R){const L=_t(D),he=(yield Oo()).transaction(xi,"readwrite"),Me=he.objectStore(xi),Be=yield Me.get(L);return yield Me.put(R,L),yield he.complete,(!Be||Be.fid!==R.fid)&&Er(D,R.fid),R})).apply(this,arguments)}function Si(D){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,B.Z)(function*(D){const R=_t(D),W=(yield Oo()).transaction(xi,"readwrite");yield W.objectStore(xi).delete(R),yield W.complete})).apply(this,arguments)}function Pt(D,R){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,B.Z)(function*(D,R){const L=_t(D),he=(yield Oo()).transaction(xi,"readwrite"),Me=he.objectStore(xi),Be=yield Me.get(L),lt=R(Be);return void 0===lt?yield Me.delete(L):yield Me.put(lt,L),yield he.complete,lt&&(!Be||Be.fid!==lt.fid)&&Er(D,lt.fid),lt})).apply(this,arguments)}function on(D){return pn.apply(this,arguments)}function pn(){return(pn=(0,B.Z)(function*(D){let R;const L=yield Pt(D,W=>{const he=Nr(W),Me=xn(D,he);return R=Me.registrationPromise,Me.installationEntry});return""===L.fid?{installationEntry:yield R}:{installationEntry:L,registrationPromise:R}})).apply(this,arguments)}function Nr(D){return nn(D||{fid:Je(),registrationStatus:0})}function xn(D,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Ee.create("app-offline"))};const L={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},W=function(D,R){return xt.apply(this,arguments)}(D,L);return{installationEntry:L,registrationPromise:W}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:ms(D)}:{installationEntry:R}}function xt(){return(xt=(0,B.Z)(function*(D,R){try{return bt(D,yield Y(D,R))}catch(L){throw Oe(L)&&409===L.customData.serverCode?yield Si(D):yield bt(D,{fid:R.fid,registrationStatus:0}),L}})).apply(this,arguments)}function ms(D){return wt.apply(this,arguments)}function wt(){return(wt=(0,B.Z)(function*(D){let R=yield Zi(D);for(;1===R.registrationStatus;)yield ze(100),R=yield Zi(D);if(0===R.registrationStatus){const{installationEntry:L,registrationPromise:W}=yield on(D);return W||L}return R})).apply(this,arguments)}function Zi(D){return Pt(D,R=>{if(!R)throw Ee.create("installation-not-found");return nn(R)})}function nn(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Yn(D,R){return ie.apply(this,arguments)}function ie(){return(ie=(0,B.Z)(function*({appConfig:D,platformLoggerProvider:R},L){const W=Q(D,L),he=ye(D,L),Me=R.getImmediate({optional:!0});Me&&he.append("x-firebase-client",Me.getPlatformInfoString());const lt={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:ue}})},Ze=yield H(()=>fetch(W,lt));if(Ze.ok)return $e(yield Ze.json());throw yield He("Generate Auth Token",Ze)})).apply(this,arguments)}function Q(D,{fid:R}){return`${De(D)}/${R}/authTokens:generate`}function se(D){return Re.apply(this,arguments)}function Re(){return(Re=(0,B.Z)(function*(D,R=!1){let L;const W=yield Pt(D.appConfig,Me=>{if(!Bn(Me))throw Ee.create("not-registered");const Be=Me.authToken;if(!R&&Ti(Be))return Me;if(1===Be.requestStatus)return L=Ce(D,R),Me;{if(!navigator.onLine)throw Ee.create("app-offline");const lt=Sr(Me);return L=En(D,lt),lt}});return L?yield L:W.authToken})).apply(this,arguments)}function Ce(D,R){return yt.apply(this,arguments)}function yt(){return(yt=(0,B.Z)(function*(D,R){let L=yield It(D.appConfig);for(;1===L.authToken.requestStatus;)yield ze(100),L=yield It(D.appConfig);const W=L.authToken;return 0===W.requestStatus?se(D,R):W})).apply(this,arguments)}function It(D){return Pt(D,R=>{if(!Bn(R))throw Ee.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function En(D,R){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,B.Z)(function*(D,R){try{const L=yield Yn(D,R),W=Object.assign(Object.assign({},R),{authToken:L});return yield bt(D.appConfig,W),L}catch(L){if(!Oe(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const W=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield bt(D.appConfig,W)}else yield Si(D.appConfig);throw L}})).apply(this,arguments)}function Bn(D){return void 0!==D&&2===D.registrationStatus}function Ti(D){return 2===D.requestStatus&&!function(D){const R=Date.now();return R<D.creationTime||D.creationTime+D.expiresIn<R+36e5}(D)}function Sr(D){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:R})}function u1(){return(u1=(0,B.Z)(function*(D){const R=D,{installationEntry:L,registrationPromise:W}=yield on(R.appConfig);return W?W.catch(console.error):se(R).catch(console.error),L.fid})).apply(this,arguments)}function Ka(){return(Ka=(0,B.Z)(function*(D,R=!1){const L=D;return yield h1(L.appConfig),(yield se(L,R)).token})).apply(this,arguments)}function h1(D){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,B.Z)(function*(D){const{registrationPromise:R}=yield on(D);R&&(yield R)})).apply(this,arguments)}function Mi(D){return Ee.create("missing-app-config-values",{valueName:D})}const Tr="installations";(0,we._registerComponent)(new fe.wA(Tr,D=>{const R=D.getProvider("app").getImmediate(),L=function(D){if(!D||!D.options)throw Mi("App Configuration");if(!D.name)throw Mi("App Name");const R=["projectId","apiKey","appId"];for(const L of R)if(!D.options[L])throw Mi(L);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(R);return{app:R,appConfig:L,platformLoggerProvider:(0,we._getProvider)(R,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,we._registerComponent)(new fe.wA("installations-internal",D=>{const R=D.getProvider("app").getImmediate(),L=(0,we._getProvider)(R,Tr).getImmediate();return{getId:()=>function(D){return u1.apply(this,arguments)}(L),getToken:he=>function(D){return Ka.apply(this,arguments)}(L,he)}},"PRIVATE")),(0,we.registerVersion)(me,J),(0,we.registerVersion)(me,J,"esm2017");const zt="@firebase/remote-config",Ae=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class g1{constructor(R,L,W,he){this.client=R,this.storage=L,this.storageCache=W,this.logger=he}isCachedDataFresh(R,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const W=Date.now()-L,he=W<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${W}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${he}.`),he}fetch(R){var L=this;return(0,B.Z)(function*(){const[W,he]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(he&&L.isCachedDataFresh(R.cacheMaxAgeMillis,W))return he;R.eTag=he&&he.eTag;const Me=yield L.client.fetch(R),Be=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Me.status&&Be.push(L.storage.setLastSuccessfulFetchResponse(Me)),yield Promise.all(Be),Me})()}}function v1(D=navigator){return D.languages&&D.languages[0]||D.language}class Pr{constructor(R,L,W,he,Me,Be){this.firebaseInstallations=R,this.sdkVersion=L,this.namespace=W,this.projectId=he,this.apiKey=Me,this.appId=Be}fetch(R){var L=this;return(0,B.Z)(function*(){const[W,he]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),Be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},Ze={sdk_version:L.sdkVersion,app_instance_id:W,app_instance_id_token:he,app_id:L.appId,language_code:v1()},gn={method:"POST",headers:lt,body:JSON.stringify(Ze)},jn=fetch(Be,gn),dr=new Promise((mr,oi)=>{R.signal.addEventListener(()=>{const Yr=new Error("The operation was aborted.");Yr.name="AbortError",oi(Yr)})});let vn;try{yield Promise.race([jn,dr]),vn=yield jn}catch(mr){let oi="fetch-client-network";throw"AbortError"===mr.name&&(oi="fetch-timeout"),Ae.create(oi,{originalErrorMessage:mr.message})}let pr=vn.status;const Na=vn.headers.get("ETag")||void 0;let cl,Ms;if(200===vn.status){let mr;try{mr=yield vn.json()}catch(oi){throw Ae.create("fetch-client-parse",{originalErrorMessage:oi.message})}cl=mr.entries,Ms=mr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ms?pr=500:"NO_CHANGE"===Ms?pr=304:("NO_TEMPLATE"===Ms||"EMPTY_CONFIG"===Ms)&&(cl={}),304!==pr&&200!==pr)throw Ae.create("fetch-status",{httpStatus:pr});return{status:pr,eTag:Na,config:cl}})()}}class Wr{constructor(R,L){this.client=R,this.storage=L}fetch(R){var L=this;return(0,B.Z)(function*(){const W=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(R,W)})()}attemptFetch(R,{throttleEndTimeMillis:L,backoffCount:W}){var he=this;return(0,B.Z)(function*(){yield function(D,R){return new Promise((L,W)=>{const he=Math.max(R-Date.now(),0),Me=setTimeout(L,he);D.addEventListener(()=>{clearTimeout(Me),W(Ae.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,L);try{const Me=yield he.client.fetch(R);return yield he.storage.deleteThrottleMetadata(),Me}catch(Me){if(!function(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const R=Number(D.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Me))throw Me;const Be={throttleEndTimeMillis:Date.now()+(0,ce.$s)(W),backoffCount:W+1};return yield he.storage.setThrottleMetadata(Be),he.attemptFetch(R,Be)}})()}}class hu{constructor(R,L,W,he,Me){this.app=R,this._client=L,this._storageCache=W,this._storage=he,this._logger=Me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fo(D,R){const L=D.target.error||void 0;return Ae.create(R,{originalErrorMessage:L&&L.message})}const Ol="app_namespace_store";class _1{constructor(R,L,W,he=function(){return new Promise((D,R)=>{try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=W=>{R(Fo(W,"storage-open"))},L.onsuccess=W=>{D(W.target.result)},L.onupgradeneeded=W=>{0===W.oldVersion&&W.target.result.createObjectStore(Ol,{keyPath:"compositeKey"})}}catch(L){R(Ae.create("storage-open",{originalErrorMessage:L}))}})}()){this.appId=R,this.appName=L,this.namespace=W,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var L=this;return(0,B.Z)(function*(){const W=yield L.openDbPromise;return new Promise((he,Me)=>{const lt=W.transaction([Ol],"readonly").objectStore(Ol),Ze=L.createCompositeKey(R);try{const gn=lt.get(Ze);gn.onerror=jn=>{Me(Fo(jn,"storage-get"))},gn.onsuccess=jn=>{const dr=jn.target.result;he(dr?dr.value:void 0)}}catch(gn){Me(Ae.create("storage-get",{originalErrorMessage:gn&&gn.message}))}})})()}set(R,L){var W=this;return(0,B.Z)(function*(){const he=yield W.openDbPromise;return new Promise((Me,Be)=>{const Ze=he.transaction([Ol],"readwrite").objectStore(Ol),gn=W.createCompositeKey(R);try{const jn=Ze.put({compositeKey:gn,value:L});jn.onerror=dr=>{Be(Fo(dr,"storage-set"))},jn.onsuccess=()=>{Me()}}catch(jn){Be(Ae.create("storage-set",{originalErrorMessage:jn&&jn.message}))}})})()}delete(R){var L=this;return(0,B.Z)(function*(){const W=yield L.openDbPromise;return new Promise((he,Me)=>{const lt=W.transaction([Ol],"readwrite").objectStore(Ol),Ze=L.createCompositeKey(R);try{const gn=lt.delete(Ze);gn.onerror=jn=>{Me(Fo(jn,"storage-delete"))},gn.onsuccess=()=>{he()}}catch(gn){Me(Ae.create("storage-delete",{originalErrorMessage:gn&&gn.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class Ya{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,B.Z)(function*(){const L=R.storage.getLastFetchStatus(),W=R.storage.getLastSuccessfulFetchTimestampMillis(),he=R.storage.getActiveConfig(),Me=yield L;Me&&(R.lastFetchStatus=Me);const Be=yield W;Be&&(R.lastSuccessfulFetchTimestampMillis=Be);const lt=yield he;lt&&(R.activeConfig=lt)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function wc(){return ga.apply(this,arguments)}function ga(){return(ga=(0,B.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,we._registerComponent)(new fe.wA("remote-config",function(R,{instanceIdentifier:L}){const W=R.getProvider("app").getImmediate(),he=R.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ae.create("registration-window");if(!(0,ce.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:Me,apiKey:Be,appId:lt}=W.options;if(!Me)throw Ae.create("registration-project-id");if(!Be)throw Ae.create("registration-api-key");if(!lt)throw Ae.create("registration-app-id");const Ze=new _1(lt,W.name,L=L||"firebase"),gn=new Ya(Ze),jn=new le.Yd(zt);jn.logLevel=le.in.ERROR;const dr=new Pr(he,we.SDK_VERSION,L,Me,Be,lt),vn=new Wr(dr,Ze),pr=new g1(vn,Ze,gn,jn),Na=new hu(W,pr,gn,Ze,jn);return function(D){const R=(0,ce.m9)(D);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Na),Na},"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(zt,"0.3.4"),(0,we.registerVersion)(zt,"0.3.4","esm2017");const ao="/firebase-messaging-sw.js",Pl="/firebase-cloud-messaging-push-scope",Ai="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qa="google.c.a.c_id",y1="google.c.a.c_l",lo="google.c.a.ts",vs="google.c.a.e";var _s=(()=>{return(D=_s||(_s={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",_s;var D})();function Fs(D){const R=new Uint8Array(D);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zs(D){const L=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),W=atob(L),he=new Uint8Array(W.length);for(let Me=0;Me<W.length;++Me)he[Me]=W.charCodeAt(Me);return he}const Ja="fcm_token_details_db",Ll="fcm_token_object_Store";function pu(D){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,B.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Me=>Me.name).includes(Ja))return null;let R=null;return(yield(0,be.openDb)(Ja,5,function(){var W=(0,B.Z)(function*(he){var Me;if(he.oldVersion<2||!he.objectStoreNames.contains(Ll))return;const Be=he.transaction.objectStore(Ll),lt=yield Be.index("fcmSenderId").get(D);if(yield Be.clear(),lt)if(2===he.oldVersion){const Ze=lt;if(!Ze.auth||!Ze.p256dh||!Ze.endpoint)return;R={token:Ze.fcmToken,createTime:null!==(Me=Ze.createTime)&&void 0!==Me?Me:Date.now(),subscriptionOptions:{auth:Ze.auth,p256dh:Ze.p256dh,endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:"string"==typeof Ze.vapidKey?Ze.vapidKey:Fs(Ze.vapidKey)}}}else if(3===he.oldVersion){const Ze=lt;R={token:Ze.fcmToken,createTime:Ze.createTime,subscriptionOptions:{auth:Fs(Ze.auth),p256dh:Fs(Ze.p256dh),endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:Fs(Ze.vapidKey)}}}else if(4===he.oldVersion){const Ze=lt;R={token:Ze.fcmToken,createTime:Ze.createTime,subscriptionOptions:{auth:Fs(Ze.auth),p256dh:Fs(Ze.p256dh),endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:Fs(Ze.vapidKey)}}}});return function(he){return W.apply(this,arguments)}}())).close(),yield(0,be.deleteDb)(Ja),yield(0,be.deleteDb)("fcm_vapid_details_db"),yield(0,be.deleteDb)("undefined"),b1(R)?R:null}),Vs.apply(this,arguments)}function b1(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:R}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const On="firebase-messaging-store";let Fl=null;function Xa(){return Fl||(Fl=(0,be.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(On)})),Fl}function lr(D){return _a.apply(this,arguments)}function _a(){return(_a=(0,B.Z)(function*(D){const R=Vo(D),W=yield(yield Xa()).transaction(On).objectStore(On).get(R);if(W)return W;{const he=yield pu(D.appConfig.senderId);if(he)return yield ya(D,he),he}})).apply(this,arguments)}function ya(D,R){return el.apply(this,arguments)}function el(){return(el=(0,B.Z)(function*(D,R){const L=Vo(D),he=(yield Xa()).transaction(On,"readwrite");return yield he.objectStore(On).put(R,L),yield he.complete,R})).apply(this,arguments)}function Hr(D){return w1.apply(this,arguments)}function w1(){return(w1=(0,B.Z)(function*(D){const R=Vo(D),W=(yield Xa()).transaction(On,"readwrite");yield W.objectStore(On).delete(R),yield W.complete})).apply(this,arguments)}function Vo({appConfig:D}){return D.appId}const mn=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ec(D,R){return tl.apply(this,arguments)}function tl(){return(tl=(0,B.Z)(function*(D,R){const L=yield ba(D),W=xc(R),he={method:"POST",headers:L,body:JSON.stringify(W)};let Me;try{Me=yield(yield fetch(Vt(D.appConfig),he)).json()}catch(Be){throw mn.create("token-subscribe-failed",{errorInfo:Be})}if(Me.error)throw mn.create("token-subscribe-failed",{errorInfo:Me.error.message});if(!Me.token)throw mn.create("token-subscribe-no-token");return Me.token})).apply(this,arguments)}function nd(D,R){return ri.apply(this,arguments)}function ri(){return(ri=(0,B.Z)(function*(D,R){const L=yield ba(D),W=xc(R.subscriptionOptions),he={method:"PATCH",headers:L,body:JSON.stringify(W)};let Me;try{Me=yield(yield fetch(`${Vt(D.appConfig)}/${R.token}`,he)).json()}catch(Be){throw mn.create("token-update-failed",{errorInfo:Be})}if(Me.error)throw mn.create("token-update-failed",{errorInfo:Me.error.message});if(!Me.token)throw mn.create("token-update-no-token");return Me.token})).apply(this,arguments)}function Ir(D,R){return zl.apply(this,arguments)}function zl(){return(zl=(0,B.Z)(function*(D,R){const W={method:"DELETE",headers:yield ba(D)};try{const Me=yield(yield fetch(`${Vt(D.appConfig)}/${R}`,W)).json();if(Me.error)throw mn.create("token-unsubscribe-failed",{errorInfo:Me.error.message})}catch(he){throw mn.create("token-unsubscribe-failed",{errorInfo:he})}})).apply(this,arguments)}function Vt({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ba(D){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,B.Z)(function*({appConfig:D,installations:R}){const L=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function xc({p256dh:D,auth:R,endpoint:L,vapidKey:W}){const he={web:{endpoint:L,auth:R,p256dh:D}};return W!==Ai&&(he.web.applicationPubKey=W),he}const Sc=6048e5;function E1(D){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,B.Z)(function*(D){const R=yield ki(D.swRegistration,D.vapidKey),L={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:R.endpoint,auth:Fs(R.getKey("auth")),p256dh:Fs(R.getKey("p256dh"))},W=yield lr(D.firebaseDependencies);if(W){if(Bl(W.subscriptionOptions,L))return Date.now()>=W.createTime+Sc?yn(D,{token:W.token,createTime:Date.now(),subscriptionOptions:L}):W.token;try{yield Ir(D.firebaseDependencies,W.token)}catch(he){console.warn(he)}return Xn(D.firebaseDependencies,L)}return Xn(D.firebaseDependencies,L)})).apply(this,arguments)}function rd(D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,B.Z)(function*(D){const R=yield lr(D.firebaseDependencies);R&&(yield Ir(D.firebaseDependencies,R.token),yield Hr(D.firebaseDependencies));const L=yield D.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()})).apply(this,arguments)}function yn(D,R){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,B.Z)(function*(D,R){try{const L=yield nd(D.firebaseDependencies,R),W=Object.assign(Object.assign({},R),{token:L,createTime:Date.now()});return yield ya(D.firebaseDependencies,W),L}catch(L){throw yield rd(D),L}})).apply(this,arguments)}function Xn(D,R){return bs.apply(this,arguments)}function bs(){return(bs=(0,B.Z)(function*(D,R){const W={token:yield Ec(D,R),createTime:Date.now(),subscriptionOptions:R};return yield ya(D,W),W.token})).apply(this,arguments)}function ki(D,R){return br.apply(this,arguments)}function br(){return(br=(0,B.Z)(function*(D,R){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zs(R)})})).apply(this,arguments)}function Bl(D,R){return R.vapidKey===D.vapidKey&&R.endpoint===D.endpoint&&R.auth===D.auth&&R.p256dh===D.p256dh}function Ho(D){const R={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function(D,R){if(!R.notification)return;D.notification={};const L=R.notification.title;L&&(D.notification.title=L);const W=R.notification.body;W&&(D.notification.body=W);const he=R.notification.image;he&&(D.notification.image=he)}(R,D),function(D,R){!R.data||(D.data=R.data)}(R,D),function(D,R){if(!R.fcmOptions)return;D.fcmOptions={};const L=R.fcmOptions.link;L&&(D.fcmOptions.link=L);const W=R.fcmOptions.analytics_label;W&&(D.fcmOptions.analyticsLabel=W)}(R,D),R}function x1(D){return"object"==typeof D&&!!D&&Qa in D}function Zr(D,R){const L=[];for(let W=0;W<D.length;W++)L.push(D.charAt(W)),W<R.length&&L.push(R.charAt(W));return L.join("")}function Tc(D){return mn.create("missing-app-config-values",{valueName:D})}Zr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class es{constructor(R,L,W){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function(D){if(!D||!D.options)throw Tc("App Configuration Object");if(!D.name)throw Tc("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:L}=D;for(const W of R)if(!L[W])throw Tc(W);return{appName:D.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:he,installations:L,analyticsProvider:W}}_delete(){return Promise.resolve()}}function ii(D){return ts.apply(this,arguments)}function ts(){return(ts=(0,B.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(ao,{scope:Pl}),D.swRegistration.update().catch(()=>{})}catch(R){throw mn.create("failed-service-worker-registration",{browserErrorMessage:R.message})}})).apply(this,arguments)}function Ul(D,R){return wa.apply(this,arguments)}function wa(){return(wa=(0,B.Z)(function*(D,R){if(!R&&!D.swRegistration&&(yield ii(D)),R||!D.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");D.swRegistration=R}})).apply(this,arguments)}function Kd(D,R){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,B.Z)(function*(D,R){R?D.vapidKey=R:D.vapidKey||(D.vapidKey=Ai)})).apply(this,arguments)}function nl(){return(nl=(0,B.Z)(function*(D,R){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield Kd(D,null==R?void 0:R.vapidKey),yield Ul(D,null==R?void 0:R.serviceWorkerRegistration),E1(D)})).apply(this,arguments)}function T1(D,R,L){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,B.Z)(function*(D,R,L){const W=Ic(R);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(W,{message_id:L[Qa],message_name:L[y1],message_time:L[lo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ic(D){switch(D){case _s.NOTIFICATION_CLICKED:return"notification_open";case _s.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rl(){return(rl=(0,B.Z)(function*(D,R){const L=R.data;if(!L.isFirebaseMessaging)return;D.onMessageHandler&&L.messageType===_s.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ho(L)):D.onMessageHandler.next(Ho(L)));const W=L.data;x1(W)&&"1"===W[vs]&&(yield T1(D,L.messageType,W))})).apply(this,arguments)}const xa="@firebase/messaging";function Mc(){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,B.Z)(function*(){try{yield(0,ce.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,we._registerComponent)(new fe.wA("messaging",D=>{const R=new es(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function(D,R){return rl.apply(this,arguments)}(R,L)),R},"PUBLIC")),(0,we._registerComponent)(new fe.wA("messaging-internal",D=>{const R=D.getProvider("messaging").getImmediate();return{getToken:W=>function(D,R){return nl.apply(this,arguments)}(R,W)}},"PRIVATE")),(0,we.registerVersion)(xa,"0.9.8"),(0,we.registerVersion)(xa,"0.9.8","esm2017");const js="analytics",Sa="firebase_id",gu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sl="https://www.googletagmanager.com/gtag/js",An=new le.Yd("@firebase/analytics");function Mr(D){return Promise.all(D.map(R=>R.catch(L=>L)))}function co(D,R){const L=document.createElement("script");L.src=`${sl}?l=${D}&id=${R}`,L.async=!0,document.head.appendChild(L)}function ol(D,R,L,W,he,Me){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,B.Z)(function*(D,R,L,W,he,Me){const Be=W[he];try{if(Be)yield R[Be];else{const Ze=(yield Mr(L)).find(gn=>gn.measurementId===he);Ze&&(yield R[Ze.appId])}}catch(lt){An.error(lt)}D("config",he,Me)})).apply(this,arguments)}function id(D,R,L,W,he){return $l.apply(this,arguments)}function $l(){return($l=(0,B.Z)(function*(D,R,L,W,he){try{let Me=[];if(he&&he.send_to){let Be=he.send_to;Array.isArray(Be)||(Be=[Be]);const lt=yield Mr(L);for(const Ze of Be){const gn=lt.find(dr=>dr.measurementId===Ze),jn=gn&&R[gn.appId];if(!jn){Me=[];break}Me.push(jn)}}0===Me.length&&(Me=Object.values(R)),yield Promise.all(Me),D("event",W,he||{})}catch(Me){An.error(Me)}})).apply(this,arguments)}function Wl(){const D=window.document.getElementsByTagName("script");for(const R of Object.values(D))if(R.src&&R.src.includes(sl))return R;return null}const Br=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),gi=new class{constructor(R={},L=1e3){this.throttleMetadata=R,this.intervalMillis=L}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,L){this.throttleMetadata[R]=L}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function M1(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function er(D){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,B.Z)(function*(D){var R;const{appId:L,apiKey:W}=D,he={method:"GET",headers:M1(W)},Me=gu.replace("{app-id}",L),Be=yield fetch(Me,he);if(200!==Be.status&&304!==Be.status){let lt="";try{const Ze=yield Be.json();(null===(R=Ze.error)||void 0===R?void 0:R.message)&&(lt=Ze.error.message)}catch(Ze){}throw Br.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:lt})}return Be.json()})).apply(this,arguments)}function kc(D){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,B.Z)(function*(D,R=gi,L){const{appId:W,apiKey:he,measurementId:Me}=D.options;if(!W)throw Br.create("no-app-id");if(!he){if(Me)return{measurementId:Me,appId:W};throw Br.create("no-api-key")}const Be=R.getThrottleMetadata(W)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new Ri;return setTimeout((0,B.Z)(function*(){lt.abort()}),void 0!==L?L:6e4),D1({appId:W,apiKey:he,measurementId:Me},Be,lt,R)})).apply(this,arguments)}function D1(D,R,L){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,B.Z)(function*(D,{throttleEndTimeMillis:R,backoffCount:L},W,he=gi){const{appId:Me,measurementId:Be}=D;try{yield sd(W,R)}catch(lt){if(Be)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${lt.message}]`),{appId:Me,measurementId:Be};throw lt}try{const lt=yield er(D);return he.deleteThrottleMetadata(Me),lt}catch(lt){if(!In(lt)){if(he.deleteThrottleMetadata(Me),Be)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${lt.message}]`),{appId:Me,measurementId:Be};throw lt}const Ze=503===Number(lt.customData.httpStatus)?(0,ce.$s)(L,he.intervalMillis,30):(0,ce.$s)(L,he.intervalMillis),gn={throttleEndTimeMillis:Date.now()+Ze,backoffCount:L+1};return he.setThrottleMetadata(Me,gn),An.debug(`Calling attemptFetch again in ${Ze} millis`),D1(D,gn,W,he)}})).apply(this,arguments)}function sd(D,R){return new Promise((L,W)=>{const he=Math.max(R-Date.now(),0),Me=setTimeout(L,he);D.addEventListener(()=>{clearTimeout(Me),W(Br.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function In(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const R=Number(D.customData.httpStatus);return 429===R||500===R||503===R||504===R}class Ri{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}function Ct(){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,B.Z)(function*(){if(!(0,ce.hl)())return An.warn(Br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(D){return An.warn(Br.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Mn(){return(Mn=(0,B.Z)(function*(D,R,L,W,he,Me,Be){var lt;const Ze=kc(D);Ze.then(pr=>{L[pr.measurementId]=pr.appId,D.options.measurementId&&pr.measurementId!==D.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${pr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pr=>An.error(pr)),R.push(Ze);const gn=Ct().then(pr=>{if(pr)return W.getId()}),[jn,dr]=yield Promise.all([Ze,gn]);Wl()||co(Me,jn.measurementId),he("js",new Date);const vn=null!==(lt=null==Be?void 0:Be.config)&&void 0!==lt?lt:{};return vn.origin="firebase",vn.update=!0,null!=dr&&(vn[Sa]=dr),he("config",jn.measurementId,vn),jn.measurementId})).apply(this,arguments)}class od{constructor(R){this.app=R}_delete(){return delete Ur[this.app.options.appId],Promise.resolve()}}let Ur={},Ma=[];const qs={};let Da,Tt,uo="dataLayer",Aa=!1;function Wo(D,R,L){!function(){const D=[];if((0,ce.ru)()&&D.push("This is a browser extension environment."),(0,ce.zI)()||D.push("Cookies are not available."),D.length>0){const R=D.map((W,he)=>`(${he+1}) ${W}`).join(" "),L=Br.create("invalid-analytics-context",{errorInfo:R});An.warn(L.message)}}();const W=D.options.appId;if(!W)throw Br.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Br.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ur[W])throw Br.create("already-exists",{id:W});if(!Aa){!function(D){let R=[];Array.isArray(window[D])?R=window[D]:window[D]=R}(uo);const{wrappedGtag:Me,gtagCore:Be}=function(D,R,L,W,he){let Me=function(...Be){window[W].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Me=window[he]),window[he]=function(D,R,L,W){function Me(){return(Me=(0,B.Z)(function*(Be,lt,Ze){try{"event"===Be?yield id(D,R,L,lt,Ze):"config"===Be?yield ol(D,R,L,W,lt,Ze):D("set",lt)}catch(gn){An.error(gn)}})).apply(this,arguments)}return function(Be,lt,Ze){return Me.apply(this,arguments)}}(Me,D,R,L),{gtagCore:Me,wrappedGtag:window[he]}}(Ur,Ma,qs,uo,"gtag");Tt=Me,Da=Be,Aa=!0}return Ur[W]=function(D,R,L,W,he,Me,Be){return Mn.apply(this,arguments)}(D,Ma,qs,R,Da,uo,L),new od(D)}function A1(){return(A1=(0,B.Z)(function*(D,R,L,W,he){if(he&&he.global)D("event",L,W);else{const Me=yield R;D("event",L,Object.assign(Object.assign({},W),{send_to:Me}))}})).apply(this,arguments)}function rs(){return ws.apply(this,arguments)}function ws(){return(ws=(0,B.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(D){return!1}})).apply(this,arguments)}const ho="@firebase/analytics";(0,we._registerComponent)(new fe.wA(js,(R,{options:L})=>Wo(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,we._registerComponent)(new fe.wA("analytics-internal",function(R){try{const L=R.getProvider(js).getImmediate();return{logEvent:(W,he,Me)=>function(D,R,L,W){D=(0,ce.m9)(D),function(D,R,L,W,he){return A1.apply(this,arguments)}(Tt,Ur[D.app.options.appId],R,L,W).catch(he=>An.error(he))}(L,W,he,Me)}}catch(L){throw Br.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,we.registerVersion)(ho,"0.7.5"),(0,we.registerVersion)(ho,"0.7.5","esm2017");var tr=V(2869),Ar=V(8843);const Pi=new class extends Ar.v{}(class extends tr.o{constructor(R,L){super(R,L),this.scheduler=R,this.work=L}schedule(R,L=0){return L>0?super.schedule(R,L):(this.delay=L,this.state=R,this.scheduler.flush(this),this)}execute(R,L){return L>0||this.closed?super.execute(R,L):this._execute(R,L)}requestAsyncId(R,L,W=0){return null!=W&&W>0||null==W&&this.delay>0?super.requestAsyncId(R,L,W):R.flush(this)}});var Ql=V(2210),Es=V(7384),Kr=V(4763),fo=V(5222);const is=new h.GfV("7.1.1"),Ft="__angularfire_symbol__analyticsIsSupported",xs="__angularfire_symbol__remoteConfigIsSupported",k1="__angularfire_symbol__messagingIsSupported";function Ts(D,R,L){if(R){if(1===R.length)return R[0];const Me=R.filter(Be=>Be.app===L);if(1===Me.length)return Me[0]}return L.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ft]||(globalThis[Ft]=rs().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[k1]||(globalThis[k1]=Mc().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[xs]||(globalThis[xs]=wc().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const Xd=(D,R)=>{const L=R?[R]:(0,pe.C6)(),W=[];return L.forEach(he=>{he.container.getProvider(D).instances.forEach(Be=>{W.includes(Be)||W.push(Be)})}),W};function Is(){}class po{constructor(R,L=Pi){this.zone=R,this.delegate=L}now(){return this.delegate.now()}schedule(R,L,W){const he=this.zone;return this.delegate.schedule(function(Be){he.runGuarded(()=>{R.apply(this,[Be])})},L,W)}}class N1{constructor(R){this.zone=R,this.task=null}call(R,L){const W=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Is,{},Is,Is)),L.pipe((0,Es.b)({next:W,complete:W,error:W})).subscribe(R).add(W)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let O1=(()=>{class D{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new po(Zone.current)),this.insideAngular=L.run(()=>new po(Zone.current,Ql.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(L){return new(L||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function al(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Jt(D){return D.pipe((0,Kr.Q)(al().outsideAngular))}function Yo(D){return al(),function(D){return function(L){return(L=L.lift(new N1(D.ngZone))).pipe((0,fo.R)(D.outsideAngular),(0,Kr.Q)(D.insideAngular))}}(al())(D)}},4213:(pt,xe,V)=>{"use strict";V.d(xe,{BH:()=>Xe,LL:()=>q,ZR:()=>Y,zI:()=>Z,US:()=>fe,tV:()=>me,$s:()=>Zi,r3:()=>cn,Sg:()=>Fe,ne:()=>ps,vZ:()=>xr,ZB:()=>ee,pd:()=>No,m9:()=>Yn,z$:()=>rt,jU:()=>de,ru:()=>Ee,d:()=>De,xb:()=>Yt,w1:()=>$e,hl:()=>ye,uI:()=>Ye,UG:()=>_e,b$:()=>Oe,G6:()=>at,Mn:()=>He,xO:()=>Kt,zd:()=>Ps,eu:()=>H});const we=function(ie){const Q=[];let se=0;for(let Re=0;Re<ie.length;Re++){let Ce=ie.charCodeAt(Re);Ce<128?Q[se++]=Ce:Ce<2048?(Q[se++]=Ce>>6|192,Q[se++]=63&Ce|128):55296==(64512&Ce)&&Re+1<ie.length&&56320==(64512&ie.charCodeAt(Re+1))?(Ce=65536+((1023&Ce)<<10)+(1023&ie.charCodeAt(++Re)),Q[se++]=Ce>>18|240,Q[se++]=Ce>>12&63|128,Q[se++]=Ce>>6&63|128,Q[se++]=63&Ce|128):(Q[se++]=Ce>>12|224,Q[se++]=Ce>>6&63|128,Q[se++]=63&Ce|128)}return Q},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,Q){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[];for(let Ce=0;Ce<ie.length;Ce+=3){const yt=ie[Ce],It=Ce+1<ie.length,En=It?ie[Ce+1]:0,Qn=Ce+2<ie.length,Bn=Qn?ie[Ce+2]:0;let Sr=(15&En)<<2|Bn>>6,Ki=63&Bn;Qn||(Ki=64,It||(Sr=64)),Re.push(se[yt>>2],se[(3&yt)<<4|En>>4],se[Sr],se[Ki])}return Re.join("")},encodeString(ie,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(ie):this.encodeByteArray(we(ie),Q)},decodeString(ie,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(ie):function(ie){const Q=[];let se=0,Re=0;for(;se<ie.length;){const Ce=ie[se++];if(Ce<128)Q[Re++]=String.fromCharCode(Ce);else if(Ce>191&&Ce<224){const yt=ie[se++];Q[Re++]=String.fromCharCode((31&Ce)<<6|63&yt)}else if(Ce>239&&Ce<365){const Qn=((7&Ce)<<18|(63&ie[se++])<<12|(63&ie[se++])<<6|63&ie[se++])-65536;Q[Re++]=String.fromCharCode(55296+(Qn>>10)),Q[Re++]=String.fromCharCode(56320+(1023&Qn))}else{const yt=ie[se++],It=ie[se++];Q[Re++]=String.fromCharCode((15&Ce)<<12|(63&yt)<<6|63&It)}}return Q.join("")}(this.decodeStringToByteArray(ie,Q))},decodeStringToByteArray(ie,Q){this.init_();const se=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[];for(let Ce=0;Ce<ie.length;){const yt=se[ie.charAt(Ce++)],En=Ce<ie.length?se[ie.charAt(Ce)]:0;++Ce;const Bn=Ce<ie.length?se[ie.charAt(Ce)]:64;++Ce;const an=Ce<ie.length?se[ie.charAt(Ce)]:64;if(++Ce,null==yt||null==En||null==Bn||null==an)throw Error();Re.push(yt<<2|En>>4),64!==Bn&&(Re.push(En<<4&240|Bn>>2),64!==an&&Re.push(Bn<<6&192|an))}return Re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},be=function(ie){return function(ie){const Q=we(ie);return fe.encodeByteArray(Q,!0)}(ie).replace(/\./g,"")},me=function(ie){try{return fe.decodeString(ie,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function ee(ie,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return Q}for(const se in Q)!Q.hasOwnProperty(se)||!ue(se)||(ie[se]=ee(ie[se],Q[se]));return ie}function ue(ie){return"__proto__"!==ie}class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,se)=>{this.resolve=Q,this.reject=se})}wrapCallback(Q){return(se,Re)=>{se?this.reject(se):this.resolve(Re),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(se):Q(se,Re))}}}function Fe(ie,Q){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Re=Q||"demo-project",Ce=ie.iat||0,yt=ie.sub||ie.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const It=Object.assign({iss:`https://securetoken.google.com/${Re}`,aud:Re,iat:Ce,exp:Ce+3600,auth_time:Ce,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(It)),""].join(".")}function rt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ie){return!1}}function de(){return"object"==typeof self&&self.self===self}function Ee(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return rt().indexOf("Electron/")>=0}function $e(){const ie=rt();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function He(){return rt().indexOf("MSAppHost/")>=0}function at(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){return"object"==typeof indexedDB}function H(){return new Promise((ie,Q)=>{try{let se=!0;const Re="validate-browser-context-for-indexeddb-analytics-module",Ce=self.indexedDB.open(Re);Ce.onsuccess=()=>{Ce.result.close(),se||self.indexedDB.deleteDatabase(Re),ie(!0)},Ce.onupgradeneeded=()=>{se=!1},Ce.onerror=()=>{var yt;Q((null===(yt=Ce.error)||void 0===yt?void 0:yt.message)||"")}}catch(se){Q(se)}})}function Z(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Y extends Error{constructor(Q,se,Re){super(se),this.code=Q,this.customData=Re,this.name="FirebaseError",Object.setPrototypeOf(this,Y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(Q,se,Re){this.service=Q,this.serviceName=se,this.errors=Re}create(Q,...se){const Re=se[0]||{},Ce=`${this.service}/${Q}`,yt=this.errors[Q],It=yt?function(ie,Q){return ie.replace(je,(se,Re)=>{const Ce=Q[Re];return null!=Ce?String(Ce):`<${Re}?>`})}(yt,Re):"Error";return new Y(Ce,`${this.serviceName}: ${It} (${Ce}).`,Re)}}const je=/\{\$([^}]+)}/g;function cn(ie,Q){return Object.prototype.hasOwnProperty.call(ie,Q)}function Yt(ie){for(const Q in ie)if(Object.prototype.hasOwnProperty.call(ie,Q))return!1;return!0}function xr(ie,Q){if(ie===Q)return!0;const se=Object.keys(ie),Re=Object.keys(Q);for(const Ce of se){if(!Re.includes(Ce))return!1;const yt=ie[Ce],It=Q[Ce];if(ro(yt)&&ro(It)){if(!xr(yt,It))return!1}else if(yt!==It)return!1}for(const Ce of Re)if(!se.includes(Ce))return!1;return!0}function ro(ie){return null!==ie&&"object"==typeof ie}function Kt(ie){const Q=[];for(const[se,Re]of Object.entries(ie))Array.isArray(Re)?Re.forEach(Ce=>{Q.push(encodeURIComponent(se)+"="+encodeURIComponent(Ce))}):Q.push(encodeURIComponent(se)+"="+encodeURIComponent(Re));return Q.length?"&"+Q.join("&"):""}function Ps(ie){const Q={};return ie.replace(/^\?/,"").split("&").forEach(Re=>{if(Re){const[Ce,yt]=Re.split("=");Q[decodeURIComponent(Ce)]=decodeURIComponent(yt)}}),Q}function No(ie){const Q=ie.indexOf("?");if(!Q)return"";const se=ie.indexOf("#",Q);return ie.substring(Q,se>0?se:void 0)}function ps(ie,Q){const se=new Oo(ie,Q);return se.subscribe.bind(se)}class Oo{constructor(Q,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{Q(this)}).catch(Re=>{this.error(Re)})}next(Q){this.forEachObserver(se=>{se.next(Q)})}error(Q){this.forEachObserver(se=>{se.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,se,Re){let Ce;if(void 0===Q&&void 0===se&&void 0===Re)throw new Error("Missing Observer.");Ce=function(ie,Q){if("object"!=typeof ie||null===ie)return!1;for(const se of["next","error","complete"])if(se in ie&&"function"==typeof ie[se])return!0;return!1}(Q)?Q:{next:Q,error:se,complete:Re},void 0===Ce.next&&(Ce.next=Si),void 0===Ce.error&&(Ce.error=Si),void 0===Ce.complete&&(Ce.complete=Si);const yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ce.error(this.finalError):Ce.complete()}catch(It){}}),this.observers.push(Ce),yt}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,Q)}sendOne(Q,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{se(this.observers[Q])}catch(Re){"undefined"!=typeof console&&console.error&&console.error(Re)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Si(){}function Zi(ie,Q=1e3,se=2){const Re=Q*Math.pow(se,ie),Ce=Math.round(.5*Re*(Math.random()-.5)*2);return Math.min(144e5,Re+Ce)}function Yn(ie){return ie&&ie._delegate?ie._delegate:ie}},7417:(pt,xe,V)=>{!function(h){"use strict";function pe(B,we){var ce=B.getLine(we),fe=ce.search(/\S/);return-1==fe||/\bcomment\b/.test(B.getTokenTypeAt(h.Pos(we,fe+1)))?-1:h.countColumn(ce,null,B.getOption("tabSize"))}h.registerHelper("fold","indent",function(B,we){var ce=pe(B,we.line);if(!(ce<0)){for(var fe=null,le=we.line+1,be=B.lastLine();le<=be;++le){var me=pe(B,le);if(-1!=me){if(!(me>ce))break;fe=le}}if(fe)return{from:h.Pos(we.line,B.getLine(we.line).length),to:h.Pos(fe,B.getLine(fe).length)}}})}(V(5233))},5233:function(pt){pt.exports=function(){"use strict";var xe=navigator.userAgent,V=navigator.platform,h=/gecko\/\d/i.test(xe),pe=/MSIE \d/.test(xe),B=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xe),we=/Edge\/(\d+)/.exec(xe),ce=pe||B||we,fe=ce&&(pe?document.documentMode||6:+(we||B)[1]),le=!we&&/WebKit\//.test(xe),be=le&&/Qt\/\d+\.\d+/.test(xe),me=!we&&/Chrome\//.test(xe),J=/Opera\//.test(xe),ee=/Apple Computer/.test(navigator.vendor),ue=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(xe),Xe=/PhantomJS/.test(xe),Fe=ee&&(/Mobile\/\w+/.test(xe)||navigator.maxTouchPoints>2),rt=/Android/.test(xe),Ye=Fe||rt||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(xe),_e=Fe||/Mac/.test(V),de=/\bCrOS\b/.test(xe),Ee=/win/i.test(V),Oe=J&&xe.match(/Version\/(\d*\.\d*)/);Oe&&(Oe=Number(Oe[1])),Oe&&Oe>=15&&(J=!1,le=!0);var De=_e&&(be||J&&(null==Oe||Oe<12.11)),$e=h||ce&&fe>=9;function He(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var te,et=function(a,l){var d=a.className,p=He(l).exec(d);if(p){var v=d.slice(p.index+p[0].length);a.className=d.slice(0,p.index)+(v?p[1]+v:"")}};function at(a){for(var l=a.childNodes.length;l>0;--l)a.removeChild(a.firstChild);return a}function ye(a,l){return at(a).appendChild(l)}function H(a,l,d,p){var v=document.createElement(a);if(d&&(v.className=d),p&&(v.style.cssText=p),"string"==typeof l)v.appendChild(document.createTextNode(l));else if(l)for(var b=0;b<l.length;++b)v.appendChild(l[b]);return v}function Z(a,l,d,p){var v=H(a,l,d,p);return v.setAttribute("role","presentation"),v}function re(a,l){if(3==l.nodeType&&(l=l.parentNode),a.contains)return a.contains(l);do{if(11==l.nodeType&&(l=l.host),l==a)return!0}while(l=l.parentNode)}function Y(){var a;try{a=document.activeElement}catch(l){a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function q(a,l){var d=a.className;He(l).test(d)||(a.className+=(d?" ":"")+l)}function ze(a,l){for(var d=a.split(" "),p=0;p<d.length;p++)d[p]&&!He(d[p]).test(l)&&(l+=" "+d[p]);return l}te=document.createRange?function(a,l,d,p){var v=document.createRange();return v.setEnd(p||a,d),v.setStart(a,l),v}:function(a,l,d){var p=document.body.createTextRange();try{p.moveToElementText(a.parentNode)}catch(v){return p}return p.collapse(!0),p.moveEnd("character",d),p.moveStart("character",l),p};var je=function(a){a.select()};function Rt(a){var l=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,l)}}function Ge(a,l,d){for(var p in l||(l={}),a)a.hasOwnProperty(p)&&(!1!==d||!l.hasOwnProperty(p))&&(l[p]=a[p]);return l}function Je(a,l,d,p,v){null==l&&-1==(l=a.search(/[^\s\u00a0]/))&&(l=a.length);for(var b=p||0,x=v||0;;){var I=a.indexOf("\t",b);if(I<0||I>=l)return x+(l-b);x+=I-b,x+=d-x%d,b=I+1}}Fe?je=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:ce&&(je=function(a){try{a.select()}catch(l){}});var vt=function(){this.id=null,this.f=null,this.time=0,this.handler=Rt(this.onTimeout,this)};function _t(a,l){for(var d=0;d<a.length;++d)if(a[d]==l)return d;return-1}vt.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},vt.prototype.set=function(a,l){this.f=l;var d=+new Date+a;(!this.id||d<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=d)};var Er={toString:function(){return"CodeMirror.Pass"}},cn={scroll:!1},Hn={origin:"*mouse"},Yt={origin:"+move"};function Vr(a,l,d){for(var p=0,v=0;;){var b=a.indexOf("\t",p);-1==b&&(b=a.length);var x=b-p;if(b==a.length||v+x>=l)return p+Math.min(x,l-v);if(v+=b-p,p=b+1,(v+=d-v%d)>=l)return p}}var xr=[""];function ro(a){for(;xr.length<=a;)xr.push(Kt(xr)+" ");return xr[a]}function Kt(a){return a[a.length-1]}function Ps(a,l){for(var d=[],p=0;p<a.length;p++)d[p]=l(a[p],p);return d}function xi(){}function ps(a,l){var d;return Object.create?d=Object.create(a):(xi.prototype=a,d=new xi),l&&Ge(l,d),d}var Oo=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function bt(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||Oo.test(a))}function or(a,l){return l?!!(l.source.indexOf("\\w")>-1&&bt(a))||l.test(a):bt(a)}function Si(a){for(var l in a)if(a.hasOwnProperty(l)&&a[l])return!1;return!0}var Wi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Pt(a){return a.charCodeAt(0)>=768&&Wi.test(a)}function Ot(a,l,d){for(;(d<0?l>0:l<a.length)&&Pt(a.charAt(l));)l+=d;return l}function on(a,l,d){for(var p=l>d?-1:1;;){if(l==d)return l;var v=(l+d)/2,b=p<0?Math.ceil(v):Math.floor(v);if(b==l)return a(b)?l:d;a(b)?d=b:l=b+p}}var Nr=null;function xn(a,l,d){var p;Nr=null;for(var v=0;v<a.length;++v){var b=a[v];if(b.from<l&&b.to>l)return v;b.to==l&&(b.from!=b.to&&"before"==d?p=v:Nr=v),b.from==l&&(b.from!=b.to&&"before"!=d?p=v:Nr=v)}return null!=p?p:Nr}var ht=function(){function d(N){return N<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(N):1424<=N&&N<=1524?"R":1536<=N&&N<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(N-1536):1774<=N&&N<=2220?"r":8192<=N&&N<=8203?"w":8204==N?"b":"L"}var p=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,v=/[stwN]/,b=/[LRr]/,x=/[Lb1n]/,I=/[1n]/;function M(N,z,G){this.level=N,this.from=z,this.to=G}return function(N,z){var G="ltr"==z?"L":"R";if(0==N.length||"ltr"==z&&!p.test(N))return!1;for(var oe=N.length,ne=[],Se=0;Se<oe;++Se)ne.push(d(N.charCodeAt(Se)));for(var Pe=0,qe=G;Pe<oe;++Pe){var tt=ne[Pe];"m"==tt?ne[Pe]=qe:qe=tt}for(var it=0,nt=G;it<oe;++it){var dt=ne[it];"1"==dt&&"r"==nt?ne[it]="n":b.test(dt)&&(nt=dt,"r"==dt&&(ne[it]="R"))}for(var Mt=1,Et=ne[0];Mt<oe-1;++Mt){var Qt=ne[Mt];"+"==Qt&&"1"==Et&&"1"==ne[Mt+1]?ne[Mt]="1":","==Qt&&Et==ne[Mt+1]&&("1"==Et||"n"==Et)&&(ne[Mt]=Et),Et=Qt}for(var Fn=0;Fn<oe;++Fn){var rr=ne[Fn];if(","==rr)ne[Fn]="N";else if("%"==rr){var ir=void 0;for(ir=Fn+1;ir<oe&&"%"==ne[ir];++ir);for(var Ks=Fn&&"!"==ne[Fn-1]||ir<oe&&"1"==ne[ir]?"1":"N",cs=Fn;cs<ir;++cs)ne[cs]=Ks;Fn=ir-1}}for(var kr=0,Ys=G;kr<oe;++kr){var Fi=ne[kr];"L"==Ys&&"1"==Fi?ne[kr]="L":b.test(Fi)&&(Ys=Fi)}for(var li=0;li<oe;++li)if(v.test(ne[li])){var Qr=void 0;for(Qr=li+1;Qr<oe&&v.test(ne[Qr]);++Qr);for(var Rr="L"==(li?ne[li-1]:G),Vu=Rr==("L"==(Qr<oe?ne[Qr]:G))?Rr?"L":"R":G,wr=li;wr<Qr;++wr)ne[wr]=Vu;li=Qr-1}for(var Js,zi=[],Fr=0;Fr<oe;)if(x.test(ne[Fr])){var f2=Fr;for(++Fr;Fr<oe&&x.test(ne[Fr]);++Fr);zi.push(new M(0,f2,Fr))}else{var Xs=Fr,W1=zi.length,ta="rtl"==z?1:0;for(++Fr;Fr<oe&&"L"!=ne[Fr];++Fr);for(var Vi=Xs;Vi<Fr;)if(I.test(ne[Vi])){Xs<Vi&&(zi.splice(W1,0,new M(1,Xs,Vi)),W1+=ta);var Hu=Vi;for(++Vi;Vi<Fr&&I.test(ne[Vi]);++Vi);zi.splice(W1,0,new M(2,Hu,Vi)),W1+=ta,Xs=Vi}else++Vi;Xs<Fr&&zi.splice(W1,0,new M(1,Xs,Fr))}return"ltr"==z&&(1==zi[0].level&&(Js=N.match(/^\s+/))&&(zi[0].from=Js[0].length,zi.unshift(new M(0,0,Js[0].length))),1==Kt(zi).level&&(Js=N.match(/\s+$/))&&(Kt(zi).to-=Js[0].length,zi.push(new M(0,oe-Js[0].length,oe)))),"rtl"==z?zi.reverse():zi}}();function xt(a,l){var d=a.order;return null==d&&(d=a.order=ht(a.text,l)),d}var ms=[],wt=function(a,l,d){if(a.addEventListener)a.addEventListener(l,d,!1);else if(a.attachEvent)a.attachEvent("on"+l,d);else{var p=a._handlers||(a._handlers={});p[l]=(p[l]||ms).concat(d)}};function Zi(a,l){return a._handlers&&a._handlers[l]||ms}function nn(a,l,d){if(a.removeEventListener)a.removeEventListener(l,d,!1);else if(a.detachEvent)a.detachEvent("on"+l,d);else{var p=a._handlers,v=p&&p[l];if(v){var b=_t(v,d);b>-1&&(p[l]=v.slice(0,b).concat(v.slice(b+1)))}}}function wn(a,l){var d=Zi(a,l);if(d.length)for(var p=Array.prototype.slice.call(arguments,2),v=0;v<d.length;++v)d[v].apply(null,p)}function Yn(a,l,d){return"string"==typeof l&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),wn(a,d||l.type,a,l),yt(l)||l.codemirrorIgnore}function ie(a){var l=a._handlers&&a._handlers.cursorActivity;if(l)for(var d=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),p=0;p<l.length;++p)-1==_t(d,l[p])&&d.push(l[p])}function Q(a,l){return Zi(a,l).length>0}function se(a){a.prototype.on=function(l,d){wt(this,l,d)},a.prototype.off=function(l,d){nn(this,l,d)}}function Re(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Ce(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function yt(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function It(a){Re(a),Ce(a)}function En(a){return a.target||a.srcElement}function Qn(a){var l=a.which;return null==l&&(1&a.button?l=1:2&a.button?l=3:4&a.button&&(l=2)),_e&&a.ctrlKey&&1==l&&(l=3),l}var Ti,Sr,Bn=function(){if(ce&&fe<9)return!1;var a=H("div");return"draggable"in a||"dragDrop"in a}();function an(a){if(null==Ti){var l=H("span","\u200b");ye(a,H("span",[l,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Ti=l.offsetWidth<=1&&l.offsetHeight>2&&!(ce&&fe<8))}var d=Ti?H("span","\u200b"):H("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return d.setAttribute("cm-text",""),d}function Ki(a){if(null!=Sr)return Sr;var l=ye(a,document.createTextNode("A\u062eA")),d=te(l,0,1).getBoundingClientRect(),p=te(l,1,2).getBoundingClientRect();return at(a),!(!d||d.left==d.right)&&(Sr=p.right-d.right<3)}var a,ma=3!="\n\nb".split(/\n/).length?function(a){for(var l=0,d=[],p=a.length;l<=p;){var v=a.indexOf("\n",l);-1==v&&(v=a.length);var b=a.slice(l,"\r"==a.charAt(v-1)?v-1:v),x=b.indexOf("\r");-1!=x?(d.push(b.slice(0,x)),l+=x+1):(d.push(b),l=v+1)}return d}:function(a){return a.split(/\r\n?|\n/)},u1=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(l){return!1}}:function(a){var l;try{l=a.ownerDocument.selection.createRange()}catch(d){}return!(!l||l.parentElement()!=a)&&0!=l.compareEndPoints("StartToEnd",l)},d1="oncopy"in(a=H("div"))||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy),Ka=null;var Jn={},fi={};function Yi(a,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),Jn[a]=l}function Ii(a){if("string"==typeof a&&fi.hasOwnProperty(a))a=fi[a];else if(a&&"string"==typeof a.name&&fi.hasOwnProperty(a.name)){var l=fi[a.name];"string"==typeof l&&(l={name:l}),(a=ps(l,a)).name=l.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Ii("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Ii("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function ut(a,l){l=Ii(l);var d=Jn[l.name];if(!d)return ut(a,"text/plain");var p=d(a,l);if($t.hasOwnProperty(l.name)){var v=$t[l.name];for(var b in v)!v.hasOwnProperty(b)||(p.hasOwnProperty(b)&&(p["_"+b]=p[b]),p[b]=v[b])}if(p.name=l.name,l.helperType&&(p.helperType=l.helperType),l.modeProps)for(var x in l.modeProps)p[x]=l.modeProps[x];return p}var $t={};function Wn(a,l){Ge(l,$t.hasOwnProperty(a)?$t[a]:$t[a]={})}function Or(a,l){if(!0===l)return l;if(a.copyState)return a.copyState(l);var d={};for(var p in l){var v=l[p];v instanceof Array&&(v=v.concat([])),d[p]=v}return d}function Mi(a,l){for(var d;a.innerMode&&(d=a.innerMode(l))&&d.mode!=a;)l=d.state,a=d.mode;return d||{mode:a,state:l}}function Tr(a,l,d){return!a.startState||a.startState(l,d)}var Wt=function(a,l,d){this.pos=this.start=0,this.string=a,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=d};function ot(a,l){if((l-=a.first)<0||l>=a.size)throw new Error("There is no line "+(l+a.first)+" in the document.");for(var d=a;!d.lines;)for(var p=0;;++p){var v=d.children[p],b=v.chunkSize();if(l<b){d=v;break}l-=b}return d.lines[l]}function Qi(a,l,d){var p=[],v=l.line;return a.iter(l.line,d.line+1,function(b){var x=b.text;v==d.line&&(x=x.slice(0,d.ch)),v==l.line&&(x=x.slice(l.ch)),p.push(x),++v}),p}function Po(a,l,d){var p=[];return a.iter(l,d,function(v){p.push(v.text)}),p}function zt(a,l){var d=l-a.height;if(d)for(var p=a;p;p=p.parent)p.height+=d}function _n(a){if(null==a.parent)return null;for(var l=a.parent,d=_t(l.lines,a),p=l.parent;p;l=p,p=p.parent)for(var v=0;p.children[v]!=l;++v)d+=p.children[v].chunkSize();return d+l.first}function Di(a,l){var d=a.first;e:do{for(var p=0;p<a.children.length;++p){var v=a.children[p],b=v.height;if(l<b){a=v;continue e}l-=b,d+=v.chunkSize()}return d}while(!a.lines);for(var x=0;x<a.lines.length;++x){var M=a.lines[x].height;if(l<M)break;l-=M}return d+x}function ti(a,l){return l>=a.first&&l<a.first+a.size}function io(a,l){return String(a.lineNumberFormatter(l+a.firstLineNumber))}function Ae(a,l,d){if(void 0===d&&(d=null),!(this instanceof Ae))return new Ae(a,l,d);this.line=a,this.ch=l,this.sticky=d}function Bt(a,l){return a.line-l.line||a.ch-l.ch}function Ls(a,l){return a.sticky==l.sticky&&0==Bt(a,l)}function Ji(a){return Ae(a.line,a.ch)}function Sn(a,l){return Bt(a,l)<0?l:a}function f1(a,l){return Bt(a,l)<0?a:l}function so(a,l){return Math.max(a.first,Math.min(l,a.first+a.size-1))}function Lt(a,l){if(l.line<a.first)return Ae(a.first,0);var d=a.first+a.size-1;return l.line>d?Ae(d,ot(a,d).text.length):function(a,l){var d=a.ch;return null==d||d>l?Ae(a.line,l):d<0?Ae(a.line,0):a}(l,ot(a,l.line).text.length)}function pi(a,l){for(var d=[],p=0;p<l.length;p++)d[p]=Lt(a,l[p]);return d}Wt.prototype.eol=function(){return this.pos>=this.string.length},Wt.prototype.sol=function(){return this.pos==this.lineStart},Wt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Wt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Wt.prototype.eat=function(a){var l=this.string.charAt(this.pos);if("string"==typeof a?l==a:l&&(a.test?a.test(l):a(l)))return++this.pos,l},Wt.prototype.eatWhile=function(a){for(var l=this.pos;this.eat(a););return this.pos>l},Wt.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Wt.prototype.skipToEnd=function(){this.pos=this.string.length},Wt.prototype.skipTo=function(a){var l=this.string.indexOf(a,this.pos);if(l>-1)return this.pos=l,!0},Wt.prototype.backUp=function(a){this.pos-=a},Wt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Je(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Je(this.string,this.lineStart,this.tabSize):0)},Wt.prototype.indentation=function(){return Je(this.string,null,this.tabSize)-(this.lineStart?Je(this.string,this.lineStart,this.tabSize):0)},Wt.prototype.match=function(a,l,d){if("string"!=typeof a){var b=this.string.slice(this.pos).match(a);return b&&b.index>0?null:(b&&!1!==l&&(this.pos+=b[0].length),b)}var p=function(x){return d?x.toLowerCase():x};if(p(this.string.substr(this.pos,a.length))==p(a))return!1!==l&&(this.pos+=a.length),!0},Wt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Wt.prototype.hideFirstChars=function(a,l){this.lineStart+=a;try{return l()}finally{this.lineStart-=a}},Wt.prototype.lookAhead=function(a){var l=this.lineOracle;return l&&l.lookAhead(a)},Wt.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var Lo=function(a,l){this.state=a,this.lookAhead=l},$r=function(a,l,d,p){this.state=l,this.doc=a,this.line=d,this.maxLookAhead=p||0,this.baseTokens=null,this.baseTokenPos=1};function ar(a,l,d,p){var v=[a.state.modeGen],b={};v1(a,l.text,a.doc.mode,d,function(N,z){return v.push(N,z)},b,p);for(var x=d.state,I=function(N){d.baseTokens=v;var z=a.state.overlays[N],G=1,oe=0;d.state=!0,v1(a,l.text,z.mode,d,function(ne,Se){for(var Pe=G;oe<ne;){var qe=v[G];qe>ne&&v.splice(G,1,ne,v[G+1],qe),G+=2,oe=Math.min(ne,qe)}if(Se)if(z.opaque)v.splice(Pe,G-Pe,ne,"overlay "+Se),G=Pe+2;else for(;Pe<G;Pe+=2){var tt=v[Pe+1];v[Pe+1]=(tt?tt+" ":"")+"overlay "+Se}},b),d.state=x,d.baseTokens=null,d.baseTokenPos=1},M=0;M<a.state.overlays.length;++M)I(M);return{styles:v,classes:b.bgClass||b.textClass?b:null}}function p1(a,l,d){if(!l.styles||l.styles[0]!=a.state.modeGen){var p=ni(a,_n(l)),v=l.text.length>a.options.maxHighlightLength&&Or(a.doc.mode,p.state),b=ar(a,l,p);v&&(p.state=v),l.stateAfter=p.save(!v),l.styles=b.styles,b.classes?l.styleClasses=b.classes:l.styleClasses&&(l.styleClasses=null),d===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return l.styles}function ni(a,l,d){var p=a.doc,v=a.display;if(!p.mode.startState)return new $r(p,!0,l);var b=function(a,l,d){for(var p,v,b=a.doc,x=d?-1:l-(a.doc.mode.innerMode?1e3:100),I=l;I>x;--I){if(I<=b.first)return b.first;var M=ot(b,I-1),N=M.stateAfter;if(N&&(!d||I+(N instanceof Lo?N.lookAhead:0)<=b.modeFrontier))return I;var z=Je(M.text,null,a.options.tabSize);(null==v||p>z)&&(v=I-1,p=z)}return v}(a,l,d),x=b>p.first&&ot(p,b-1).stateAfter,I=x?$r.fromSaved(p,x,b):new $r(p,Tr(p.mode),b);return p.iter(b,l,function(M){gs(a,M.text,I);var N=I.line;M.stateAfter=N==l-1||N%5==0||N>=v.viewFrom&&N<v.viewTo?I.save():null,I.nextLine()}),d&&(p.modeFrontier=I.line),I}function gs(a,l,d,p){var v=a.doc.mode,b=new Wt(l,a.options.tabSize,d);for(b.start=b.pos=p||0,""==l&&m1(v,d.state);!b.eol();)oo(v,b,d.state),b.start=b.pos}function m1(a,l){if(a.blankLine)return a.blankLine(l);if(a.innerMode){var d=Mi(a,l);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function oo(a,l,d,p){for(var v=0;v<10;v++){p&&(p[0]=Mi(a,d).mode);var b=a.token(l,d);if(l.pos>l.start)return b}throw new Error("Mode "+a.name+" failed to advance stream.")}$r.prototype.lookAhead=function(a){var l=this.doc.getLine(this.line+a);return null!=l&&a>this.maxLookAhead&&(this.maxLookAhead=a),l},$r.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},$r.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},$r.fromSaved=function(a,l,d){return l instanceof Lo?new $r(a,Or(a.mode,l.state),d,l.lookAhead):new $r(a,Or(a.mode,l),d)},$r.prototype.save=function(a){var l=!1!==a?Or(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Lo(l,this.maxLookAhead):l};var Rl=function(a,l,d){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=l||null,this.state=d};function Xi(a,l,d,p){var x,z,v=a.doc,b=v.mode,I=ot(v,(l=Lt(v,l)).line),M=ni(a,l.line,d),N=new Wt(I.text,a.options.tabSize,M);for(p&&(z=[]);(p||N.pos<l.ch)&&!N.eol();)N.start=N.pos,x=oo(b,N,M.state),p&&z.push(new Rl(N,x,Or(v.mode,M.state)));return p?z:new Rl(N,x,M.state)}function g1(a,l){if(a)for(;;){var d=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;a=a.slice(0,d.index)+a.slice(d.index+d[0].length);var p=d[1]?"bgClass":"textClass";null==l[p]?l[p]=d[2]:new RegExp("(?:^|\\s)"+d[2]+"(?:$|\\s)").test(l[p])||(l[p]+=" "+d[2])}return a}function v1(a,l,d,p,v,b,x){var I=d.flattenSpans;null==I&&(I=a.options.flattenSpans);var G,M=0,N=null,z=new Wt(l,a.options.tabSize,p),oe=a.options.addModeClass&&[null];for(""==l&&g1(m1(d,p.state),b);!z.eol();){if(z.pos>a.options.maxHighlightLength?(I=!1,x&&gs(a,l,p,z.pos),z.pos=l.length,G=null):G=g1(oo(d,z,p.state,oe),b),oe){var ne=oe[0].name;ne&&(G="m-"+(G?ne+" "+G:ne))}if(!I||N!=G){for(;M<z.start;)v(M=Math.min(z.start,M+5e3),N);N=G}z.start=z.pos}for(;M<z.pos;){var Se=Math.min(z.pos,M+5e3);v(Se,N),M=Se}}var Zd=!1,Wr=!1;function hu(a,l,d){this.marker=a,this.from=l,this.to=d}function Fo(a,l){if(a)for(var d=0;d<a.length;++d){var p=a[d];if(p.marker==l)return p}}function Ol(a,l){for(var d,p=0;p<a.length;++p)a[p]!=l&&(d||(d=[])).push(a[p]);return d}function _1(a,l){if(l.full)return null;var d=ti(a,l.from.line)&&ot(a,l.from.line).markedSpans,p=ti(a,l.to.line)&&ot(a,l.to.line).markedSpans;if(!d&&!p)return null;var v=l.from.ch,b=l.to.ch,x=0==Bt(l.from,l.to),I=function(a,l,d){var p;if(a)for(var v=0;v<a.length;++v){var b=a[v],x=b.marker;null!=b.from&&!(x.inclusiveLeft?b.from<=l:b.from<l)&&(b.from!=l||"bookmark"!=x.type||d&&b.marker.insertLeft)||(p||(p=[])).push(new hu(x,b.from,null==b.to||(x.inclusiveRight?b.to>=l:b.to>l)?null:b.to))}return p}(d,v,x),M=function(a,l,d){var p;if(a)for(var v=0;v<a.length;++v){var b=a[v],x=b.marker;(null==b.to||(x.inclusiveRight?b.to>=l:b.to>l)||b.from==l&&"bookmark"==x.type&&(!d||b.marker.insertLeft))&&(p||(p=[])).push(new hu(x,null==b.from||(x.inclusiveLeft?b.from<=l:b.from<l)?null:b.from-l,null==b.to?null:b.to-l))}return p}(p,b,x),N=1==l.text.length,z=Kt(l.text).length+(N?v:0);if(I)for(var G=0;G<I.length;++G){var oe=I[G];if(null==oe.to){var ne=Fo(M,oe.marker);ne?N&&(oe.to=null==ne.to?null:ne.to+z):oe.to=v}}if(M)for(var Se=0;Se<M.length;++Se){var Pe=M[Se];null!=Pe.to&&(Pe.to+=z),null==Pe.from?Fo(I,Pe.marker)||(Pe.from=z,N&&(I||(I=[])).push(Pe)):(Pe.from+=z,N&&(I||(I=[])).push(Pe))}I&&(I=Ya(I)),M&&M!=I&&(M=Ya(M));var tt=[I];if(!N){var nt,it=l.text.length-2;if(it>0&&I)for(var dt=0;dt<I.length;++dt)null==I[dt].to&&(nt||(nt=[])).push(new hu(I[dt].marker,null,null));for(var Mt=0;Mt<it;++Mt)tt.push(nt);tt.push(M)}return tt}function Ya(a){for(var l=0;l<a.length;++l){var d=a[l];null!=d.from&&d.from==d.to&&!1!==d.marker.clearWhenEmpty&&a.splice(l--,1)}return a.length?a:null}function eh(a){var l=a.markedSpans;if(l){for(var d=0;d<l.length;++d)l[d].marker.detachLine(a);a.markedSpans=null}}function zo(a,l){if(l){for(var d=0;d<l.length;++d)l[d].marker.attachLine(a);a.markedSpans=l}}function wc(a){return a.inclusiveLeft?-1:0}function ga(a){return a.inclusiveRight?1:0}function ao(a,l){var d=a.lines.length-l.lines.length;if(0!=d)return d;var p=a.find(),v=l.find(),b=Bt(p.from,v.from)||wc(a)-wc(l);return b?-b:Bt(p.to,v.to)||ga(a)-ga(l)||l.id-a.id}function Pl(a,l){var p,d=Wr&&a.markedSpans;if(d)for(var v=void 0,b=0;b<d.length;++b)(v=d[b]).marker.collapsed&&null==(l?v.from:v.to)&&(!p||ao(p,v.marker)<0)&&(p=v.marker);return p}function Ai(a){return Pl(a,!0)}function va(a){return Pl(a,!1)}function Qa(a,l){var p,d=Wr&&a.markedSpans;if(d)for(var v=0;v<d.length;++v){var b=d[v];b.marker.collapsed&&(null==b.from||b.from<l)&&(null==b.to||b.to>l)&&(!p||ao(p,b.marker)<0)&&(p=b.marker)}return p}function y1(a,l,d,p,v){var b=ot(a,l),x=Wr&&b.markedSpans;if(x)for(var I=0;I<x.length;++I){var M=x[I];if(M.marker.collapsed){var N=M.marker.find(0),z=Bt(N.from,d)||wc(M.marker)-wc(v),G=Bt(N.to,p)||ga(M.marker)-ga(v);if(!(z>=0&&G<=0||z<=0&&G>=0)&&(z<=0&&(M.marker.inclusiveRight&&v.inclusiveLeft?Bt(N.to,d)>=0:Bt(N.to,d)>0)||z>=0&&(M.marker.inclusiveRight&&v.inclusiveLeft?Bt(N.from,p)<=0:Bt(N.from,p)<0)))return!0}}}function lo(a){for(var l;l=Ai(a);)a=l.find(-1,!0).line;return a}function _s(a,l){var d=ot(a,l),p=lo(d);return d==p?l:_n(p)}function Fs(a,l){if(l>a.lastLine())return l;var p,d=ot(a,l);if(!zs(a,d))return l;for(;p=va(d);)d=p.find(1,!0).line;return _n(d)+1}function zs(a,l){var d=Wr&&l.markedSpans;if(d)for(var p=void 0,v=0;v<d.length;++v)if((p=d[v]).marker.collapsed){if(null==p.from)return!0;if(!p.marker.widgetNode&&0==p.from&&p.marker.inclusiveLeft&&Ja(a,l,p))return!0}}function Ja(a,l,d){if(null==d.to){var p=d.marker.find(1,!0);return Ja(a,p.line,Fo(p.line.markedSpans,d.marker))}if(d.marker.inclusiveRight&&d.to==l.text.length)return!0;for(var v=void 0,b=0;b<l.markedSpans.length;++b)if((v=l.markedSpans[b]).marker.collapsed&&!v.marker.widgetNode&&v.from==d.to&&(null==v.to||v.to!=d.from)&&(v.marker.inclusiveLeft||d.marker.inclusiveRight)&&Ja(a,l,v))return!0}function Tn(a){for(var l=0,d=(a=lo(a)).parent,p=0;p<d.lines.length;++p){var v=d.lines[p];if(v==a)break;l+=v.height}for(var b=d.parent;b;b=(d=b).parent)for(var x=0;x<b.children.length;++x){var I=b.children[x];if(I==d)break;l+=I.height}return l}function Ll(a){if(0==a.height)return 0;for(var d,l=a.text.length,p=a;d=Ai(p);){var v=d.find(0,!0);p=v.from.line,l+=v.from.ch-v.to.ch}for(p=a;d=va(p);){var b=d.find(0,!0);l-=p.text.length-b.from.ch,l+=(p=b.to.line).text.length-b.to.ch}return l}function pu(a){var l=a.display,d=a.doc;l.maxLine=ot(d,d.first),l.maxLineLength=Ll(l.maxLine),l.maxLineChanged=!0,d.iter(function(p){var v=Ll(p);v>l.maxLineLength&&(l.maxLineLength=v,l.maxLine=p)})}var Vs=function(a,l,d){this.text=a,zo(this,l),this.height=d?d(this):1};function C1(a){a.parent=null,eh(a)}Vs.prototype.lineNo=function(){return _n(this)},se(Vs);var td={},On={};function Fl(a,l){if(!a||/^\s*$/.test(a))return null;var d=l.addModeClass?On:td;return d[a]||(d[a]=a.replace(/\S+/g,"cm-$&"))}function Xa(a,l){var d=Z("span",null,null,le?"padding-right: .1px":null),p={pre:Z("pre",[d],"CodeMirror-line"),content:d,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};l.measure={};for(var v=0;v<=(l.rest?l.rest.length:0);v++){var b=v?l.rest[v-1]:l.line,x=void 0;p.pos=0,p.addToken=_a,Ki(a.display.measure)&&(x=xt(b,a.doc.direction))&&(p.addToken=el(p.addToken,x)),p.map=[],w1(b,p,p1(a,b,l!=a.display.externalMeasured&&_n(b))),b.styleClasses&&(b.styleClasses.bgClass&&(p.bgClass=ze(b.styleClasses.bgClass,p.bgClass||"")),b.styleClasses.textClass&&(p.textClass=ze(b.styleClasses.textClass,p.textClass||""))),0==p.map.length&&p.map.push(0,0,p.content.appendChild(an(a.display.measure))),0==v?(l.measure.map=p.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(p.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(le){var M=p.content.lastChild;(/\bcm-tab\b/.test(M.className)||M.querySelector&&M.querySelector(".cm-tab"))&&(p.content.className="cm-tab-wrap-hack")}return wn(a,"renderLine",a,l.line,p.pre),p.pre.className&&(p.textClass=ze(p.pre.className,p.textClass||"")),p}function lr(a){var l=H("span","\u2022","cm-invalidchar");return l.title="\\u"+a.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function _a(a,l,d,p,v,b,x){if(l){var z,I=a.splitSpaces?function(a,l){if(a.length>1&&!/  /.test(a))return a;for(var d=l,p="",v=0;v<a.length;v++){var b=a.charAt(v);" "==b&&d&&(v==a.length-1||32==a.charCodeAt(v+1))&&(b="\xa0"),p+=b,d=" "==b}return p}(l,a.trailingSpace):l,M=a.cm.state.specialChars,N=!1;if(M.test(l)){z=document.createDocumentFragment();for(var G=0;;){M.lastIndex=G;var oe=M.exec(l),ne=oe?oe.index-G:l.length-G;if(ne){var Se=document.createTextNode(I.slice(G,G+ne));z.appendChild(ce&&fe<9?H("span",[Se]):Se),a.map.push(a.pos,a.pos+ne,Se),a.col+=ne,a.pos+=ne}if(!oe)break;G+=ne+1;var Pe=void 0;if("\t"==oe[0]){var qe=a.cm.options.tabSize,tt=qe-a.col%qe;(Pe=z.appendChild(H("span",ro(tt),"cm-tab"))).setAttribute("role","presentation"),Pe.setAttribute("cm-text","\t"),a.col+=tt}else"\r"==oe[0]||"\n"==oe[0]?((Pe=z.appendChild(H("span","\r"==oe[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",oe[0]),a.col+=1):((Pe=a.cm.options.specialCharPlaceholder(oe[0])).setAttribute("cm-text",oe[0]),z.appendChild(ce&&fe<9?H("span",[Pe]):Pe),a.col+=1);a.map.push(a.pos,a.pos+1,Pe),a.pos++}}else a.col+=l.length,z=document.createTextNode(I),a.map.push(a.pos,a.pos+l.length,z),ce&&fe<9&&(N=!0),a.pos+=l.length;if(a.trailingSpace=32==I.charCodeAt(l.length-1),d||p||v||N||b||x){var it=d||"";p&&(it+=p),v&&(it+=v);var nt=H("span",[z],it,b);if(x)for(var dt in x)x.hasOwnProperty(dt)&&"style"!=dt&&"class"!=dt&&nt.setAttribute(dt,x[dt]);return a.content.appendChild(nt)}a.content.appendChild(z)}}function el(a,l){return function(d,p,v,b,x,I,M){v=v?v+" cm-force-border":"cm-force-border";for(var N=d.pos,z=N+p.length;;){for(var G=void 0,oe=0;oe<l.length&&!((G=l[oe]).to>N&&G.from<=N);oe++);if(G.to>=z)return a(d,p,v,b,x,I,M);a(d,p.slice(0,G.to-N),v,b,null,I,M),b=null,p=p.slice(G.to-N),N=G.to}}}function Hr(a,l,d,p){var v=!p&&d.widgetNode;v&&a.map.push(a.pos,a.pos+l,v),!p&&a.cm.display.input.needsContentAttribute&&(v||(v=a.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",d.id)),v&&(a.cm.display.input.setUneditable(v),a.content.appendChild(v)),a.pos+=l,a.trailingSpace=!1}function w1(a,l,d){var p=a.markedSpans,v=a.text,b=0;if(p)for(var G,oe,Se,Pe,qe,tt,it,I=v.length,M=0,N=1,z="",ne=0;;){if(ne==M){Se=Pe=qe=oe="",it=null,tt=null,ne=1/0;for(var nt=[],dt=void 0,Mt=0;Mt<p.length;++Mt){var Et=p[Mt],Qt=Et.marker;if("bookmark"==Qt.type&&Et.from==M&&Qt.widgetNode)nt.push(Qt);else if(Et.from<=M&&(null==Et.to||Et.to>M||Qt.collapsed&&Et.to==M&&Et.from==M)){if(null!=Et.to&&Et.to!=M&&ne>Et.to&&(ne=Et.to,Pe=""),Qt.className&&(Se+=" "+Qt.className),Qt.css&&(oe=(oe?oe+";":"")+Qt.css),Qt.startStyle&&Et.from==M&&(qe+=" "+Qt.startStyle),Qt.endStyle&&Et.to==ne&&(dt||(dt=[])).push(Qt.endStyle,Et.to),Qt.title&&((it||(it={})).title=Qt.title),Qt.attributes)for(var Fn in Qt.attributes)(it||(it={}))[Fn]=Qt.attributes[Fn];Qt.collapsed&&(!tt||ao(tt.marker,Qt)<0)&&(tt=Et)}else Et.from>M&&ne>Et.from&&(ne=Et.from)}if(dt)for(var rr=0;rr<dt.length;rr+=2)dt[rr+1]==ne&&(Pe+=" "+dt[rr]);if(!tt||tt.from==M)for(var ir=0;ir<nt.length;++ir)Hr(l,0,nt[ir]);if(tt&&(tt.from||0)==M){if(Hr(l,(null==tt.to?I+1:tt.to)-M,tt.marker,null==tt.from),null==tt.to)return;tt.to==M&&(tt=!1)}}if(M>=I)break;for(var Ks=Math.min(I,ne);;){if(z){var cs=M+z.length;if(!tt){var kr=cs>Ks?z.slice(0,Ks-M):z;l.addToken(l,kr,G?G+Se:Se,qe,M+kr.length==ne?Pe:"",oe,it)}if(cs>=Ks){z=z.slice(Ks-M),M=Ks;break}M=cs,qe=""}z=v.slice(b,b=d[N++]),G=Fl(d[N++],l.cm.options)}}else for(var x=1;x<d.length;x+=2)l.addToken(l,v.slice(b,b=d[x]),Fl(d[x+1],l.cm.options))}function Vo(a,l,d){this.line=l,this.rest=function(a){for(var l,d;l=va(a);)a=l.find(1,!0).line,(d||(d=[])).push(a);return d}(l),this.size=this.rest?_n(Kt(this.rest))-d+1:1,this.node=this.text=null,this.hidden=zs(a,l)}function ys(a,l,d){for(var v,p=[],b=l;b<d;b=v){var x=new Vo(a.doc,ot(a.doc,b),b);v=b+x.size,p.push(x)}return p}var mn=null;var ri=null;function Ir(a,l){var d=Zi(a,l);if(d.length){var v,p=Array.prototype.slice.call(arguments,2);mn?v=mn.delayedCallbacks:ri?v=ri:(v=ri=[],setTimeout(zl,0));for(var b=function(I){v.push(function(){return d[I].apply(null,p)})},x=0;x<d.length;++x)b(x)}}function zl(){var a=ri;ri=null;for(var l=0;l<a.length;++l)a[l]()}function Vt(a,l,d,p){for(var v=0;v<l.changes.length;v++){var b=l.changes[v];"text"==b?Sc(a,l):"gutter"==b?Hl(a,l,d,p):"class"==b?E1(a,l):"widget"==b&&rd(a,l,p)}l.changes=null}function ba(a){return a.node==a.text&&(a.node=H("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),ce&&fe<8&&(a.node.style.zIndex=2)),a.node}function xc(a,l){var d=a.display.externalMeasured;return d&&d.line==l.line?(a.display.externalMeasured=null,l.measure=d.measure,d.built):Xa(a,l)}function Sc(a,l){var d=l.text.className,p=xc(a,l);l.text==l.node&&(l.node=p.pre),l.text.parentNode.replaceChild(p.pre,l.text),l.text=p.pre,p.bgClass!=l.bgClass||p.textClass!=l.textClass?(l.bgClass=p.bgClass,l.textClass=p.textClass,E1(a,l)):d&&(l.text.className=d)}function E1(a,l){(function(a,l){var d=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(d&&(d+=" CodeMirror-linebackground"),l.background)d?l.background.className=d:(l.background.parentNode.removeChild(l.background),l.background=null);else if(d){var p=ba(l);l.background=p.insertBefore(H("div",null,d),p.firstChild),a.display.input.setUneditable(l.background)}})(a,l),l.line.wrapClass?ba(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className=""),l.text.className=(l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass)||""}function Hl(a,l,d,p){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var v=ba(l);l.gutterBackground=H("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(a.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px; width: "+p.gutterTotalWidth+"px"),a.display.input.setUneditable(l.gutterBackground),v.insertBefore(l.gutterBackground,l.text)}var b=l.line.gutterMarkers;if(a.options.lineNumbers||b){var x=ba(l),I=l.gutter=H("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px");if(I.setAttribute("aria-hidden","true"),a.display.input.setUneditable(I),x.insertBefore(I,l.text),l.line.gutterClass&&(I.className+=" "+l.line.gutterClass),a.options.lineNumbers&&(!b||!b["CodeMirror-linenumbers"])&&(l.lineNumber=I.appendChild(H("div",io(a.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+p.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),b)for(var M=0;M<a.display.gutterSpecs.length;++M){var N=a.display.gutterSpecs[M].className,z=b.hasOwnProperty(N)&&b[N];z&&I.appendChild(H("div",[z],"CodeMirror-gutter-elt","left: "+p.gutterLeft[N]+"px; width: "+p.gutterWidth[N]+"px"))}}}function rd(a,l,d){l.alignable&&(l.alignable=null);for(var p=He("CodeMirror-linewidget"),v=l.node.firstChild,b=void 0;v;v=b)b=v.nextSibling,p.test(v.className)&&l.node.removeChild(v);yn(a,l,d)}function Ue(a,l,d,p){var v=xc(a,l);return l.text=l.node=v.pre,v.bgClass&&(l.bgClass=v.bgClass),v.textClass&&(l.textClass=v.textClass),E1(a,l),Hl(a,l,d,p),yn(a,l,p),l.node}function yn(a,l,d){if(Hs(a,l.line,l,d,!0),l.rest)for(var p=0;p<l.rest.length;p++)Hs(a,l.rest[p],l,d,!1)}function Hs(a,l,d,p,v){if(l.widgets)for(var b=ba(d),x=0,I=l.widgets;x<I.length;++x){var M=I[x],N=H("div",[M.node],"CodeMirror-linewidget"+(M.className?" "+M.className:""));M.handleMouseEvents||N.setAttribute("cm-ignore-events","true"),Xn(M,N,d,p),a.display.input.setUneditable(N),v&&M.above?b.insertBefore(N,d.gutter||d.text):b.appendChild(N),Ir(M,"redraw")}}function Xn(a,l,d,p){if(a.noHScroll){(d.alignable||(d.alignable=[])).push(l);var v=p.wrapperWidth;l.style.left=p.fixedPos+"px",a.coverGutter||(v-=p.gutterTotalWidth,l.style.paddingLeft=p.gutterTotalWidth+"px"),l.style.width=v+"px"}a.coverGutter&&(l.style.zIndex=5,l.style.position="relative",a.noHScroll||(l.style.marginLeft=-p.gutterTotalWidth+"px"))}function bs(a){if(null!=a.height)return a.height;var l=a.doc.cm;if(!l)return 0;if(!re(document.body,a.node)){var d="position: relative;";a.coverGutter&&(d+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),a.noHScroll&&(d+="width: "+l.display.wrapper.clientWidth+"px;"),ye(l.display.measure,H("div",[a.node],null,d))}return a.height=a.node.parentNode.offsetHeight}function ki(a,l){for(var d=En(l);d!=a.wrapper;d=d.parentNode)if(!d||1==d.nodeType&&"true"==d.getAttribute("cm-ignore-events")||d.parentNode==a.sizer&&d!=a.mover)return!0}function br(a){return a.lineSpace.offsetTop}function Bl(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Ho(a){if(a.cachedPaddingH)return a.cachedPaddingH;var l=ye(a.measure,H("pre","x","CodeMirror-line-like")),d=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,p={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};return!isNaN(p.left)&&!isNaN(p.right)&&(a.cachedPaddingH=p),p}function Bs(a){return 50-a.display.nativeBarWidth}function Ca(a){return a.display.scroller.clientWidth-Bs(a)-a.display.barWidth}function Bo(a){return a.display.scroller.clientHeight-Bs(a)-a.display.barHeight}function Zr(a,l,d){if(a.line==l)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var p=0;p<a.rest.length;p++)if(a.rest[p]==l)return{map:a.measure.maps[p],cache:a.measure.caches[p]};for(var v=0;v<a.rest.length;v++)if(_n(a.rest[v])>d)return{map:a.measure.maps[v],cache:a.measure.caches[v],before:!0}}}function Tc(a,l,d,p){return ts(a,ii(a,l),d,p)}function es(a,l){if(l>=a.display.viewFrom&&l<a.display.viewTo)return a.display.view[An(a,l)];var d=a.display.externalMeasured;return d&&l>=d.lineN&&l<d.lineN+d.size?d:void 0}function ii(a,l){var d=_n(l),p=es(a,d);p&&!p.text?p=null:p&&p.changes&&(Vt(a,p,d,Sa(a)),a.curOp.forceUpdate=!0),p||(p=function(a,l){var d=_n(l=lo(l)),p=a.display.externalMeasured=new Vo(a.doc,l,d);p.lineN=d;var v=p.built=Xa(a,p);return p.text=v.pre,ye(a.display.lineMeasure,v.pre),p}(a,l));var v=Zr(p,l,d);return{line:l,view:p,rect:null,map:v.map,cache:v.cache,before:v.before,hasHeights:!1}}function ts(a,l,d,p,v){l.before&&(d=-1);var x,b=d+(p||"");return l.cache.hasOwnProperty(b)?x=l.cache[b]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(function(a,l,d){var p=a.options.lineWrapping,v=p&&Ca(a);if(!l.measure.heights||p&&l.measure.width!=v){var b=l.measure.heights=[];if(p){l.measure.width=v;for(var x=l.text.firstChild.getClientRects(),I=0;I<x.length-1;I++){var M=x[I],N=x[I+1];Math.abs(M.bottom-N.bottom)>2&&b.push((M.bottom+N.top)/2-d.top)}}b.push(d.bottom-d.top)}}(a,l.view,l.rect),l.hasHeights=!0),(x=function(a,l,d,p){var N,v=wa(l.map,d,p),b=v.node,x=v.start,I=v.end,M=v.collapse;if(3==b.nodeType){for(var z=0;z<4;z++){for(;x&&Pt(l.line.text.charAt(v.coverStart+x));)--x;for(;v.coverStart+I<v.coverEnd&&Pt(l.line.text.charAt(v.coverStart+I));)++I;if((N=ce&&fe<9&&0==x&&I==v.coverEnd-v.coverStart?b.parentNode.getBoundingClientRect():Kd(te(b,x,I).getClientRects(),p)).left||N.right||0==x)break;I=x,x-=1,M="right"}ce&&fe<11&&(N=function(a,l){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(a){if(null!=Ka)return Ka;var l=ye(a,H("span","x")),d=l.getBoundingClientRect(),p=te(l,0,1).getBoundingClientRect();return Ka=Math.abs(d.left-p.left)>1}(a))return l;var d=screen.logicalXDPI/screen.deviceXDPI,p=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*d,right:l.right*d,top:l.top*p,bottom:l.bottom*p}}(a.display.measure,N))}else{var G;x>0&&(M=p="right"),N=a.options.lineWrapping&&(G=b.getClientRects()).length>1?G["right"==p?G.length-1:0]:b.getBoundingClientRect()}if(ce&&fe<9&&!x&&(!N||!N.left&&!N.right)){var oe=b.parentNode.getClientRects()[0];N=oe?{left:oe.left,right:oe.left+js(a.display),top:oe.top,bottom:oe.bottom}:Ul}for(var ne=N.top-l.rect.top,Se=N.bottom-l.rect.top,Pe=(ne+Se)/2,qe=l.view.measure.heights,tt=0;tt<qe.length-1&&!(Pe<qe[tt]);tt++);var dt={left:("right"==M?N.right:N.left)-l.rect.left,right:("left"==M?N.left:N.right)-l.rect.left,top:tt?qe[tt-1]:0,bottom:qe[tt]};return!N.left&&!N.right&&(dt.bogus=!0),a.options.singleCursorHeightPerLine||(dt.rtop=ne,dt.rbottom=Se),dt}(a,l,d,p)).bogus||(l.cache[b]=x)),{left:x.left,right:x.right,top:v?x.rtop:x.top,bottom:v?x.rbottom:x.bottom}}var Dc,Ul={left:0,right:0,top:0,bottom:0};function wa(a,l,d){for(var p,v,b,x,I,M,N=0;N<a.length;N+=3)if(M=a[N+1],l<(I=a[N])?(v=0,b=1,x="left"):l<M?b=1+(v=l-I):(N==a.length-3||l==M&&a[N+3]>l)&&(v=(b=M-I)-1,l>=M&&(x="right")),null!=v){if(p=a[N+2],I==M&&d==(p.insertLeft?"left":"right")&&(x=d),"left"==d&&0==v)for(;N&&a[N-2]==a[N-3]&&a[N-1].insertLeft;)p=a[2+(N-=3)],x="left";if("right"==d&&v==M-I)for(;N<a.length-3&&a[N+3]==a[N+4]&&!a[N+5].insertLeft;)p=a[(N+=3)+2],x="right";break}return{node:p,start:v,end:b,collapse:x,coverStart:I,coverEnd:M}}function Kd(a,l){var d=Ul;if("left"==l)for(var p=0;p<a.length&&(d=a[p]).left==d.right;p++);else for(var v=a.length-1;v>=0&&(d=a[v]).left==d.right;v--);return d}function nl(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var l=0;l<a.rest.length;l++)a.measure.caches[l]={}}function T1(a){a.display.externalMeasure=null,at(a.display.lineMeasure);for(var l=0;l<a.display.view.length;l++)nl(a.display.view[l])}function Uo(a){T1(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Ic(){return me&&rt?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function jl(){return me&&rt?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function rl(a){var d=lo(a).widgets,p=0;if(d)for(var v=0;v<d.length;++v)d[v].above&&(p+=bs(d[v]));return p}function xa(a,l,d,p,v){if(!v){var b=rl(l);d.top+=b,d.bottom+=b}if("line"==p)return d;p||(p="local");var x=Tn(l);if("local"==p?x+=br(a.display):x-=a.display.viewOffset,"page"==p||"window"==p){var I=a.display.lineSpace.getBoundingClientRect();x+=I.top+("window"==p?0:jl());var M=I.left+("window"==p?0:Ic());d.left+=M,d.right+=M}return d.top+=x,d.bottom+=x,d}function I1(a,l,d){if("div"==d)return l;var p=l.left,v=l.top;if("page"==d)p-=Ic(),v-=jl();else if("local"==d||!d){var b=a.display.sizer.getBoundingClientRect();p+=b.left,v+=b.top}var x=a.display.lineSpace.getBoundingClientRect();return{left:p-x.left,top:v-x.top}}function jo(a,l,d,p,v){return p||(p=ot(a.doc,l.line)),xa(a,p,Tc(a,p,l.ch,v),d)}function mi(a,l,d,p,v,b){function x(Se,Pe){var qe=ts(a,v,Se,Pe?"right":"left",b);return Pe?qe.left=qe.right:qe.right=qe.left,xa(a,p,qe,d)}p=p||ot(a.doc,l.line),v||(v=ii(a,p));var I=xt(p,a.doc.direction),M=l.ch,N=l.sticky;if(M>=p.text.length?(M=p.text.length,N="before"):M<=0&&(M=0,N="after"),!I)return x("before"==N?M-1:M,"before"==N);function z(Se,Pe,qe){return x(qe?Se-1:Se,1==I[Pe].level!=qe)}var G=xn(I,M,N),oe=Nr,ne=z(M,G,"before"==N);return null!=oe&&(ne.other=z(M,oe,"before"!=N)),ne}function Yd(a,l){var d=0;l=Lt(a.doc,l),a.options.lineWrapping||(d=js(a.display)*l.ch);var p=ot(a.doc,l.line),v=Tn(p)+br(a.display);return{left:d,right:d,top:v,bottom:v+p.height}}function Mc(a,l,d,p,v){var b=Ae(a,l,d);return b.xRel=v,p&&(b.outside=p),b}function Lr(a,l,d){var p=a.doc;if((d+=a.display.viewOffset)<0)return Mc(p.first,0,null,-1,-1);var v=Di(p,d),b=p.first+p.size-1;if(v>b)return Mc(p.first+p.size-1,ot(p,b).text.length,null,1,1);l<0&&(l=0);for(var x=ot(p,v);;){var I=hf(a,x,v,l,d),M=Qa(x,I.ch+(I.xRel>0||I.outside>0?1:0));if(!M)return I;var N=M.find(1);if(N.line==v)return N;x=ot(p,v=N.line)}}function Go(a,l,d,p){p-=rl(l);var v=l.text.length,b=on(function(x){return ts(a,d,x-1).bottom<=p},v,0);return{begin:b,end:v=on(function(x){return ts(a,d,x).top>p},b,v)}}function Un(a,l,d,p){return d||(d=ii(a,l)),Go(a,l,d,xa(a,l,ts(a,d,p),"line").top)}function mu(a,l,d,p){return!(a.bottom<=d)&&(a.top>d||(p?a.left:a.right)>l)}function hf(a,l,d,p,v){v-=Tn(l);var b=ii(a,l),x=rl(l),I=0,M=l.text.length,N=!0,z=xt(l,a.doc.direction);if(z){var G=(a.options.lineWrapping?il:th)(a,l,d,b,z,p,v);I=(N=1!=G.level)?G.from:G.to-1,M=N?G.to:G.from-1}var Pe,qe,oe=null,ne=null,Se=on(function(Mt){var Et=ts(a,b,Mt);return Et.top+=x,Et.bottom+=x,!!mu(Et,p,v,!1)&&(Et.top<=v&&Et.left<=p&&(oe=Mt,ne=Et),!0)},I,M),tt=!1;if(ne){var it=p-ne.left<ne.right-p,nt=it==N;Se=oe+(nt?0:1),qe=nt?"after":"before",Pe=it?ne.left:ne.right}else{!N&&(Se==M||Se==I)&&Se++,qe=0==Se?"after":Se==l.text.length?"before":ts(a,b,Se-(N?1:0)).bottom+x<=v==N?"after":"before";var dt=mi(a,Ae(d,Se,qe),"line",l,b);Pe=dt.left,tt=v<dt.top?-1:v>=dt.bottom?1:0}return Mc(d,Se=Ot(l.text,Se,1),qe,tt,p-Pe)}function th(a,l,d,p,v,b,x){var I=on(function(G){var oe=v[G],ne=1!=oe.level;return mu(mi(a,Ae(d,ne?oe.to:oe.from,ne?"before":"after"),"line",l,p),b,x,!0)},0,v.length-1),M=v[I];if(I>0){var N=1!=M.level,z=mi(a,Ae(d,N?M.from:M.to,N?"after":"before"),"line",l,p);mu(z,b,x,!0)&&z.top>x&&(M=v[I-1])}return M}function il(a,l,d,p,v,b,x){var I=Go(a,l,p,x),M=I.begin,N=I.end;/\s/.test(l.text.charAt(N-1))&&N--;for(var z=null,G=null,oe=0;oe<v.length;oe++){var ne=v[oe];if(!(ne.from>=N||ne.to<=M)){var Pe=ts(a,p,1!=ne.level?Math.min(N,ne.to)-1:Math.max(M,ne.from)).right,qe=Pe<b?b-Pe+1e9:Pe-b;(!z||G>qe)&&(z=ne,G=qe)}}return z||(z=v[v.length-1]),z.from<M&&(z={from:M,to:z.to,level:z.level}),z.to>N&&(z={from:z.from,to:N,level:z.level}),z}function Gl(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Dc){Dc=H("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)Dc.appendChild(document.createTextNode("x")),Dc.appendChild(H("br"));Dc.appendChild(document.createTextNode("x"))}ye(a.measure,Dc);var d=Dc.offsetHeight/50;return d>3&&(a.cachedTextHeight=d),at(a.measure),d||1}function js(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var l=H("span","xxxxxxxxxx"),d=H("pre",[l],"CodeMirror-line-like");ye(a.measure,d);var p=l.getBoundingClientRect(),v=(p.right-p.left)/10;return v>2&&(a.cachedCharWidth=v),v||10}function Sa(a){for(var l=a.display,d={},p={},v=l.gutters.clientLeft,b=l.gutters.firstChild,x=0;b;b=b.nextSibling,++x){var I=a.display.gutterSpecs[x].className;d[I]=b.offsetLeft+b.clientLeft+v,p[I]=b.clientWidth}return{fixedPos:Cs(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:d,gutterWidth:p,wrapperWidth:l.wrapper.clientWidth}}function Cs(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function ql(a){var l=Gl(a.display),d=a.options.lineWrapping,p=d&&Math.max(5,a.display.scroller.clientWidth/js(a.display)-3);return function(v){if(zs(a.doc,v))return 0;var b=0;if(v.widgets)for(var x=0;x<v.widgets.length;x++)v.widgets[x].height&&(b+=v.widgets[x].height);return d?b+(Math.ceil(v.text.length/p)||1)*l:b+l}}function gu(a){var l=a.doc,d=ql(a);l.iter(function(p){var v=d(p);v!=p.height&&zt(p,v)})}function sl(a,l,d,p){var v=a.display;if(!d&&"true"==En(l).getAttribute("cm-not-content"))return null;var b,x,I=v.lineSpace.getBoundingClientRect();try{b=l.clientX-I.left,x=l.clientY-I.top}catch(G){return null}var N,M=Lr(a,b,x);if(p&&M.xRel>0&&(N=ot(a.doc,M.line).text).length==M.ch){var z=Je(N,N.length,a.options.tabSize)-N.length;M=Ae(M.line,Math.max(0,Math.round((b-Ho(a.display).left)/js(a.display))-z))}return M}function An(a,l){if(l>=a.display.viewTo||(l-=a.display.viewFrom)<0)return null;for(var d=a.display.view,p=0;p<d.length;p++)if((l-=d[p].size)<0)return p}function Mr(a,l,d,p){null==l&&(l=a.doc.first),null==d&&(d=a.doc.first+a.doc.size),p||(p=0);var v=a.display;if(p&&d<v.viewTo&&(null==v.updateLineNumbers||v.updateLineNumbers>l)&&(v.updateLineNumbers=l),a.curOp.viewChanged=!0,l>=v.viewTo)Wr&&_s(a.doc,l)<v.viewTo&&Gs(a);else if(d<=v.viewFrom)Wr&&Fs(a.doc,d+p)>v.viewFrom?Gs(a):(v.viewFrom+=p,v.viewTo+=p);else if(l<=v.viewFrom&&d>=v.viewTo)Gs(a);else if(l<=v.viewFrom){var b=ol(a,d,d+p,1);b?(v.view=v.view.slice(b.index),v.viewFrom=b.lineN,v.viewTo+=p):Gs(a)}else if(d>=v.viewTo){var x=ol(a,l,l,-1);x?(v.view=v.view.slice(0,x.index),v.viewTo=x.lineN):Gs(a)}else{var I=ol(a,l,l,-1),M=ol(a,d,d+p,1);I&&M?(v.view=v.view.slice(0,I.index).concat(ys(a,I.lineN,M.lineN)).concat(v.view.slice(M.index)),v.viewTo+=p):Gs(a)}var N=v.externalMeasured;N&&(d<N.lineN?N.lineN+=p:l<N.lineN+N.size&&(v.externalMeasured=null))}function co(a,l,d){a.curOp.viewChanged=!0;var p=a.display,v=a.display.externalMeasured;if(v&&l>=v.lineN&&l<v.lineN+v.size&&(p.externalMeasured=null),!(l<p.viewFrom||l>=p.viewTo)){var b=p.view[An(a,l)];if(null!=b.node){var x=b.changes||(b.changes=[]);-1==_t(x,d)&&x.push(d)}}}function Gs(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function ol(a,l,d,p){var b,v=An(a,l),x=a.display.view;if(!Wr||d==a.doc.first+a.doc.size)return{index:v,lineN:d};for(var I=a.display.viewFrom,M=0;M<v;M++)I+=x[M].size;if(I!=l){if(p>0){if(v==x.length-1)return null;b=I+x[v].size-l,v++}else b=I-l;l+=b,d+=b}for(;_s(a.doc,d)!=d;){if(v==(p<0?0:x.length-1))return null;d+=p*x[v-(p<0?1:0)].size,v+=p}return{index:v,lineN:d}}function id(a){for(var l=a.display.view,d=0,p=0;p<l.length;p++){var v=l[p];!v.hidden&&(!v.node||v.changes)&&++d}return d}function $l(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Qd(a,l){void 0===l&&(l=!0);var d=a.doc,p={},v=p.cursors=document.createDocumentFragment(),b=p.selection=document.createDocumentFragment(),x=a.options.$customCursor;x&&(l=!0);for(var I=0;I<d.sel.ranges.length;I++)if(l||I!=d.sel.primIndex){var M=d.sel.ranges[I];if(!(M.from().line>=a.display.viewTo||M.to().line<a.display.viewFrom)){var N=M.empty();if(x){var z=x(a,M);z&&qo(a,z,v)}else(N||a.options.showCursorWhenSelecting)&&qo(a,M.head,v);N||Ac(a,M,b)}}return p}function qo(a,l,d){var p=mi(a,l,"div",null,null,!a.options.singleCursorHeightPerLine),v=d.appendChild(H("div","\xa0","CodeMirror-cursor"));if(v.style.left=p.left+"px",v.style.top=p.top+"px",v.style.height=Math.max(0,p.bottom-p.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var b=jo(a,l,"div",null,null),x=b.right-b.left;v.style.width=(x>0?x:a.defaultCharWidth())+"px"}if(p.other){var I=d.appendChild(H("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));I.style.display="",I.style.left=p.other.left+"px",I.style.top=p.other.top+"px",I.style.height=.85*(p.other.bottom-p.other.top)+"px"}}function Wl(a,l){return a.top-l.top||a.left-l.left}function Ac(a,l,d){var p=a.display,v=a.doc,b=document.createDocumentFragment(),x=Ho(a.display),I=x.left,M=Math.max(p.sizerWidth,Ca(a)-p.sizer.offsetLeft)-x.right,N="ltr"==v.direction;function z(nt,dt,Mt,Et){dt<0&&(dt=0),dt=Math.round(dt),Et=Math.round(Et),b.appendChild(H("div",null,"CodeMirror-selected","position: absolute; left: "+nt+"px;\n                             top: "+dt+"px; width: "+(null==Mt?M-nt:Mt)+"px;\n                             height: "+(Et-dt)+"px"))}function G(nt,dt,Mt){var Fn,rr,Et=ot(v,nt),Qt=Et.text.length;function ir(kr,Ys){return jo(a,Ae(nt,kr),"div",Et,Ys)}function Ks(kr,Ys,Fi){var li=Un(a,Et,null,kr),Qr="ltr"==Ys==("after"==Fi)?"left":"right";return ir("after"==Fi?li.begin:li.end-(/\s/.test(Et.text.charAt(li.end-1))?2:1),Qr)[Qr]}var cs=xt(Et,v.direction);return function(a,l,d,p){if(!a)return p(l,d,"ltr",0);for(var v=!1,b=0;b<a.length;++b){var x=a[b];(x.from<d&&x.to>l||l==d&&x.to==l)&&(p(Math.max(x.from,l),Math.min(x.to,d),1==x.level?"rtl":"ltr",b),v=!0)}v||p(l,d,"ltr")}(cs,dt||0,null==Mt?Qt:Mt,function(kr,Ys,Fi,li){var Qr="ltr"==Fi,Rr=ir(kr,Qr?"left":"right"),Qs=ir(Ys-1,Qr?"right":"left"),Vu=null==dt&&0==kr,wr=null==Mt&&Ys==Qt,zi=0==li,Js=!cs||li==cs.length-1;if(Qs.top-Rr.top<=3){var Xs=(N?Vu:wr)&&zi?I:(Qr?Rr:Qs).left;z(Xs,Rr.top,((N?wr:Vu)&&Js?M:(Qr?Qs:Rr).right)-Xs,Rr.bottom)}else{var ta,Vi,Hu,fh;Qr?(ta=N&&Vu&&zi?I:Rr.left,Vi=N?M:Ks(kr,Fi,"before"),Hu=N?I:Ks(Ys,Fi,"after"),fh=N&&wr&&Js?M:Qs.right):(ta=N?Ks(kr,Fi,"before"):I,Vi=!N&&Vu&&zi?M:Rr.right,Hu=!N&&wr&&Js?I:Qs.left,fh=N?Ks(Ys,Fi,"after"):M),z(ta,Rr.top,Vi-ta,Rr.bottom),Rr.bottom<Qs.top&&z(I,Rr.bottom,null,Qs.top),z(Hu,Qs.top,fh-Hu,Qs.bottom)}(!Fn||Wl(Rr,Fn)<0)&&(Fn=Rr),Wl(Qs,Fn)<0&&(Fn=Qs),(!rr||Wl(Rr,rr)<0)&&(rr=Rr),Wl(Qs,rr)<0&&(rr=Qs)}),{start:Fn,end:rr}}var oe=l.from(),ne=l.to();if(oe.line==ne.line)G(oe.line,oe.ch,ne.ch);else{var Se=ot(v,oe.line),Pe=ot(v,ne.line),qe=lo(Se)==lo(Pe),tt=G(oe.line,oe.ch,qe?Se.text.length+1:null).end,it=G(ne.line,qe?0:null,ne.ch).start;qe&&(tt.top<it.top-2?(z(tt.right,tt.top,null,tt.bottom),z(I,it.top,it.left,it.bottom)):z(tt.right,tt.top,it.left-tt.right,tt.bottom)),tt.bottom<it.top&&z(I,tt.bottom,null,it.top)}d.appendChild(b)}function Br(a){if(a.state.focused){var l=a.display;clearInterval(l.blinker);var d=!0;l.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?l.blinker=setInterval(function(){a.hasFocus()||gi(a),l.cursorDiv.style.visibility=(d=!d)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function ns(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||_u(a))}function vu(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&gi(a))},100)}function _u(a,l){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(wn(a,"focus",a,l),a.state.focused=!0,q(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),le&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Br(a))}function gi(a,l){a.state.delayingBlurEvent||(a.state.focused&&(wn(a,"blur",a,l),a.state.focused=!1,et(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function M1(a){for(var l=a.display,d=l.lineDiv.offsetTop,p=Math.max(0,l.scroller.getBoundingClientRect().top),v=l.lineDiv.getBoundingClientRect().top,b=0,x=0;x<l.view.length;x++){var I=l.view[x],M=a.options.lineWrapping,N=void 0,z=0;if(!I.hidden){if(v+=I.line.height,ce&&fe<8){var G=I.node.offsetTop+I.node.offsetHeight;N=G-d,d=G}else{var oe=I.node.getBoundingClientRect();N=oe.bottom-oe.top,!M&&I.text.firstChild&&(z=I.text.firstChild.getBoundingClientRect().right-oe.left-1)}var ne=I.line.height-N;if((ne>.005||ne<-.005)&&(v<p&&(b-=ne),zt(I.line,N),er(I.line),I.rest))for(var Se=0;Se<I.rest.length;Se++)er(I.rest[Se]);if(z>a.display.sizerWidth){var Pe=Math.ceil(z/js(a.display));Pe>a.display.maxLineLength&&(a.display.maxLineLength=Pe,a.display.maxLine=I.line,a.display.maxLineChanged=!0)}}}Math.abs(b)>2&&(l.scroller.scrollTop+=b)}function er(a){if(a.widgets)for(var l=0;l<a.widgets.length;++l){var d=a.widgets[l],p=d.node.parentNode;p&&(d.height=p.offsetHeight)}}function Ia(a,l,d){var p=d&&null!=d.top?Math.max(0,d.top):a.scroller.scrollTop;p=Math.floor(p-br(a));var v=d&&null!=d.bottom?d.bottom:p+a.wrapper.clientHeight,b=Di(l,p),x=Di(l,v);if(d&&d.ensure){var I=d.ensure.from.line,M=d.ensure.to.line;I<b?(b=I,x=Di(l,Tn(ot(l,I))+a.wrapper.clientHeight)):Math.min(M,l.lastLine())>=x&&(b=Di(l,Tn(ot(l,M))-a.wrapper.clientHeight),x=M)}return{from:b,to:Math.max(x,b+1)}}function Zl(a,l){var d=a.display,p=Gl(a.display);l.top<0&&(l.top=0);var v=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:d.scroller.scrollTop,b=Bo(a),x={};l.bottom-l.top>b&&(l.bottom=l.top+b);var I=a.doc.height+Bl(d),N=l.bottom>I-p;if(l.top<v)x.scrollTop=l.top<p?0:l.top;else if(l.bottom>v+b){var z=Math.min(l.top,(N?I:l.bottom)-b);z!=v&&(x.scrollTop=z)}var G=a.options.fixedGutter?0:d.gutters.offsetWidth,oe=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:d.scroller.scrollLeft-G,ne=Ca(a)-d.gutters.offsetWidth,Se=l.right-l.left>ne;return Se&&(l.right=l.left+ne),l.left<10?x.scrollLeft=0:l.left<oe?x.scrollLeft=Math.max(0,l.left+G-(Se?0:10)):l.right>ne+oe-3&&(x.scrollLeft=l.right+(Se?0:10)-ne),x}function sd(a,l){null!=l&&(Zt(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+l)}function In(a){Zt(a);var l=a.getCursor();a.curOp.scrollToPos={from:l,to:l,margin:a.options.cursorScrollMargin}}function Ri(a,l,d){(null!=l||null!=d)&&Zt(a),null!=l&&(a.curOp.scrollLeft=l),null!=d&&(a.curOp.scrollTop=d)}function Zt(a){var l=a.curOp.scrollToPos;l&&(a.curOp.scrollToPos=null,Dr(a,Yd(a,l.from),Yd(a,l.to),l.margin))}function Dr(a,l,d,p){var v=Zl(a,{left:Math.min(l.left,d.left),top:Math.min(l.top,d.top)-p,right:Math.max(l.right,d.right),bottom:Math.max(l.bottom,d.bottom)+p});Ri(a,v.scrollLeft,v.scrollTop)}function Mn(a,l){Math.abs(a.doc.scrollTop-l)<2||(h||Ni(a,{top:l}),od(a,l,!0),h&&Ni(a),Ko(a,100))}function od(a,l,d){l=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,l)),(a.display.scroller.scrollTop!=l||d)&&(a.doc.scrollTop=l,a.display.scrollbars.setScrollTop(l),a.display.scroller.scrollTop!=l&&(a.display.scroller.scrollTop=l))}function Ur(a,l,d,p){l=Math.max(0,Math.min(l,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),(!(d?l==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-l)<2)||p)&&(a.doc.scrollLeft=l,tr(a),a.display.scroller.scrollLeft!=l&&(a.display.scroller.scrollLeft=l),a.display.scrollbars.setScrollLeft(l))}function Ma(a){var l=a.display,d=l.gutters.offsetWidth,p=Math.round(a.doc.height+Bl(a.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:a.options.fixedGutter?d:0,docHeight:p,scrollHeight:p+Bs(a)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:d}}var qs=function(a,l,d){this.cm=d;var p=this.vert=H("div",[H("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=H("div",[H("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");p.tabIndex=v.tabIndex=-1,a(p),a(v),wt(p,"scroll",function(){p.clientHeight&&l(p.scrollTop,"vertical")}),wt(v,"scroll",function(){v.clientWidth&&l(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ce&&fe<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};qs.prototype.update=function(a){var l=a.scrollWidth>a.clientWidth+1,d=a.scrollHeight>a.clientHeight+1,p=a.nativeBarWidth;return d?(this.vert.style.display="block",this.vert.style.bottom=l?p+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(l?p:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),l?(this.horiz.style.display="block",this.horiz.style.right=d?p+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(d?p:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&a.clientHeight>0&&(0==p&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:d?p:0,bottom:l?p:0}},qs.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},qs.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},qs.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=_e&&!ue?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new vt,this.disableVert=new vt},qs.prototype.enableZeroWidthBar=function(a,l,d){a.style.pointerEvents="auto",l.set(1e3,function p(){var v=a.getBoundingClientRect();("vert"==d?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1))!=a?a.style.pointerEvents="none":l.set(1e3,p)})},qs.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var uo=function(){};function $o(a,l){l||(l=Ma(a));var d=a.display.barWidth,p=a.display.barHeight;Da(a,l);for(var v=0;v<4&&d!=a.display.barWidth||p!=a.display.barHeight;v++)d!=a.display.barWidth&&a.options.lineWrapping&&M1(a),Da(a,Ma(a)),d=a.display.barWidth,p=a.display.barHeight}function Da(a,l){var d=a.display,p=d.scrollbars.update(l);d.sizer.style.paddingRight=(d.barWidth=p.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=p.bottom)+"px",d.heightForcer.style.borderBottom=p.bottom+"px solid transparent",p.right&&p.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=p.bottom+"px",d.scrollbarFiller.style.width=p.right+"px"):d.scrollbarFiller.style.display="",p.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=p.bottom+"px",d.gutterFiller.style.width=l.gutterWidth+"px"):d.gutterFiller.style.display=""}uo.prototype.update=function(){return{bottom:0,right:0}},uo.prototype.setScrollLeft=function(){},uo.prototype.setScrollTop=function(){},uo.prototype.clear=function(){};var Tt={native:qs,null:uo};function Aa(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&et(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Tt[a.options.scrollbarStyle](function(l){a.display.wrapper.insertBefore(l,a.display.scrollbarFiller),wt(l,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,d){"horizontal"==d?Ur(a,l):Mn(a,l)},a),a.display.scrollbars.addClass&&q(a.display.wrapper,a.display.scrollbars.addClass)}var ff=0;function vi(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ff,markArrays:null},function(a){mn?mn.ops.push(a):a.ownsGroup=mn={ops:[a],delayedCallbacks:[]}}(a.curOp)}function Wo(a){var l=a.curOp;l&&function(a,l){var d=a.ownsGroup;if(d)try{!function(a){var l=a.delayedCallbacks,d=0;do{for(;d<l.length;d++)l[d].call(null);for(var p=0;p<a.ops.length;p++){var v=a.ops[p];if(v.cursorActivityHandlers)for(;v.cursorActivityCalled<v.cursorActivityHandlers.length;)v.cursorActivityHandlers[v.cursorActivityCalled++].call(null,v.cm)}}while(d<l.length)}(d)}finally{mn=null,l(d)}}(l,function(d){for(var p=0;p<d.ops.length;p++)d.ops[p].cm.curOp=null;!function(a){for(var l=a.ops,d=0;d<l.length;d++)A1(l[d]);for(var p=0;p<l.length;p++)Rc(l[p]);for(var v=0;v<l.length;v++)Nc(l[v]);for(var b=0;b<l.length;b++)ka(l[b]);for(var x=0;x<l.length;x++)Zo(l[x])}(d)})}function A1(a){var l=a.cm,d=l.display;(function(a){var l=a.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=Bs(a)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=Bs(a)+"px",l.scrollbarsClipped=!0)})(l),a.updateMaxLine&&pu(l),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<d.viewFrom||a.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&l.options.lineWrapping,a.update=a.mustUpdate&&new rs(l,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function Rc(a){a.updatedDisplay=a.mustUpdate&&ld(a.cm,a.update)}function Nc(a){var l=a.cm,d=l.display;a.updatedDisplay&&M1(l),a.barMeasure=Ma(l),d.maxLineChanged&&!l.options.lineWrapping&&(a.adjustWidthTo=Tc(l,d.maxLine,d.maxLine.text.length).left+3,l.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+a.adjustWidthTo+Bs(l)+l.display.barWidth),a.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+a.adjustWidthTo-Ca(l))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=d.input.prepareSelection())}function ka(a){var l=a.cm;null!=a.adjustWidthTo&&(l.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<l.doc.scrollLeft&&Ur(l,Math.min(l.display.scroller.scrollLeft,a.maxScrollLeft),!0),l.display.maxLineChanged=!1);var d=a.focus&&a.focus==Y();a.preparedSelection&&l.display.input.showSelection(a.preparedSelection,d),(a.updatedDisplay||a.startHeight!=l.doc.height)&&$o(l,a.barMeasure),a.updatedDisplay&&Kl(l,a.barMeasure),a.selectionChanged&&Br(l),l.state.focused&&a.updateInput&&l.display.input.reset(a.typing),d&&ns(a.cm)}function Zo(a){var l=a.cm,d=l.display,p=l.doc;a.updatedDisplay&&si(l,a.update),null!=d.wheelStartX&&(null!=a.scrollTop||null!=a.scrollLeft||a.scrollToPos)&&(d.wheelStartX=d.wheelStartY=null),null!=a.scrollTop&&od(l,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&Ur(l,a.scrollLeft,!0,!0),a.scrollToPos&&function(a,l){if(!Yn(a,"scrollCursorIntoView")){var d=a.display,p=d.sizer.getBoundingClientRect(),v=null;if(l.top+p.top<0?v=!0:l.bottom+p.top>(window.innerHeight||document.documentElement.clientHeight)&&(v=!1),null!=v&&!Xe){var b=H("div","\u200b",null,"position: absolute;\n                         top: "+(l.top-d.viewOffset-br(a.display))+"px;\n                         height: "+(l.bottom-l.top+Bs(a)+d.barHeight)+"px;\n                         left: "+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");a.display.lineSpace.appendChild(b),b.scrollIntoView(v),a.display.lineSpace.removeChild(b)}}}(l,function(a,l,d,p){var v;null==p&&(p=0),!a.options.lineWrapping&&l==d&&(d="before"==l.sticky?Ae(l.line,l.ch+1,"before"):l,l=l.ch?Ae(l.line,"before"==l.sticky?l.ch-1:l.ch,"after"):l);for(var b=0;b<5;b++){var x=!1,I=mi(a,l),M=d&&d!=l?mi(a,d):I,N=Zl(a,v={left:Math.min(I.left,M.left),top:Math.min(I.top,M.top)-p,right:Math.max(I.left,M.left),bottom:Math.max(I.bottom,M.bottom)+p}),z=a.doc.scrollTop,G=a.doc.scrollLeft;if(null!=N.scrollTop&&(Mn(a,N.scrollTop),Math.abs(a.doc.scrollTop-z)>1&&(x=!0)),null!=N.scrollLeft&&(Ur(a,N.scrollLeft),Math.abs(a.doc.scrollLeft-G)>1&&(x=!0)),!x)break}return v}(l,Lt(p,a.scrollToPos.from),Lt(p,a.scrollToPos.to),a.scrollToPos.margin));var b=a.maybeHiddenMarkers,x=a.maybeUnhiddenMarkers;if(b)for(var I=0;I<b.length;++I)b[I].lines.length||wn(b[I],"hide");if(x)for(var M=0;M<x.length;++M)x[M].lines.length&&wn(x[M],"unhide");d.wrapper.offsetHeight&&(p.scrollTop=l.display.scroller.scrollTop),a.changeObjs&&wn(l,"changes",l,a.changeObjs),a.update&&a.update.finish()}function hr(a,l){if(a.curOp)return l();vi(a);try{return l()}finally{Wo(a)}}function Pn(a,l){return function(){if(a.curOp)return l.apply(a,arguments);vi(a);try{return l.apply(a,arguments)}finally{Wo(a)}}}function Cr(a){return function(){if(this.curOp)return a.apply(this,arguments);vi(this);try{return a.apply(this,arguments)}finally{Wo(this)}}}function Rn(a){return function(){var l=this.cm;if(!l||l.curOp)return a.apply(this,arguments);vi(l);try{return a.apply(this,arguments)}finally{Wo(l)}}}function Ko(a,l){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(l,Rt(ad,a))}function ad(a){var l=a.doc;if(!(l.highlightFrontier>=a.display.viewTo)){var d=+new Date+a.options.workTime,p=ni(a,l.highlightFrontier),v=[];l.iter(p.line,Math.min(l.first+l.size,a.display.viewTo+500),function(b){if(p.line>=a.display.viewFrom){var x=b.styles,I=b.text.length>a.options.maxHighlightLength?Or(l.mode,p.state):null,M=ar(a,b,p,!0);I&&(p.state=I),b.styles=M.styles;var N=b.styleClasses,z=M.classes;z?b.styleClasses=z:N&&(b.styleClasses=null);for(var G=!x||x.length!=b.styles.length||N!=z&&(!N||!z||N.bgClass!=z.bgClass||N.textClass!=z.textClass),oe=0;!G&&oe<x.length;++oe)G=x[oe]!=b.styles[oe];G&&v.push(p.line),b.stateAfter=p.save(),p.nextLine()}else b.text.length<=a.options.maxHighlightLength&&gs(a,b.text,p),b.stateAfter=p.line%5==0?p.save():null,p.nextLine();if(+new Date>d)return Ko(a,a.options.workDelay),!0}),l.highlightFrontier=p.line,l.modeFrontier=Math.max(l.modeFrontier,p.line),v.length&&hr(a,function(){for(var b=0;b<v.length;b++)co(a,v[b],"text")})}}var rs=function(a,l,d){var p=a.display;this.viewport=l,this.visible=Ia(p,a.doc,l),this.editorIsHidden=!p.wrapper.offsetWidth,this.wrapperHeight=p.wrapper.clientHeight,this.wrapperWidth=p.wrapper.clientWidth,this.oldDisplayWidth=Ca(a),this.force=d,this.dims=Sa(a),this.events=[]};function ld(a,l){var d=a.display,p=a.doc;if(l.editorIsHidden)return Gs(a),!1;if(!l.force&&l.visible.from>=d.viewFrom&&l.visible.to<=d.viewTo&&(null==d.updateLineNumbers||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&0==id(a))return!1;Oi(a)&&(Gs(a),l.dims=Sa(a));var v=p.first+p.size,b=Math.max(l.visible.from-a.options.viewportMargin,p.first),x=Math.min(v,l.visible.to+a.options.viewportMargin);d.viewFrom<b&&b-d.viewFrom<20&&(b=Math.max(p.first,d.viewFrom)),d.viewTo>x&&d.viewTo-x<20&&(x=Math.min(v,d.viewTo)),Wr&&(b=_s(a.doc,b),x=Fs(a.doc,x));var I=b!=d.viewFrom||x!=d.viewTo||d.lastWrapHeight!=l.wrapperHeight||d.lastWrapWidth!=l.wrapperWidth;(function(a,l,d){var p=a.display;0==p.view.length||l>=p.viewTo||d<=p.viewFrom?(p.view=ys(a,l,d),p.viewFrom=l):(p.viewFrom>l?p.view=ys(a,l,p.viewFrom).concat(p.view):p.viewFrom<l&&(p.view=p.view.slice(An(a,l))),p.viewFrom=l,p.viewTo<d?p.view=p.view.concat(ys(a,p.viewTo,d)):p.viewTo>d&&(p.view=p.view.slice(0,An(a,d)))),p.viewTo=d})(a,b,x),d.viewOffset=Tn(ot(a.doc,d.viewFrom)),a.display.mover.style.top=d.viewOffset+"px";var M=id(a);if(!I&&0==M&&!l.force&&d.renderedView==d.view&&(null==d.updateLineNumbers||d.updateLineNumbers>=d.viewTo))return!1;var N=function(a){if(a.hasFocus())return null;var l=Y();if(!l||!re(a.display.lineDiv,l))return null;var d={activeElt:l};if(window.getSelection){var p=window.getSelection();p.anchorNode&&p.extend&&re(a.display.lineDiv,p.anchorNode)&&(d.anchorNode=p.anchorNode,d.anchorOffset=p.anchorOffset,d.focusNode=p.focusNode,d.focusOffset=p.focusOffset)}return d}(a);return M>4&&(d.lineDiv.style.display="none"),function(a,l,d){var p=a.display,v=a.options.lineNumbers,b=p.lineDiv,x=b.firstChild;function I(Se){var Pe=Se.nextSibling;return le&&_e&&a.display.currentWheelTarget==Se?Se.style.display="none":Se.parentNode.removeChild(Se),Pe}for(var M=p.view,N=p.viewFrom,z=0;z<M.length;z++){var G=M[z];if(!G.hidden)if(G.node&&G.node.parentNode==b){for(;x!=G.node;)x=I(x);var ne=v&&null!=l&&l<=N&&G.lineNumber;G.changes&&(_t(G.changes,"gutter")>-1&&(ne=!1),Vt(a,G,N,d)),ne&&(at(G.lineNumber),G.lineNumber.appendChild(document.createTextNode(io(a.options,N)))),x=G.node.nextSibling}else{var oe=Ue(a,G,N,d);b.insertBefore(oe,x)}N+=G.size}for(;x;)x=I(x)}(a,d.updateLineNumbers,l.dims),M>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,function(a){if(a&&a.activeElt&&a.activeElt!=Y()&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&re(document.body,a.anchorNode)&&re(document.body,a.focusNode))){var l=window.getSelection(),d=document.createRange();d.setEnd(a.anchorNode,a.anchorOffset),d.collapse(!1),l.removeAllRanges(),l.addRange(d),l.extend(a.focusNode,a.focusOffset)}}(N),at(d.cursorDiv),at(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,I&&(d.lastWrapHeight=l.wrapperHeight,d.lastWrapWidth=l.wrapperWidth,Ko(a,400)),d.updateLineNumbers=null,!0}function si(a,l){for(var d=l.viewport,p=!0;;p=!1){if(p&&a.options.lineWrapping&&l.oldDisplayWidth!=Ca(a))p&&(l.visible=Ia(a.display,a.doc,d));else if(d&&null!=d.top&&(d={top:Math.min(a.doc.height+Bl(a.display)-Bo(a),d.top)}),l.visible=Ia(a.display,a.doc,d),l.visible.from>=a.display.viewFrom&&l.visible.to<=a.display.viewTo)break;if(!ld(a,l))break;M1(a);var v=Ma(a);$l(a),$o(a,v),Kl(a,v),l.force=!1}l.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(l.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Ni(a,l){var d=new rs(a,l);if(ld(a,d)){M1(a),si(a,d);var p=Ma(a);$l(a),$o(a,p),Kl(a,p),d.finish()}}function yu(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px",Ir(a,"gutterChanged",a)}function Kl(a,l){a.display.sizer.style.minHeight=l.docHeight+"px",a.display.heightForcer.style.top=l.docHeight+"px",a.display.gutters.style.height=l.docHeight+a.display.barHeight+Bs(a)+"px"}function tr(a){var l=a.display,d=l.view;if(l.alignWidgets||l.gutters.firstChild&&a.options.fixedGutter){for(var p=Cs(l)-l.scroller.scrollLeft+a.doc.scrollLeft,v=l.gutters.offsetWidth,b=p+"px",x=0;x<d.length;x++)if(!d[x].hidden){a.options.fixedGutter&&(d[x].gutter&&(d[x].gutter.style.left=b),d[x].gutterBackground&&(d[x].gutterBackground.style.left=b));var I=d[x].alignable;if(I)for(var M=0;M<I.length;M++)I[M].style.left=b}a.options.fixedGutter&&(l.gutters.style.left=p+v+"px")}}function Oi(a){if(!a.options.lineNumbers)return!1;var l=a.doc,d=io(a.options,l.first+l.size-1),p=a.display;if(d.length!=p.lineNumChars){var v=p.measure.appendChild(H("div",[H("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),b=v.firstChild.offsetWidth,x=v.offsetWidth-b;return p.lineGutter.style.width="",p.lineNumInnerWidth=Math.max(b,p.lineGutter.offsetWidth-x)+1,p.lineNumWidth=p.lineNumInnerWidth+x,p.lineNumChars=p.lineNumInnerWidth?d.length:-1,p.lineGutter.style.width=p.lineNumWidth+"px",yu(a.display),!0}return!1}function Ar(a,l){for(var d=[],p=!1,v=0;v<a.length;v++){var b=a[v],x=null;if("string"!=typeof b&&(x=b.style,b=b.className),"CodeMirror-linenumbers"==b){if(!l)continue;p=!0}d.push({className:b,style:x})}return l&&!p&&d.push({className:"CodeMirror-linenumbers",style:null}),d}function Nn(a){var l=a.gutters,d=a.gutterSpecs;at(l),a.lineGutter=null;for(var p=0;p<d.length;++p){var v=d[p],b=v.className,x=v.style,I=l.appendChild(H("div",null,"CodeMirror-gutter "+b));x&&(I.style.cssText=x),"CodeMirror-linenumbers"==b&&(a.lineGutter=I,I.style.width=(a.lineNumWidth||1)+"px")}l.style.display=d.length?"":"none",yu(a)}function Pi(a){Nn(a.display),Mr(a),tr(a)}function Yl(a,l,d,p){var v=this;this.input=d,v.scrollbarFiller=H("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=H("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=Z("div",null,"CodeMirror-code"),v.selectionDiv=H("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=H("div",null,"CodeMirror-cursors"),v.measure=H("div",null,"CodeMirror-measure"),v.lineMeasure=H("div",null,"CodeMirror-measure"),v.lineSpace=Z("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none");var b=Z("div",[v.lineSpace],"CodeMirror-lines");v.mover=H("div",[b],null,"position: relative"),v.sizer=H("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=H("div",null,null,"position: absolute; height: 50px; width: 1px;"),v.gutters=H("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=H("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=H("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),v.wrapper.setAttribute("translate","no"),ce&&fe<8&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),!le&&!(h&&Ye)&&(v.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(v.wrapper):a(v.wrapper)),v.viewFrom=v.viewTo=l.first,v.reportedViewFrom=v.reportedViewTo=l.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,v.gutterSpecs=Ar(p.gutters,p.lineNumbers),Nn(v),d.init(v)}rs.prototype.signal=function(a,l){Q(a,l)&&this.events.push(arguments)},rs.prototype.finish=function(){for(var a=0;a<this.events.length;a++)wn.apply(null,this.events[a])};var Ql=0,Es=null;function Kr(a){var l=a.wheelDeltaX,d=a.wheelDeltaY;return null==l&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(l=a.detail),null==d&&a.detail&&a.axis==a.VERTICAL_AXIS?d=a.detail:null==d&&(d=a.wheelDelta),{x:l,y:d}}function fo(a){var l=Kr(a);return l.x*=Es,l.y*=Es,l}function is(a,l){var d=Kr(l),p=d.x,v=d.y,b=Es;0===l.deltaMode&&(p=l.deltaX,v=l.deltaY,b=1);var x=a.display,I=x.scroller,N=I.scrollHeight>I.clientHeight;if(p&&I.scrollWidth>I.clientWidth||v&&N){if(v&&_e&&le)e:for(var z=l.target,G=x.view;z!=I;z=z.parentNode)for(var oe=0;oe<G.length;oe++)if(G[oe].node==z){a.display.currentWheelTarget=z;break e}if(p&&!h&&!J&&null!=b)return v&&N&&Mn(a,Math.max(0,I.scrollTop+v*b)),Ur(a,Math.max(0,I.scrollLeft+p*b)),(!v||v&&N)&&Re(l),void(x.wheelStartX=null);if(v&&null!=b){var ne=v*b,Se=a.doc.scrollTop,Pe=Se+x.wrapper.clientHeight;ne<0?Se=Math.max(0,Se+ne-50):Pe=Math.min(a.doc.height,Pe+ne+50),Ni(a,{top:Se,bottom:Pe})}Ql<20&&0!==l.deltaMode&&(null==x.wheelStartX?(x.wheelStartX=I.scrollLeft,x.wheelStartY=I.scrollTop,x.wheelDX=p,x.wheelDY=v,setTimeout(function(){if(null!=x.wheelStartX){var qe=I.scrollLeft-x.wheelStartX,tt=I.scrollTop-x.wheelStartY,it=tt&&x.wheelDY&&tt/x.wheelDY||qe&&x.wheelDX&&qe/x.wheelDX;x.wheelStartX=x.wheelStartY=null,it&&(Es=(Es*Ql+it)/(Ql+1),++Ql)}},200)):(x.wheelDX+=p,x.wheelDY+=v))}}ce?Es=-.53:h?Es=15:me?Es=-.7:ee&&(Es=-1/3);var en=function(a,l){this.ranges=a,this.primIndex=l};en.prototype.primary=function(){return this.ranges[this.primIndex]},en.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var d=this.ranges[l],p=a.ranges[l];if(!Ls(d.anchor,p.anchor)||!Ls(d.head,p.head))return!1}return!0},en.prototype.deepCopy=function(){for(var a=[],l=0;l<this.ranges.length;l++)a[l]=new Ft(Ji(this.ranges[l].anchor),Ji(this.ranges[l].head));return new en(a,this.primIndex)},en.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},en.prototype.contains=function(a,l){l||(l=a);for(var d=0;d<this.ranges.length;d++){var p=this.ranges[d];if(Bt(l,p.from())>=0&&Bt(a,p.to())<=0)return d}return-1};var Ft=function(a,l){this.anchor=a,this.head=l};function ur(a,l,d){var p=a&&a.options.selectionsMayTouch,v=l[d];l.sort(function(oe,ne){return Bt(oe.from(),ne.from())}),d=_t(l,v);for(var b=1;b<l.length;b++){var x=l[b],I=l[b-1],M=Bt(I.to(),x.from());if(p&&!x.empty()?M>0:M>=0){var N=f1(I.from(),x.from()),z=Sn(I.to(),x.to()),G=I.empty()?x.from()==x.head:I.from()==I.head;b<=d&&--d,l.splice(--b,2,new Ft(G?z:N,G?N:z))}}return new en(l,d)}function xs(a,l){return new en([new Ft(a,l||a)],0)}function ss(a){return a.text?Ae(a.from.line+a.text.length-1,Kt(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function k1(a,l){if(Bt(a,l.from)<0)return a;if(Bt(a,l.to)<=0)return ss(l);var d=a.line+l.text.length-(l.to.line-l.from.line)-1,p=a.ch;return a.line==l.to.line&&(p+=ss(l).ch-l.to.ch),Ae(d,p)}function Jl(a,l){for(var d=[],p=0;p<a.sel.ranges.length;p++){var v=a.sel.ranges[p];d.push(new Ft(k1(v.anchor,l),k1(v.head,l)))}return ur(a.cm,d,a.sel.primIndex)}function bu(a,l,d){return a.line==l.line?Ae(d.line,a.ch-l.ch+d.ch):Ae(d.line+(a.line-l.line),a.ch)}function R1(a){a.doc.mode=ut(a.options,a.doc.modeOption),Ts(a)}function Ts(a){a.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Ko(a,100),a.state.modeGen++,a.curOp&&Mr(a)}function Xd(a,l){return 0==l.from.ch&&0==l.to.ch&&""==Kt(l.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Is(a,l,d,p){function v(it){return d?d[it]:null}function b(it,nt,dt){(function(a,l,d,p){a.text=l,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),eh(a),zo(a,d);var v=p?p(a):1;v!=a.height&&zt(a,v)})(it,nt,dt,p),Ir(it,"change",it,l)}function x(it,nt){for(var dt=[],Mt=it;Mt<nt;++Mt)dt.push(new Vs(N[Mt],v(Mt),p));return dt}var I=l.from,M=l.to,N=l.text,z=ot(a,I.line),G=ot(a,M.line),oe=Kt(N),ne=v(N.length-1),Se=M.line-I.line;if(l.full)a.insert(0,x(0,N.length)),a.remove(N.length,a.size-N.length);else if(Xd(a,l)){var Pe=x(0,N.length-1);b(G,G.text,ne),Se&&a.remove(I.line,Se),Pe.length&&a.insert(I.line,Pe)}else if(z==G)if(1==N.length)b(z,z.text.slice(0,I.ch)+oe+z.text.slice(M.ch),ne);else{var qe=x(1,N.length-1);qe.push(new Vs(oe+z.text.slice(M.ch),ne,p)),b(z,z.text.slice(0,I.ch)+N[0],v(0)),a.insert(I.line+1,qe)}else if(1==N.length)b(z,z.text.slice(0,I.ch)+N[0]+G.text.slice(M.ch),v(0)),a.remove(I.line+1,Se);else{b(z,z.text.slice(0,I.ch)+N[0],v(0)),b(G,oe+G.text.slice(M.ch),ne);var tt=x(1,N.length-1);Se>1&&a.remove(I.line+1,Se-1),a.insert(I.line+1,tt)}Ir(a,"change",a,l)}function po(a,l,d){!function p(v,b,x){if(v.linked)for(var I=0;I<v.linked.length;++I){var M=v.linked[I];if(M.doc!=b){var N=x&&M.sharedHist;d&&!N||(l(M.doc,N),p(M.doc,v,N))}}}(a,null,!0)}function N1(a,l){if(l.cm)throw new Error("This document is already in use.");a.doc=l,l.cm=a,gu(a),R1(a),O1(a),a.options.direction=l.direction,a.options.lineWrapping||pu(a),a.options.mode=l.modeOption,Mr(a)}function O1(a){("rtl"==a.doc.direction?q:et)(a.display.lineDiv,"CodeMirror-rtl")}function ll(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Li(a,l){var d={from:Ji(l.from),to:ss(l),text:Qi(a,l.from,l.to)};return D(a,d,l.from.line,l.to.line+1),po(a,function(p){return D(p,d,l.from.line,l.to.line+1)},!0),d}function Jt(a){for(;a.length&&Kt(a).ranges;)a.pop()}function Yo(a,l,d,p){var v=a.history;v.undone.length=0;var x,I,b=+new Date;if((v.lastOp==p||v.lastOrigin==l.origin&&l.origin&&("+"==l.origin.charAt(0)&&v.lastModTime>b-(a.cm?a.cm.options.historyEventDelay:500)||"*"==l.origin.charAt(0)))&&(x=function(a,l){return l?(Jt(a.done),Kt(a.done)):a.done.length&&!Kt(a.done).ranges?Kt(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),Kt(a.done)):void 0}(v,v.lastOp==p)))I=Kt(x.changes),0==Bt(l.from,l.to)&&0==Bt(l.from,I.to)?I.to=ss(l):x.changes.push(Li(a,l));else{var M=Kt(v.done);for((!M||!M.ranges)&&Qo(a.sel,v.done),x={changes:[Li(a,l)],generation:v.generation},v.done.push(x);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift()}v.done.push(d),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=b,v.lastOp=v.lastSelOp=p,v.lastOrigin=v.lastSelOrigin=l.origin,I||wn(a,"historyAdded")}function Pc(a,l,d,p){var v=a.history,b=p&&p.origin;d==v.lastSelOp||b&&v.lastSelOrigin==b&&(v.lastModTime==v.lastSelTime&&v.lastOrigin==b||function(a,l,d,p){var v=l.charAt(0);return"*"==v||"+"==v&&d.ranges.length==p.ranges.length&&d.somethingSelected()==p.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}(a,b,Kt(v.done),l))?v.done[v.done.length-1]=l:Qo(l,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=b,v.lastSelOp=d,p&&!1!==p.clearRedo&&Jt(v.undone)}function Qo(a,l){var d=Kt(l);d&&d.ranges&&d.equals(a)||l.push(a)}function D(a,l,d,p){var v=l["spans_"+a.id],b=0;a.iter(Math.max(a.first,d),Math.min(a.first+a.size,p),function(x){x.markedSpans&&((v||(v=l["spans_"+a.id]={}))[b]=x.markedSpans),++b})}function R(a){if(!a)return null;for(var l,d=0;d<a.length;++d)a[d].marker.explicitlyCleared?l||(l=a.slice(0,d)):l&&l.push(a[d]);return l?l.length?l:null:a}function W(a,l){var d=function(a,l){var d=l["spans_"+a.id];if(!d)return null;for(var p=[],v=0;v<l.text.length;++v)p.push(R(d[v]));return p}(a,l),p=_1(a,l);if(!d)return p;if(!p)return d;for(var v=0;v<d.length;++v){var b=d[v],x=p[v];if(b&&x)e:for(var I=0;I<x.length;++I){for(var M=x[I],N=0;N<b.length;++N)if(b[N].marker==M.marker)continue e;b.push(M)}else x&&(d[v]=x)}return d}function he(a,l,d){for(var p=[],v=0;v<a.length;++v){var b=a[v];if(b.ranges)p.push(d?en.prototype.deepCopy.call(b):b);else{var x=b.changes,I=[];p.push({changes:I});for(var M=0;M<x.length;++M){var N=x[M],z=void 0;if(I.push({from:N.from,to:N.to,text:N.text}),l)for(var G in N)(z=G.match(/^spans_(\d+)$/))&&_t(l,Number(z[1]))>-1&&(Kt(I)[G]=N[G],delete N[G])}}}return p}function Me(a,l,d,p){if(p){var v=a.anchor;if(d){var b=Bt(l,v)<0;b!=Bt(d,v)<0?(v=l,l=d):b!=Bt(l,d)<0&&(l=d)}return new Ft(v,l)}return new Ft(d||l,l)}function Be(a,l,d,p,v){null==v&&(v=a.cm&&(a.cm.display.shift||a.extend)),vn(a,new en([Me(a.sel.primary(),l,d,v)],0),p)}function lt(a,l,d){for(var p=[],v=a.cm&&(a.cm.display.shift||a.extend),b=0;b<a.sel.ranges.length;b++)p[b]=Me(a.sel.ranges[b],l[b],null,v);vn(a,ur(a.cm,p,a.sel.primIndex),d)}function Ze(a,l,d,p){var v=a.sel.ranges.slice(0);v[l]=d,vn(a,ur(a.cm,v,a.sel.primIndex),p)}function gn(a,l,d,p){vn(a,xs(l,d),p)}function dr(a,l,d){var p=a.history.done,v=Kt(p);v&&v.ranges?(p[p.length-1]=l,pr(a,l,d)):vn(a,l,d)}function vn(a,l,d){pr(a,l,d),Pc(a,a.sel,a.cm?a.cm.curOp.id:NaN,d)}function pr(a,l,d){(Q(a,"beforeSelectionChange")||a.cm&&Q(a.cm,"beforeSelectionChange"))&&(l=function(a,l,d){var p={ranges:l.ranges,update:function(v){this.ranges=[];for(var b=0;b<v.length;b++)this.ranges[b]=new Ft(Lt(a,v[b].anchor),Lt(a,v[b].head))},origin:d&&d.origin};return wn(a,"beforeSelectionChange",a,p),a.cm&&wn(a.cm,"beforeSelectionChange",a.cm,p),p.ranges!=l.ranges?ur(a.cm,p.ranges,p.ranges.length-1):l}(a,l,d));var p=d&&d.bias||(Bt(l.primary().head,a.sel.primary().head)<0?-1:1);Na(a,Ms(a,l,p,!0)),(!d||!1!==d.scroll)&&a.cm&&"nocursor"!=a.cm.getOption("readOnly")&&In(a.cm)}function Na(a,l){l.equals(a.sel)||(a.sel=l,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,ie(a.cm)),Ir(a,"cursorActivity",a))}function cl(a){Na(a,Ms(a,a.sel,null,!1))}function Ms(a,l,d,p){for(var v,b=0;b<l.ranges.length;b++){var x=l.ranges[b],I=l.ranges.length==a.sel.ranges.length&&a.sel.ranges[b],M=oi(a,x.anchor,I&&I.anchor,d,p),N=oi(a,x.head,I&&I.head,d,p);(v||M!=x.anchor||N!=x.head)&&(v||(v=l.ranges.slice(0,b)),v[b]=new Ft(M,N))}return v?ur(a.cm,v,l.primIndex):l}function mr(a,l,d,p,v){var b=ot(a,l.line);if(b.markedSpans)for(var x=0;x<b.markedSpans.length;++x){var I=b.markedSpans[x],M=I.marker,N="selectLeft"in M?!M.selectLeft:M.inclusiveLeft,z="selectRight"in M?!M.selectRight:M.inclusiveRight;if((null==I.from||(N?I.from<=l.ch:I.from<l.ch))&&(null==I.to||(z?I.to>=l.ch:I.to>l.ch))){if(v&&(wn(M,"beforeCursorEnter"),M.explicitlyCleared)){if(b.markedSpans){--x;continue}break}if(!M.atomic)continue;if(d){var G=M.find(p<0?1:-1),oe=void 0;if((p<0?z:N)&&(G=Yr(a,G,-p,G&&G.line==l.line?b:null)),G&&G.line==l.line&&(oe=Bt(G,d))&&(p<0?oe<0:oe>0))return mr(a,G,l,p,v)}var ne=M.find(p<0?-1:1);return(p<0?N:z)&&(ne=Yr(a,ne,p,ne.line==l.line?b:null)),ne?mr(a,ne,l,p,v):null}}return l}function oi(a,l,d,p,v){var b=p||1;return mr(a,l,d,b,v)||!v&&mr(a,l,d,b,!0)||mr(a,l,d,-b,v)||!v&&mr(a,l,d,-b,!0)||(a.cantEdit=!0,Ae(a.first,0))}function Yr(a,l,d,p){return d<0&&0==l.ch?l.line>a.first?Lt(a,Ae(l.line-1)):null:d>0&&l.ch==(p||ot(a,l.line)).text.length?l.line<a.first+a.size-1?Ae(l.line+1,0):null:new Ae(l.line,l.ch+d)}function bn(a){a.setSelection(Ae(a.firstLine(),0),Ae(a.lastLine()),cn)}function Xl(a,l,d){var p={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return p.canceled=!0}};return d&&(p.update=function(v,b,x,I){v&&(p.from=Lt(a,v)),b&&(p.to=Lt(a,b)),x&&(p.text=x),void 0!==I&&(p.origin=I)}),wn(a,"beforeChange",a,p),a.cm&&wn(a.cm,"beforeChange",a.cm,p),p.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:p.from,to:p.to,text:p.text,origin:p.origin}}function Oa(a,l,d){if(a.cm){if(!a.cm.curOp)return Pn(a.cm,Oa)(a,l,d);if(a.cm.state.suppressEdits)return}if(!(Q(a,"beforeChange")||a.cm&&Q(a.cm,"beforeChange"))||(l=Xl(a,l,!0))){var p=Zd&&!d&&function(a,l,d){var p=null;if(a.iter(l.line,d.line+1,function(ne){if(ne.markedSpans)for(var Se=0;Se<ne.markedSpans.length;++Se){var Pe=ne.markedSpans[Se].marker;Pe.readOnly&&(!p||-1==_t(p,Pe))&&(p||(p=[])).push(Pe)}}),!p)return null;for(var v=[{from:l,to:d}],b=0;b<p.length;++b)for(var x=p[b],I=x.find(0),M=0;M<v.length;++M){var N=v[M];if(!(Bt(N.to,I.from)<0||Bt(N.from,I.to)>0)){var z=[M,1],G=Bt(N.from,I.from),oe=Bt(N.to,I.to);(G<0||!x.inclusiveLeft&&!G)&&z.push({from:N.from,to:I.from}),(oe>0||!x.inclusiveRight&&!oe)&&z.push({from:I.to,to:N.to}),v.splice.apply(v,z),M+=z.length-3}}return v}(a,l.from,l.to);if(p)for(var v=p.length-1;v>=0;--v)Jo(a,{from:p[v].from,to:p[v].to,text:v?[""]:l.text,origin:l.origin});else Jo(a,l)}}function Jo(a,l){if(1!=l.text.length||""!=l.text[0]||0!=Bt(l.from,l.to)){var d=Jl(a,l);Yo(a,l,d,a.cm?a.cm.curOp.id:NaN),ec(a,l,d,_1(a,l));var p=[];po(a,function(v,b){!b&&-1==_t(p,v.history)&&(ul(v.history,l),p.push(v.history)),ec(v,l,null,_1(v,l))})}}function Cu(a,l,d){var p=a.cm&&a.cm.state.suppressEdits;if(!p||d){for(var b,v=a.history,x=a.sel,I="undo"==l?v.done:v.undone,M="undo"==l?v.undone:v.done,N=0;N<I.length&&(b=I[N],!(d?b.ranges&&!b.equals(a.sel):!b.ranges));N++);if(N!=I.length){for(v.lastOrigin=v.lastSelOrigin=null;;){if(!(b=I.pop()).ranges){if(p)return void I.push(b);break}if(Qo(b,M),d&&!b.equals(a.sel))return void vn(a,b,{clearRedo:!1});x=b}var z=[];Qo(x,M),M.push({changes:z,generation:v.generation}),v.generation=b.generation||++v.maxGeneration;for(var G=Q(a,"beforeChange")||a.cm&&Q(a.cm,"beforeChange"),oe=function(Pe){var qe=b.changes[Pe];if(qe.origin=l,G&&!Xl(a,qe,!1))return I.length=0,{};z.push(Li(a,qe));var tt=Pe?Jl(a,qe):Kt(I);ec(a,qe,tt,W(a,qe)),!Pe&&a.cm&&a.cm.scrollIntoView({from:qe.from,to:ss(qe)});var it=[];po(a,function(nt,dt){!dt&&-1==_t(it,nt.history)&&(ul(nt.history,qe),it.push(nt.history)),ec(nt,qe,null,W(nt,qe))})},ne=b.changes.length-1;ne>=0;--ne){var Se=oe(ne);if(Se)return Se.v}}}}function e2(a,l){if(0!=l&&(a.first+=l,a.sel=new en(Ps(a.sel.ranges,function(v){return new Ft(Ae(v.anchor.line+l,v.anchor.ch),Ae(v.head.line+l,v.head.ch))}),a.sel.primIndex),a.cm)){Mr(a.cm,a.first,a.first-l,l);for(var d=a.cm.display,p=d.viewFrom;p<d.viewTo;p++)co(a.cm,p,"gutter")}}function ec(a,l,d,p){if(a.cm&&!a.cm.curOp)return Pn(a.cm,ec)(a,l,d,p);if(l.to.line<a.first)e2(a,l.text.length-1-(l.to.line-l.from.line));else if(!(l.from.line>a.lastLine())){if(l.from.line<a.first){var v=l.text.length-1-(a.first-l.from.line);e2(a,v),l={from:Ae(a.first,0),to:Ae(l.to.line+v,l.to.ch),text:[Kt(l.text)],origin:l.origin}}var b=a.lastLine();l.to.line>b&&(l={from:l.from,to:Ae(b,ot(a,b).text.length),text:[l.text[0]],origin:l.origin}),l.removed=Qi(a,l.from,l.to),d||(d=Jl(a,l)),a.cm?function(a,l,d){var p=a.doc,v=a.display,b=l.from,x=l.to,I=!1,M=b.line;a.options.lineWrapping||(M=_n(lo(ot(p,b.line))),p.iter(M,x.line+1,function(ne){if(ne==v.maxLine)return I=!0,!0})),p.sel.contains(l.from,l.to)>-1&&ie(a),Is(p,l,d,ql(a)),a.options.lineWrapping||(p.iter(M,b.line+l.text.length,function(ne){var Se=Ll(ne);Se>v.maxLineLength&&(v.maxLine=ne,v.maxLineLength=Se,v.maxLineChanged=!0,I=!1)}),I&&(a.curOp.updateMaxLine=!0)),function(a,l){if(a.modeFrontier=Math.min(a.modeFrontier,l),!(a.highlightFrontier<l-10)){for(var d=a.first,p=l-1;p>d;p--){var v=ot(a,p).stateAfter;if(v&&(!(v instanceof Lo)||p+v.lookAhead<l)){d=p+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,d)}}(p,b.line),Ko(a,400);var N=l.text.length-(x.line-b.line)-1;l.full?Mr(a):b.line!=x.line||1!=l.text.length||Xd(a.doc,l)?Mr(a,b.line,x.line+1,N):co(a,b.line,"text");var z=Q(a,"changes"),G=Q(a,"change");if(G||z){var oe={from:b,to:x,text:l.text,removed:l.removed,origin:l.origin};G&&Ir(a,"change",a,oe),z&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(oe)}a.display.selForContextMenu=null}(a.cm,l,p):Is(a,l,p),pr(a,d,cn),a.cantEdit&&oi(a,Ae(a.firstLine(),0))&&(a.cantEdit=!1)}}function $s(a,l,d,p,v){var b;p||(p=d),Bt(p,d)<0&&(d=(b=[p,d])[0],p=b[1]),"string"==typeof l&&(l=a.splitLines(l)),Oa(a,{from:d,to:p,text:l,origin:v})}function Lc(a,l,d,p){d<a.line?a.line+=p:l<a.line&&(a.line=l,a.ch=0)}function nh(a,l,d,p){for(var v=0;v<a.length;++v){var b=a[v],x=!0;if(b.ranges){b.copied||((b=a[v]=b.deepCopy()).copied=!0);for(var I=0;I<b.ranges.length;I++)Lc(b.ranges[I].anchor,l,d,p),Lc(b.ranges[I].head,l,d,p)}else{for(var M=0;M<b.changes.length;++M){var N=b.changes[M];if(d<N.from.line)N.from=Ae(N.from.line+p,N.from.ch),N.to=Ae(N.to.line+p,N.to.ch);else if(l<=N.to.line){x=!1;break}}x||(a.splice(0,v+1),v=0)}}}function ul(a,l){var d=l.from.line,p=l.to.line,v=l.text.length-(p-d)-1;nh(a.done,d,p,v),nh(a.undone,d,p,v)}function wu(a,l,d,p){var v=l,b=l;return"number"==typeof l?b=ot(a,so(a,l)):v=_n(l),null==v?null:(p(b,v)&&a.cm&&co(a.cm,v,d),b)}function L1(a){this.lines=a,this.parent=null;for(var l=0,d=0;d<a.length;++d)a[d].parent=this,l+=a[d].height;this.height=l}function tc(a){this.children=a;for(var l=0,d=0,p=0;p<a.length;++p){var v=a[p];l+=v.chunkSize(),d+=v.height,v.parent=this}this.size=l,this.height=d,this.parent=null}Ft.prototype.from=function(){return f1(this.anchor,this.head)},Ft.prototype.to=function(){return Sn(this.anchor,this.head)},Ft.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},L1.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,l){for(var d=a,p=a+l;d<p;++d){var v=this.lines[d];this.height-=v.height,C1(v),Ir(v,"delete")}this.lines.splice(a,l)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,l,d){this.height+=d,this.lines=this.lines.slice(0,a).concat(l).concat(this.lines.slice(a));for(var p=0;p<l.length;++p)l[p].parent=this},iterN:function(a,l,d){for(var p=a+l;a<p;++a)if(d(this.lines[a]))return!0}},tc.prototype={chunkSize:function(){return this.size},removeInner:function(a,l){this.size-=l;for(var d=0;d<this.children.length;++d){var p=this.children[d],v=p.chunkSize();if(a<v){var b=Math.min(l,v-a),x=p.height;if(p.removeInner(a,b),this.height-=x-p.height,v==b&&(this.children.splice(d--,1),p.parent=null),0==(l-=b))break;a=0}else a-=v}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof L1))){var I=[];this.collapse(I),this.children=[new L1(I)],this.children[0].parent=this}},collapse:function(a){for(var l=0;l<this.children.length;++l)this.children[l].collapse(a)},insertInner:function(a,l,d){this.size+=l.length,this.height+=d;for(var p=0;p<this.children.length;++p){var v=this.children[p],b=v.chunkSize();if(a<=b){if(v.insertInner(a,l,d),v.lines&&v.lines.length>50){for(var x=v.lines.length%25+25,I=x;I<v.lines.length;){var M=new L1(v.lines.slice(I,I+=25));v.height-=M.height,this.children.splice(++p,0,M),M.parent=this}v.lines=v.lines.slice(0,x),this.maybeSpill()}break}a-=b}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var d=new tc(a.children.splice(a.children.length-5,5));if(a.parent){a.size-=d.size,a.height-=d.height;var v=_t(a.parent.children,a);a.parent.children.splice(v+1,0,d)}else{var p=new tc(a.children);p.parent=a,a.children=[p,d],a=p}d.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,l,d){for(var p=0;p<this.children.length;++p){var v=this.children[p],b=v.chunkSize();if(a<b){var x=Math.min(l,b-a);if(v.iterN(a,x,d))return!0;if(0==(l-=x))break;a=0}else a-=b}}};var F1=function(a,l,d){if(d)for(var p in d)d.hasOwnProperty(p)&&(this[p]=d[p]);this.doc=a,this.node=l};function t2(a,l,d){Tn(l)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&sd(a,d)}F1.prototype.clear=function(){var a=this.doc.cm,l=this.line.widgets,d=this.line,p=_n(d);if(null!=p&&l){for(var v=0;v<l.length;++v)l[v]==this&&l.splice(v--,1);l.length||(d.widgets=null);var b=bs(this);zt(d,Math.max(0,d.height-b)),a&&(hr(a,function(){t2(a,d,-b),co(a,p,"widget")}),Ir(a,"lineWidgetCleared",a,this,p))}},F1.prototype.changed=function(){var a=this,l=this.height,d=this.doc.cm,p=this.line;this.height=null;var v=bs(this)-l;!v||(zs(this.doc,p)||zt(p,p.height+v),d&&hr(d,function(){d.curOp.forceUpdate=!0,t2(d,p,v),Ir(d,"lineWidgetChanged",d,a,_n(p))}))},se(F1);var ud=0,Ws=function(a,l){this.lines=[],this.type=l,this.doc=a,this.id=++ud};function Xo(a,l,d,p,v){if(p&&p.shared)return function(a,l,d,p,v){(p=Ge(p)).shared=!1;var b=[Xo(a,l,d,p,v)],x=b[0],I=p.widgetNode;return po(a,function(M){I&&(p.widgetNode=I.cloneNode(!0)),b.push(Xo(M,Lt(M,l),Lt(M,d),p,v));for(var N=0;N<M.linked.length;++N)if(M.linked[N].isParent)return;x=Kt(b)}),new Eu(b,x)}(a,l,d,p,v);if(a.cm&&!a.cm.curOp)return Pn(a.cm,Xo)(a,l,d,p,v);var b=new Ws(a,v),x=Bt(l,d);if(p&&Ge(p,b,!1),x>0||0==x&&!1!==b.clearWhenEmpty)return b;if(b.replacedWith&&(b.collapsed=!0,b.widgetNode=Z("span",[b.replacedWith],"CodeMirror-widget"),p.handleMouseEvents||b.widgetNode.setAttribute("cm-ignore-events","true"),p.insertLeft&&(b.widgetNode.insertLeft=!0)),b.collapsed){if(y1(a,l.line,l,d,b)||l.line!=d.line&&y1(a,d.line,l,d,b))throw new Error("Inserting collapsed marker partially overlapping an existing one");Wr=!0}b.addToHistory&&Yo(a,{from:l,to:d,origin:"markText"},a.sel,NaN);var N,I=l.line,M=a.cm;if(a.iter(I,d.line+1,function(G){M&&b.collapsed&&!M.options.lineWrapping&&lo(G)==M.display.maxLine&&(N=!0),b.collapsed&&I!=l.line&&zt(G,0),function(a,l,d){var p=d&&window.WeakSet&&(d.markedSpans||(d.markedSpans=new WeakSet));p&&p.has(a.markedSpans)?a.markedSpans.push(l):(a.markedSpans=a.markedSpans?a.markedSpans.concat([l]):[l],p&&p.add(a.markedSpans)),l.marker.attachLine(a)}(G,new hu(b,I==l.line?l.ch:null,I==d.line?d.ch:null),a.cm&&a.cm.curOp),++I}),b.collapsed&&a.iter(l.line,d.line+1,function(G){zs(a,G)&&zt(G,0)}),b.clearOnEnter&&wt(b,"beforeCursorEnter",function(){return b.clear()}),b.readOnly&&(Zd=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory()),b.collapsed&&(b.id=++ud,b.atomic=!0),M){if(N&&(M.curOp.updateMaxLine=!0),b.collapsed)Mr(M,l.line,d.line+1);else if(b.className||b.startStyle||b.endStyle||b.css||b.attributes||b.title)for(var z=l.line;z<=d.line;z++)co(M,z,"text");b.atomic&&cl(M.doc),Ir(M,"markerAdded",M,b)}return b}Ws.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,l=a&&!a.curOp;if(l&&vi(a),Q(this,"clear")){var d=this.find();d&&Ir(this,"clear",d.from,d.to)}for(var p=null,v=null,b=0;b<this.lines.length;++b){var x=this.lines[b],I=Fo(x.markedSpans,this);a&&!this.collapsed?co(a,_n(x),"text"):a&&(null!=I.to&&(v=_n(x)),null!=I.from&&(p=_n(x))),x.markedSpans=Ol(x.markedSpans,I),null==I.from&&this.collapsed&&!zs(this.doc,x)&&a&&zt(x,Gl(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var M=0;M<this.lines.length;++M){var N=lo(this.lines[M]),z=Ll(N);z>a.display.maxLineLength&&(a.display.maxLine=N,a.display.maxLineLength=z,a.display.maxLineChanged=!0)}null!=p&&a&&this.collapsed&&Mr(a,p,v+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&cl(a.doc)),a&&Ir(a,"markerCleared",a,this,p,v),l&&Wo(a),this.parent&&this.parent.clear()}},Ws.prototype.find=function(a,l){null==a&&"bookmark"==this.type&&(a=1);for(var d,p,v=0;v<this.lines.length;++v){var b=this.lines[v],x=Fo(b.markedSpans,this);if(null!=x.from&&(d=Ae(l?b:_n(b),x.from),-1==a))return d;if(null!=x.to&&(p=Ae(l?b:_n(b),x.to),1==a))return p}return d&&{from:d,to:p}},Ws.prototype.changed=function(){var a=this,l=this.find(-1,!0),d=this,p=this.doc.cm;!l||!p||hr(p,function(){var v=l.line,b=_n(l.line),x=es(p,b);if(x&&(nl(x),p.curOp.selectionChanged=p.curOp.forceUpdate=!0),p.curOp.updateMaxLine=!0,!zs(d.doc,v)&&null!=d.height){var I=d.height;d.height=null;var M=bs(d)-I;M&&zt(v,v.height+M)}Ir(p,"markerChanged",p,a)})},Ws.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||-1==_t(l.maybeHiddenMarkers,this))&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Ws.prototype.detachLine=function(a){if(this.lines.splice(_t(this.lines,a),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},se(Ws);var Eu=function(a,l){this.markers=a,this.primary=l;for(var d=0;d<a.length;++d)a[d].parent=this};function xu(a){return a.findMarks(Ae(a.first,0),a.clipPos(Ae(a.lastLine())),function(l){return l.parent})}function rh(a){for(var l=function(p){var v=a[p],b=[v.primary.doc];po(v.primary.doc,function(M){return b.push(M)});for(var x=0;x<v.markers.length;x++){var I=v.markers[x];-1==_t(b,I.doc)&&(I.parent=null,v.markers.splice(x--,1))}},d=0;d<a.length;d++)l(d)}Eu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Ir(this,"clear")}},Eu.prototype.find=function(a,l){return this.primary.find(a,l)},se(Eu);var dd=0,ai=function(a,l,d,p,v){if(!(this instanceof ai))return new ai(a,l,d,p,v);null==d&&(d=0),tc.call(this,[new L1([new Vs("",null)])]),this.first=d,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=d;var b=Ae(d,0);this.sel=xs(b),this.history=new ll(null),this.id=++dd,this.modeOption=l,this.lineSep=p,this.direction="rtl"==v?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),Is(this,{from:b,to:b,text:a}),vn(this,xs(b),cn)};ai.prototype=ps(tc.prototype,{constructor:ai,iter:function(a,l,d){d?this.iterN(a-this.first,l-a,d):this.iterN(this.first,this.first+this.size,a)},insert:function(a,l){for(var d=0,p=0;p<l.length;++p)d+=l[p].height;this.insertInner(a-this.first,l,d)},remove:function(a,l){this.removeInner(a-this.first,l)},getValue:function(a){var l=Po(this,this.first,this.first+this.size);return!1===a?l:l.join(a||this.lineSeparator())},setValue:Rn(function(a){var l=Ae(this.first,0),d=this.first+this.size-1;Oa(this,{from:l,to:Ae(d,ot(this,d).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&Ri(this.cm,0,0),vn(this,xs(l),cn)}),replaceRange:function(a,l,d,p){$s(this,a,l=Lt(this,l),d=d?Lt(this,d):l,p)},getRange:function(a,l,d){var p=Qi(this,Lt(this,a),Lt(this,l));return!1===d?p:p.join(""===d?"":d||this.lineSeparator())},getLine:function(a){var l=this.getLineHandle(a);return l&&l.text},getLineHandle:function(a){if(ti(this,a))return ot(this,a)},getLineNumber:function(a){return _n(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=ot(this,a)),lo(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Lt(this,a)},getCursor:function(a){var l=this.sel.primary();return null==a||"head"==a?l.head:"anchor"==a?l.anchor:"end"==a||"to"==a||!1===a?l.to():l.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Rn(function(a,l,d){gn(this,Lt(this,"number"==typeof a?Ae(a,l||0):a),null,d)}),setSelection:Rn(function(a,l,d){gn(this,Lt(this,a),Lt(this,l||a),d)}),extendSelection:Rn(function(a,l,d){Be(this,Lt(this,a),l&&Lt(this,l),d)}),extendSelections:Rn(function(a,l){lt(this,pi(this,a),l)}),extendSelectionsBy:Rn(function(a,l){lt(this,pi(this,Ps(this.sel.ranges,a)),l)}),setSelections:Rn(function(a,l,d){if(a.length){for(var p=[],v=0;v<a.length;v++)p[v]=new Ft(Lt(this,a[v].anchor),Lt(this,a[v].head||a[v].anchor));null==l&&(l=Math.min(a.length-1,this.sel.primIndex)),vn(this,ur(this.cm,p,l),d)}}),addSelection:Rn(function(a,l,d){var p=this.sel.ranges.slice(0);p.push(new Ft(Lt(this,a),Lt(this,l||a))),vn(this,ur(this.cm,p,p.length-1),d)}),getSelection:function(a){for(var d,l=this.sel.ranges,p=0;p<l.length;p++){var v=Qi(this,l[p].from(),l[p].to());d=d?d.concat(v):v}return!1===a?d:d.join(a||this.lineSeparator())},getSelections:function(a){for(var l=[],d=this.sel.ranges,p=0;p<d.length;p++){var v=Qi(this,d[p].from(),d[p].to());!1!==a&&(v=v.join(a||this.lineSeparator())),l[p]=v}return l},replaceSelection:function(a,l,d){for(var p=[],v=0;v<this.sel.ranges.length;v++)p[v]=a;this.replaceSelections(p,l,d||"+input")},replaceSelections:Rn(function(a,l,d){for(var p=[],v=this.sel,b=0;b<v.ranges.length;b++){var x=v.ranges[b];p[b]={from:x.from(),to:x.to(),text:this.splitLines(a[b]),origin:d}}for(var I=l&&"end"!=l&&function(a,l,d){for(var p=[],v=Ae(a.first,0),b=v,x=0;x<l.length;x++){var I=l[x],M=bu(I.from,v,b),N=bu(ss(I),v,b);if(v=I.to,b=N,"around"==d){var z=a.sel.ranges[x],G=Bt(z.head,z.anchor)<0;p[x]=new Ft(G?N:M,G?M:N)}else p[x]=new Ft(M,M)}return new en(p,a.sel.primIndex)}(this,p,l),M=p.length-1;M>=0;M--)Oa(this,p[M]);I?dr(this,I):this.cm&&In(this.cm)}),undo:Rn(function(){Cu(this,"undo")}),redo:Rn(function(){Cu(this,"redo")}),undoSelection:Rn(function(){Cu(this,"undo",!0)}),redoSelection:Rn(function(){Cu(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,l=0,d=0,p=0;p<a.done.length;p++)a.done[p].ranges||++l;for(var v=0;v<a.undone.length;v++)a.undone[v].ranges||++d;return{undo:l,redo:d}},clearHistory:function(){var a=this;this.history=new ll(this.history),po(this,function(l){return l.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:he(this.history.done),undone:he(this.history.undone)}},setHistory:function(a){var l=this.history=new ll(this.history);l.done=he(a.done.slice(0),null,!0),l.undone=he(a.undone.slice(0),null,!0)},setGutterMarker:Rn(function(a,l,d){return wu(this,a,"gutter",function(p){var v=p.gutterMarkers||(p.gutterMarkers={});return v[l]=d,!d&&Si(v)&&(p.gutterMarkers=null),!0})}),clearGutter:Rn(function(a){var l=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[a]&&wu(l,d,"gutter",function(){return d.gutterMarkers[a]=null,Si(d.gutterMarkers)&&(d.gutterMarkers=null),!0})})}),lineInfo:function(a){var l;if("number"==typeof a){if(!(ti(this,a)&&(l=a,a=ot(this,a))))return null}else if(null==(l=_n(a)))return null;return{line:l,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Rn(function(a,l,d){return wu(this,a,"gutter"==l?"gutter":"class",function(p){var v="text"==l?"textClass":"background"==l?"bgClass":"gutter"==l?"gutterClass":"wrapClass";if(p[v]){if(He(d).test(p[v]))return!1;p[v]+=" "+d}else p[v]=d;return!0})}),removeLineClass:Rn(function(a,l,d){return wu(this,a,"gutter"==l?"gutter":"class",function(p){var v="text"==l?"textClass":"background"==l?"bgClass":"gutter"==l?"gutterClass":"wrapClass",b=p[v];if(!b)return!1;if(null==d)p[v]=null;else{var x=b.match(He(d));if(!x)return!1;var I=x.index+x[0].length;p[v]=b.slice(0,x.index)+(x.index&&I!=b.length?" ":"")+b.slice(I)||null}return!0})}),addLineWidget:Rn(function(a,l,d){return function(a,l,d,p){var v=new F1(a,d,p),b=a.cm;return b&&v.noHScroll&&(b.display.alignWidgets=!0),wu(a,l,"widget",function(x){var I=x.widgets||(x.widgets=[]);if(null==v.insertAt?I.push(v):I.splice(Math.min(I.length,Math.max(0,v.insertAt)),0,v),v.line=x,b&&!zs(a,x)){var M=Tn(x)<a.scrollTop;zt(x,x.height+bs(v)),M&&sd(b,v.height),b.curOp.forceUpdate=!0}return!0}),b&&Ir(b,"lineWidgetAdded",b,v,"number"==typeof l?l:_n(l)),v}(this,a,l,d)}),removeLineWidget:function(a){a.clear()},markText:function(a,l,d){return Xo(this,Lt(this,a),Lt(this,l),d,d&&d.type||"range")},setBookmark:function(a,l){var d={replacedWith:l&&(null==l.nodeType?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return Xo(this,a=Lt(this,a),a,d,"bookmark")},findMarksAt:function(a){var l=[],d=ot(this,(a=Lt(this,a)).line).markedSpans;if(d)for(var p=0;p<d.length;++p){var v=d[p];(null==v.from||v.from<=a.ch)&&(null==v.to||v.to>=a.ch)&&l.push(v.marker.parent||v.marker)}return l},findMarks:function(a,l,d){a=Lt(this,a),l=Lt(this,l);var p=[],v=a.line;return this.iter(a.line,l.line+1,function(b){var x=b.markedSpans;if(x)for(var I=0;I<x.length;I++){var M=x[I];!(null!=M.to&&v==a.line&&a.ch>=M.to||null==M.from&&v!=a.line||null!=M.from&&v==l.line&&M.from>=l.ch)&&(!d||d(M.marker))&&p.push(M.marker.parent||M.marker)}++v}),p},getAllMarks:function(){var a=[];return this.iter(function(l){var d=l.markedSpans;if(d)for(var p=0;p<d.length;++p)null!=d[p].from&&a.push(d[p].marker)}),a},posFromIndex:function(a){var l,d=this.first,p=this.lineSeparator().length;return this.iter(function(v){var b=v.text.length+p;if(b>a)return l=a,!0;a-=b,++d}),Lt(this,Ae(d,l))},indexFromPos:function(a){var l=(a=Lt(this,a)).ch;if(a.line<this.first||a.ch<0)return 0;var d=this.lineSeparator().length;return this.iter(this.first,a.line,function(p){l+=p.text.length+d}),l},copy:function(a){var l=new ai(Po(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,a&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(a){a||(a={});var l=this.first,d=this.first+this.size;null!=a.from&&a.from>l&&(l=a.from),null!=a.to&&a.to<d&&(d=a.to);var p=new ai(Po(this,l,d),a.mode||this.modeOption,l,this.lineSep,this.direction);return a.sharedHist&&(p.history=this.history),(this.linked||(this.linked=[])).push({doc:p,sharedHist:a.sharedHist}),p.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],function(a,l){for(var d=0;d<l.length;d++){var p=l[d],v=p.find(),b=a.clipPos(v.from),x=a.clipPos(v.to);if(Bt(b,x)){var I=Xo(a,b,x,p.primary,p.primary.type);p.markers.push(I),I.parent=p}}}(p,xu(this)),p},unlinkDoc:function(a){if(a instanceof nr&&(a=a.doc),this.linked)for(var l=0;l<this.linked.length;++l)if(this.linked[l].doc==a){this.linked.splice(l,1),a.unlinkDoc(this),rh(xu(this));break}if(a.history==this.history){var p=[a.id];po(a,function(v){return p.push(v.id)},!0),a.history=new ll(null),a.history.done=he(this.history.done,p),a.history.undone=he(this.history.undone,p)}},iterLinkedDocs:function(a){po(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):ma(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Rn(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(l){return l.order=null}),this.cm&&function(a){hr(a,function(){O1(a),Mr(a)})}(this.cm))})}),ai.prototype.eachLine=ai.prototype.iter;var Pa=0;function dl(a){var l=this;if(r2(l),!Yn(l,a)&&!ki(l.display,a)){Re(a),ce&&(Pa=+new Date);var d=sl(l,a,!0),p=a.dataTransfer.files;if(d&&!l.isReadOnly())if(p&&p.length&&window.FileReader&&window.File)for(var v=p.length,b=Array(v),x=0,I=function(){++x==v&&Pn(l,function(){var ne={from:d=Lt(l.doc,d),to:d,text:l.doc.splitLines(b.filter(function(Se){return null!=Se}).join(l.doc.lineSeparator())),origin:"paste"};Oa(l.doc,ne),dr(l.doc,xs(Lt(l.doc,d),Lt(l.doc,ss(ne))))})()},M=function(ne,Se){if(l.options.allowDropFileTypes&&-1==_t(l.options.allowDropFileTypes,ne.type))I();else{var Pe=new FileReader;Pe.onerror=function(){return I()},Pe.onload=function(){var qe=Pe.result;/[\x00-\x08\x0e-\x1f]{2}/.test(qe)||(b[Se]=qe),I()},Pe.readAsText(ne)}},N=0;N<p.length;N++)M(p[N],N);else{if(l.state.draggingText&&l.doc.sel.contains(d)>-1)return l.state.draggingText(a),void setTimeout(function(){return l.display.input.focus()},20);try{var z=a.dataTransfer.getData("Text");if(z){var G;if(l.state.draggingText&&!l.state.draggingText.copy&&(G=l.listSelections()),pr(l.doc,xs(d,d)),G)for(var oe=0;oe<G.length;++oe)$s(l.doc,"",G[oe].anchor,G[oe].head,"drag");l.replaceSelection(z,"around","paste"),l.display.input.focus()}}catch(ne){}}}}function r2(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function fd(a){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),d=[],p=0;p<l.length;p++){var v=l[p].CodeMirror;v&&d.push(v)}d.length&&d[0].operation(function(){for(var b=0;b<d.length;b++)a(d[b])})}}var yi=!1;function nc(){yi||(function(){var a;wt(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,fd(V1)},100))}),wt(window,"blur",function(){return fd(gi)})}(),yi=!0)}function V1(a){var l=a.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,a.setSize()}for(var hl={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},rc=0;rc<10;rc++)hl[rc+48]=hl[rc+96]=String(rc);for(var H1=65;H1<=90;H1++)hl[H1]=String.fromCharCode(H1);for(var Fc=1;Fc<=12;Fc++)hl[Fc+111]=hl[Fc+63235]="F"+Fc;var mo={};function pf(a){var l=a.split(/-(?!$)/);a=l[l.length-1];for(var d,p,v,b,x=0;x<l.length-1;x++){var I=l[x];if(/^(cmd|meta|m)$/i.test(I))b=!0;else if(/^a(lt)?$/i.test(I))d=!0;else if(/^(c|ctrl|control)$/i.test(I))p=!0;else{if(!/^s(hift)?$/i.test(I))throw new Error("Unrecognized modifier name: "+I);v=!0}}return d&&(a="Alt-"+a),p&&(a="Ctrl-"+a),b&&(a="Cmd-"+a),v&&(a="Shift-"+a),a}function pd(a){var l={};for(var d in a)if(a.hasOwnProperty(d)){var p=a[d];if(/^(name|fallthrough|(de|at)tach)$/.test(d))continue;if("..."==p){delete a[d];continue}for(var v=Ps(d.split(" "),pf),b=0;b<v.length;b++){var x=void 0,I=void 0;b==v.length-1?(I=v.join(" "),x=p):(I=v.slice(0,b+1).join(" "),x="...");var M=l[I];if(M){if(M!=x)throw new Error("Inconsistent bindings for "+I)}else l[I]=x}delete a[d]}for(var N in l)a[N]=l[N];return a}function go(a,l,d,p){var v=(l=vo(l)).call?l.call(a,p):l[a];if(!1===v)return"nothing";if("..."===v)return"multi";if(null!=v&&d(v))return"handled";if(l.fallthrough){if("[object Array]"!=Object.prototype.toString.call(l.fallthrough))return go(a,l.fallthrough,d,p);for(var b=0;b<l.fallthrough.length;b++){var x=go(a,l.fallthrough[b],d,p);if(x)return x}}}function sh(a){var l="string"==typeof a?a:hl[a.keyCode];return"Ctrl"==l||"Alt"==l||"Shift"==l||"Mod"==l}function mf(a,l,d){var p=a;return l.altKey&&"Alt"!=p&&(a="Alt-"+a),(De?l.metaKey:l.ctrlKey)&&"Ctrl"!=p&&(a="Ctrl-"+a),(De?l.ctrlKey:l.metaKey)&&"Mod"!=p&&(a="Cmd-"+a),!d&&l.shiftKey&&"Shift"!=p&&(a="Shift-"+a),a}function zc(a,l){if(J&&34==a.keyCode&&a.char)return!1;var d=hl[a.keyCode];return null!=d&&!a.altGraphKey&&(3==a.keyCode&&a.code&&(d=a.code),mf(d,a,l))}function vo(a){return"string"==typeof a?mo[a]:a}function ea(a,l){for(var d=a.doc.sel.ranges,p=[],v=0;v<d.length;v++){for(var b=l(d[v]);p.length&&Bt(b.from,Kt(p).to)<=0;){var x=p.pop();if(Bt(x.from,b.from)<0){b.from=x.from;break}}p.push(b)}hr(a,function(){for(var I=p.length-1;I>=0;I--)$s(a.doc,"",p[I].from,p[I].to,"+delete");In(a)})}function Zs(a,l,d){var p=Ot(a.text,l+d,d);return p<0||p>a.text.length?null:p}function ic(a,l,d){var p=Zs(a,l.ch,d);return null==p?null:new Ae(l.line,p,d<0?"after":"before")}function B1(a,l,d,p,v){if(a){"rtl"==l.doc.direction&&(v=-v);var b=xt(d,l.doc.direction);if(b){var N,x=v<0?Kt(b):b[0],M=v<0==(1==x.level)?"after":"before";if(x.level>0||"rtl"==l.doc.direction){var z=ii(l,d),G=ts(l,z,N=v<0?d.text.length-1:0).top;N=on(function(oe){return ts(l,z,oe).top==G},v<0==(1==x.level)?x.from:x.to-1,N),"before"==M&&(N=Zs(d,N,1))}else N=v<0?x.to:x.from;return new Ae(p,N,M)}}return new Ae(p,v<0?d.text.length:0,v<0?"before":"after")}mo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},mo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},mo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},mo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},mo.default=_e?mo.macDefault:mo.pcDefault;var U1={selectAll:bn,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),cn)},killLine:function(a){return ea(a,function(l){if(l.empty()){var d=ot(a.doc,l.head.line).text.length;return l.head.ch==d&&l.head.line<a.lastLine()?{from:l.head,to:Ae(l.head.line+1,0)}:{from:l.head,to:Ae(l.head.line,d)}}return{from:l.from(),to:l.to()}})},deleteLine:function(a){return ea(a,function(l){return{from:Ae(l.from().line,0),to:Lt(a.doc,Ae(l.to().line+1,0))}})},delLineLeft:function(a){return ea(a,function(l){return{from:Ae(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(a){return ea(a,function(l){var d=a.charCoords(l.head,"div").top+5;return{from:a.coordsChar({left:0,top:d},"div"),to:l.from()}})},delWrappedLineRight:function(a){return ea(a,function(l){var d=a.charCoords(l.head,"div").top+5,p=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:d},"div");return{from:l.from(),to:p}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Ae(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Ae(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(l){return s2(a,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(l){return oh(a,l.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(l){return function(a,l){var d=ot(a.doc,l),p=function(a){for(var l;l=va(a);)a=l.find(1,!0).line;return a}(d);return p!=d&&(l=_n(p)),B1(!0,a,d,l,-1)}(a,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(l){var d=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:d},"div")},Yt)},goLineLeft:function(a){return a.extendSelectionsBy(function(l){var d=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:0,top:d},"div")},Yt)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(l){var d=a.cursorCoords(l.head,"div").top+5,p=a.coordsChar({left:0,top:d},"div");return p.ch<a.getLine(p.line).search(/\S/)?oh(a,l.head):p},Yt)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var l=[],d=a.listSelections(),p=a.options.tabSize,v=0;v<d.length;v++){var b=d[v].from(),x=Je(a.getLine(b.line),b.ch,p);l.push(ro(p-x%p))}a.replaceSelections(l)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return hr(a,function(){for(var l=a.listSelections(),d=[],p=0;p<l.length;p++)if(l[p].empty()){var v=l[p].head,b=ot(a.doc,v.line).text;if(b)if(v.ch==b.length&&(v=new Ae(v.line,v.ch-1)),v.ch>0)v=new Ae(v.line,v.ch+1),a.replaceRange(b.charAt(v.ch-1)+b.charAt(v.ch-2),Ae(v.line,v.ch-2),v,"+transpose");else if(v.line>a.doc.first){var x=ot(a.doc,v.line-1).text;x&&(v=new Ae(v.line,1),a.replaceRange(b.charAt(0)+a.doc.lineSeparator()+x.charAt(x.length-1),Ae(v.line-1,x.length-1),v,"+transpose"))}d.push(new Ft(v,v))}a.setSelections(d)})},newlineAndIndent:function(a){return hr(a,function(){for(var l=a.listSelections(),d=l.length-1;d>=0;d--)a.replaceRange(a.doc.lineSeparator(),l[d].anchor,l[d].head,"+input");l=a.listSelections();for(var p=0;p<l.length;p++)a.indentLine(l[p].from().line,null,!0);In(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function s2(a,l){var d=ot(a.doc,l),p=lo(d);return p!=d&&(l=_n(p)),B1(!0,a,p,l,1)}function oh(a,l){var d=s2(a,l.line),p=ot(a.doc,d.line),v=xt(p,a.doc.direction);if(!v||0==v[0].level){var b=Math.max(d.ch,p.text.search(/\S/));return Ae(d.line,l.line==d.line&&l.ch<=b&&l.ch?0:b,d.sticky)}return d}function fl(a,l,d){if("string"==typeof l&&!(l=U1[l]))return!1;a.display.input.ensurePolled();var p=a.display.shift,v=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),d&&(a.display.shift=!1),v=l(a)!=Er}finally{a.display.shift=p,a.state.suppressEdits=!1}return v}var Su=new vt;function Tu(a,l,d,p){var v=a.state.keySeq;if(v){if(sh(l))return"handled";if(/\'$/.test(l)?a.state.keySeq=null:Su.set(50,function(){a.state.keySeq==v&&(a.state.keySeq=null,a.display.input.reset())}),gd(a,v+" "+l,d,p))return!0}return gd(a,l,d,p)}function gd(a,l,d,p){var v=function(a,l,d){for(var p=0;p<a.state.keyMaps.length;p++){var v=go(l,a.state.keyMaps[p],d,a);if(v)return v}return a.options.extraKeys&&go(l,a.options.extraKeys,d,a)||go(l,a.options.keyMap,d,a)}(a,l,p);return"multi"==v&&(a.state.keySeq=l),"handled"==v&&Ir(a,"keyHandled",a,l,d),("handled"==v||"multi"==v)&&(Re(d),Br(a)),!!v}function vd(a,l){var d=zc(l,!0);return!!d&&(l.shiftKey&&!a.state.keySeq?Tu(a,"Shift-"+d,l,function(p){return fl(a,p,!0)})||Tu(a,d,l,function(p){if("string"==typeof p?/^go[A-Z]/.test(p):p.motion)return fl(a,p)}):Tu(a,d,l,function(p){return fl(a,p)}))}var Iu=null;function _d(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField()||(l.curOp.focus=Y(),Yn(l,a)))){ce&&fe<11&&27==a.keyCode&&(a.returnValue=!1);var d=a.keyCode;l.display.shift=16==d||a.shiftKey;var p=vd(l,a);J&&(Iu=p?d:null,!p&&88==d&&!d1&&(_e?a.metaKey:a.ctrlKey)&&l.replaceSelection("",null,"cut")),h&&!_e&&!p&&46==d&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==d&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&function(a){var l=a.display.lineDiv;function d(p){(18==p.keyCode||!p.altKey)&&(et(l,"CodeMirror-crosshair"),nn(document,"keyup",d),nn(document,"mouseover",d))}q(l,"CodeMirror-crosshair"),wt(document,"keyup",d),wt(document,"mouseover",d)}(l)}}function La(a){16==a.keyCode&&(this.doc.sel.shift=!1),Yn(this,a)}function sc(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField()||ki(l.display,a)||Yn(l,a)||a.ctrlKey&&!a.altKey||_e&&a.metaKey)){var d=a.keyCode,p=a.charCode;if(J&&d==Iu)return Iu=null,void Re(a);if(!J||a.which&&!(a.which<10)||!vd(l,a)){var v=String.fromCharCode(null==p?d:p);"\b"!=v&&(function(a,l,d){return Tu(a,"'"+d+"'",l,function(p){return fl(a,p,!0)})}(l,a,v)||l.display.input.onKeyPress(a))}}}var Du,Zn,Mu=function(a,l,d){this.time=a,this.pos=l,this.button=d};function j1(a){var l=this,d=l.display;if(!(Yn(l,a)||d.activeTouch&&d.input.supportsTouch())){if(d.input.ensurePolled(),d.shift=a.shiftKey,ki(d,a))return void(le||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100)));if(!dh(l,a)){var p=sl(l,a),v=Qn(a),b=p?function(a,l){var d=+new Date;return Zn&&Zn.compare(d,a,l)?(Du=Zn=null,"triple"):Du&&Du.compare(d,a,l)?(Zn=new Mu(d,a,l),Du=null,"double"):(Du=new Mu(d,a,l),Zn=null,"single")}(p,v):"single";window.focus(),1==v&&l.state.selectingText&&l.state.selectingText(a),(!p||!function(a,l,d,p,v){var b="Click";return"double"==p?b="Double"+b:"triple"==p&&(b="Triple"+b),Tu(a,mf(b=(1==l?"Left":2==l?"Middle":"Right")+b,v),v,function(x){if("string"==typeof x&&(x=U1[x]),!x)return!1;var I=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),I=x(a,d)!=Er}finally{a.state.suppressEdits=!1}return I})}(l,v,p,b,a))&&(1==v?p?function(a,l,d,p){ce?setTimeout(Rt(ns,a),0):a.curOp.focus=Y();var x,v=function(a,l,d){var p=a.getOption("configureMouse"),v=p?p(a,l,d):{};return null==v.unit&&(v.unit=(de?d.shiftKey&&d.metaKey:d.altKey)?"rectangle":"single"==l?"char":"double"==l?"word":"line"),(null==v.extend||a.doc.extend)&&(v.extend=a.doc.extend||d.shiftKey),null==v.addNew&&(v.addNew=_e?d.metaKey:d.ctrlKey),null==v.moveOnDrag&&(v.moveOnDrag=!(_e?d.altKey:d.ctrlKey)),v}(a,d,p),b=a.doc.sel;a.options.dragDrop&&Bn&&!a.isReadOnly()&&"single"==d&&(x=b.contains(l))>-1&&(Bt((x=b.ranges[x]).from(),l)<0||l.xRel>0)&&(Bt(x.to(),l)>0||l.xRel<0)?function(a,l,d,p){var v=a.display,b=!1,x=Pn(a,function(N){le&&(v.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:vu(a)),nn(v.wrapper.ownerDocument,"mouseup",x),nn(v.wrapper.ownerDocument,"mousemove",I),nn(v.scroller,"dragstart",M),nn(v.scroller,"drop",x),b||(Re(N),p.addNew||Be(a.doc,d,null,null,p.extend),le&&!ee||ce&&9==fe?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),I=function(N){b=b||Math.abs(l.clientX-N.clientX)+Math.abs(l.clientY-N.clientY)>=10},M=function(){return b=!0};le&&(v.scroller.draggable=!0),a.state.draggingText=x,x.copy=!p.moveOnDrag,wt(v.wrapper.ownerDocument,"mouseup",x),wt(v.wrapper.ownerDocument,"mousemove",I),wt(v.scroller,"dragstart",M),wt(v.scroller,"drop",x),a.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}(a,p,l,v):function(a,l,d,p){ce&&vu(a);var v=a.display,b=a.doc;Re(l);var x,I,M=b.sel,N=M.ranges;if(p.addNew&&!p.extend?(I=b.sel.contains(d),x=I>-1?N[I]:new Ft(d,d)):(x=b.sel.primary(),I=b.sel.primIndex),"rectangle"==p.unit)p.addNew||(x=new Ft(d,d)),d=sl(a,l,!0,!0),I=-1;else{var z=c2(a,d,p.unit);x=p.extend?Me(x,z.anchor,z.head,p.extend):z}p.addNew?-1==I?(I=N.length,vn(b,ur(a,N.concat([x]),I),{scroll:!1,origin:"*mouse"})):N.length>1&&N[I].empty()&&"char"==p.unit&&!p.extend?(vn(b,ur(a,N.slice(0,I).concat(N.slice(I+1)),0),{scroll:!1,origin:"*mouse"}),M=b.sel):Ze(b,I,x,Hn):(I=0,vn(b,new en([x],0),Hn),M=b.sel);var G=d;function oe(nt){if(0!=Bt(G,nt))if(G=nt,"rectangle"==p.unit){for(var dt=[],Mt=a.options.tabSize,Et=Je(ot(b,d.line).text,d.ch,Mt),Qt=Je(ot(b,nt.line).text,nt.ch,Mt),Fn=Math.min(Et,Qt),rr=Math.max(Et,Qt),ir=Math.min(d.line,nt.line),Ks=Math.min(a.lastLine(),Math.max(d.line,nt.line));ir<=Ks;ir++){var cs=ot(b,ir).text,kr=Vr(cs,Fn,Mt);Fn==rr?dt.push(new Ft(Ae(ir,kr),Ae(ir,kr))):cs.length>kr&&dt.push(new Ft(Ae(ir,kr),Ae(ir,Vr(cs,rr,Mt))))}dt.length||dt.push(new Ft(d,d)),vn(b,ur(a,M.ranges.slice(0,I).concat(dt),I),{origin:"*mouse",scroll:!1}),a.scrollIntoView(nt)}else{var Qr,Ys=x,Fi=c2(a,nt,p.unit),li=Ys.anchor;Bt(Fi.anchor,li)>0?(Qr=Fi.head,li=f1(Ys.from(),Fi.anchor)):(Qr=Fi.anchor,li=Sn(Ys.to(),Fi.head));var Rr=M.ranges.slice(0);Rr[I]=function(a,l){var d=l.anchor,p=l.head,v=ot(a.doc,d.line);if(0==Bt(d,p)&&d.sticky==p.sticky)return l;var b=xt(v);if(!b)return l;var x=xn(b,d.ch,d.sticky),I=b[x];if(I.from!=d.ch&&I.to!=d.ch)return l;var N,M=x+(I.from==d.ch==(1!=I.level)?0:1);if(0==M||M==b.length)return l;if(p.line!=d.line)N=(p.line-d.line)*("ltr"==a.doc.direction?1:-1)>0;else{var z=xn(b,p.ch,p.sticky),G=z-x||(p.ch-d.ch)*(1==I.level?-1:1);N=z==M-1||z==M?G<0:G>0}var oe=b[M+(N?-1:0)],ne=N==(1==oe.level),Se=ne?oe.from:oe.to,Pe=ne?"after":"before";return d.ch==Se&&d.sticky==Pe?l:new Ft(new Ae(d.line,Se,Pe),p)}(a,new Ft(Lt(b,li),Qr)),vn(b,ur(a,Rr,I),Hn)}}var ne=v.wrapper.getBoundingClientRect(),Se=0;function Pe(nt){var dt=++Se,Mt=sl(a,nt,!0,"rectangle"==p.unit);if(Mt)if(0!=Bt(Mt,G)){a.curOp.focus=Y(),oe(Mt);var Et=Ia(v,b);(Mt.line>=Et.to||Mt.line<Et.from)&&setTimeout(Pn(a,function(){Se==dt&&Pe(nt)}),150)}else{var Qt=nt.clientY<ne.top?-20:nt.clientY>ne.bottom?20:0;Qt&&setTimeout(Pn(a,function(){Se==dt&&(v.scroller.scrollTop+=Qt,Pe(nt))}),50)}}function qe(nt){a.state.selectingText=!1,Se=1/0,nt&&(Re(nt),v.input.focus()),nn(v.wrapper.ownerDocument,"mousemove",tt),nn(v.wrapper.ownerDocument,"mouseup",it),b.history.lastSelOrigin=null}var tt=Pn(a,function(nt){0!==nt.buttons&&Qn(nt)?Pe(nt):qe(nt)}),it=Pn(a,qe);a.state.selectingText=it,wt(v.wrapper.ownerDocument,"mousemove",tt),wt(v.wrapper.ownerDocument,"mouseup",it)}(a,p,l,v)}(l,p,b,a):En(a)==d.scroller&&Re(a):2==v?(p&&Be(l.doc,p),setTimeout(function(){return d.input.focus()},20)):3==v&&($e?l.display.input.onContextMenu(a):vu(l)))}}}function c2(a,l,d){if("char"==d)return new Ft(l,l);if("word"==d)return a.findWordAt(l);if("line"==d)return new Ft(Ae(l.line,0),Lt(a.doc,Ae(l.line+1,0)));var p=d(a,l);return new Ft(p.from,p.to)}function vf(a,l,d,p){var v,b;if(l.touches)v=l.touches[0].clientX,b=l.touches[0].clientY;else try{v=l.clientX,b=l.clientY}catch(oe){return!1}if(v>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;p&&Re(l);var x=a.display,I=x.lineDiv.getBoundingClientRect();if(b>I.bottom||!Q(a,d))return yt(l);b-=I.top-x.viewOffset;for(var M=0;M<a.display.gutterSpecs.length;++M){var N=x.gutters.childNodes[M];if(N&&N.getBoundingClientRect().right>=v)return wn(a,d,a,Di(a.doc,b),a.display.gutterSpecs[M].className,l),yt(l)}}function dh(a,l){return vf(a,l,"gutterClick",!0)}function pl(a,l){ki(a.display,l)||function(a,l){return!!Q(a,"gutterContextMenu")&&vf(a,l,"gutterContextMenu",!1)}(a,l)||Yn(a,l,"contextmenu")||$e||a.display.input.onContextMenu(l)}function Hc(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Uo(a)}Mu.prototype.compare=function(a,l,d){return this.time+400>a&&0==Bt(l,this.pos)&&d==this.button};var ml={toString:function(){return"CodeMirror.Init"}},G1={},gr={};function os(a,l,d){if(!l!=!(d&&d!=ml)){var v=a.display.dragFunctions,b=l?wt:nn;b(a.display.scroller,"dragstart",v.start),b(a.display.scroller,"dragenter",v.enter),b(a.display.scroller,"dragover",v.over),b(a.display.scroller,"dragleave",v.leave),b(a.display.scroller,"drop",v.drop)}}function ku(a){a.options.lineWrapping?(q(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(et(a.display.wrapper,"CodeMirror-wrap"),pu(a)),gu(a),Mr(a),Uo(a),setTimeout(function(){return $o(a)},100)}function nr(a,l){var d=this;if(!(this instanceof nr))return new nr(a,l);this.options=l=l?Ge(l):{},Ge(G1,l,!1);var p=l.value;"string"==typeof p?p=new ai(p,l.mode,null,l.lineSeparator,l.direction):l.mode&&(p.modeOption=l.mode),this.doc=p;var v=new nr.inputStyles[l.inputStyle](this),b=this.display=new Yl(a,p,v,l);for(var x in b.wrapper.CodeMirror=this,Hc(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Aa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new vt,keySeq:null,specialChars:null},l.autofocus&&!Ye&&b.input.focus(),ce&&fe<11&&setTimeout(function(){return d.display.input.reset(!0)},20),function(a){var l=a.display;wt(l.scroller,"mousedown",Pn(a,j1)),wt(l.scroller,"dblclick",ce&&fe<11?Pn(a,function(M){if(!Yn(a,M)){var N=sl(a,M);if(N&&!dh(a,M)&&!ki(a.display,M)){Re(M);var z=a.findWordAt(N);Be(a.doc,z.anchor,z.head)}}}):function(M){return Yn(a,M)||Re(M)}),wt(l.scroller,"contextmenu",function(M){return pl(a,M)}),wt(l.input.getField(),"contextmenu",function(M){l.scroller.contains(M.target)||pl(a,M)});var d,p={end:0};function v(){l.activeTouch&&(d=setTimeout(function(){return l.activeTouch=null},1e3),(p=l.activeTouch).end=+new Date)}function b(M){if(1!=M.touches.length)return!1;var N=M.touches[0];return N.radiusX<=1&&N.radiusY<=1}function x(M,N){if(null==N.left)return!0;var z=N.left-M.left,G=N.top-M.top;return z*z+G*G>400}wt(l.scroller,"touchstart",function(M){if(!Yn(a,M)&&!b(M)&&!dh(a,M)){l.input.ensurePolled(),clearTimeout(d);var N=+new Date;l.activeTouch={start:N,moved:!1,prev:N-p.end<=300?p:null},1==M.touches.length&&(l.activeTouch.left=M.touches[0].pageX,l.activeTouch.top=M.touches[0].pageY)}}),wt(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),wt(l.scroller,"touchend",function(M){var N=l.activeTouch;if(N&&!ki(l,M)&&null!=N.left&&!N.moved&&new Date-N.start<300){var G,z=a.coordsChar(l.activeTouch,"page");G=!N.prev||x(N,N.prev)?new Ft(z,z):!N.prev.prev||x(N,N.prev.prev)?a.findWordAt(z):new Ft(Ae(z.line,0),Lt(a.doc,Ae(z.line+1,0))),a.setSelection(G.anchor,G.head),a.focus(),Re(M)}v()}),wt(l.scroller,"touchcancel",v),wt(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Mn(a,l.scroller.scrollTop),Ur(a,l.scroller.scrollLeft,!0),wn(a,"scroll",a))}),wt(l.scroller,"mousewheel",function(M){return is(a,M)}),wt(l.scroller,"DOMMouseScroll",function(M){return is(a,M)}),wt(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(M){Yn(a,M)||It(M)},over:function(M){Yn(a,M)||(function(a,l){var d=sl(a,l);if(d){var p=document.createDocumentFragment();qo(a,d,p),a.display.dragCursor||(a.display.dragCursor=H("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),ye(a.display.dragCursor,p)}}(a,M),It(M))},start:function(M){return function(a,l){if(ce&&(!a.state.draggingText||+new Date-Pa<100))It(l);else if(!Yn(a,l)&&!ki(a.display,l)&&(l.dataTransfer.setData("Text",a.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!ee)){var d=H("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",J&&(d.width=d.height=1,a.display.wrapper.appendChild(d),d._top=d.offsetTop),l.dataTransfer.setDragImage(d,0,0),J&&d.parentNode.removeChild(d)}}(a,M)},drop:Pn(a,dl),leave:function(M){Yn(a,M)||r2(a)}};var I=l.input.getField();wt(I,"keyup",function(M){return La.call(a,M)}),wt(I,"keydown",Pn(a,_d)),wt(I,"keypress",Pn(a,sc)),wt(I,"focus",function(M){return _u(a,M)}),wt(I,"blur",function(M){return gi(a,M)})}(this),nc(),vi(this),this.curOp.forceUpdate=!0,N1(this,p),l.autofocus&&!Ye||this.hasFocus()?setTimeout(function(){d.hasFocus()&&!d.state.focused&&_u(d)},20):gi(this),gr)gr.hasOwnProperty(x)&&gr[x](this,l[x],ml);Oi(this),l.finishInit&&l.finishInit(this);for(var I=0;I<q1.length;++I)q1[I](this);Wo(this),le&&l.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}nr.defaults=G1,nr.optionHandlers=gr;var q1=[];function gl(a,l,d,p){var b,v=a.doc;null==d&&(d="add"),"smart"==d&&(v.mode.indent?b=ni(a,l).state:d="prev");var x=a.options.tabSize,I=ot(v,l),M=Je(I.text,null,x);I.stateAfter&&(I.stateAfter=null);var z,N=I.text.match(/^\s*/)[0];if(p||/\S/.test(I.text)){if("smart"==d&&((z=v.mode.indent(b,I.text.slice(N.length),I.text))==Er||z>150)){if(!p)return;d="prev"}}else z=0,d="not";"prev"==d?z=l>v.first?Je(ot(v,l-1).text,null,x):0:"add"==d?z=M+a.options.indentUnit:"subtract"==d?z=M-a.options.indentUnit:"number"==typeof d&&(z=M+d),z=Math.max(0,z);var G="",oe=0;if(a.options.indentWithTabs)for(var ne=Math.floor(z/x);ne;--ne)oe+=x,G+="\t";if(oe<z&&(G+=ro(z-oe)),G!=N)return $s(v,G,Ae(l,0),Ae(l,N.length),"+input"),I.stateAfter=null,!0;for(var Se=0;Se<v.sel.ranges.length;Se++){var Pe=v.sel.ranges[Se];if(Pe.head.line==l&&Pe.head.ch<N.length){var qe=Ae(l,N.length);Ze(v,Se,new Ft(qe,qe));break}}}nr.defineInitHook=function(a){return q1.push(a)};var as=null;function Bc(a){as=a}function $1(a,l,d,p,v){var b=a.doc;a.display.shift=!1,p||(p=b.sel);var x=+new Date-200,I="paste"==v||a.state.pasteIncoming>x,M=ma(l),N=null;if(I&&p.ranges.length>1)if(as&&as.text.join("\n")==l){if(p.ranges.length%as.text.length==0){N=[];for(var z=0;z<as.text.length;z++)N.push(b.splitLines(as.text[z]))}}else M.length==p.ranges.length&&a.options.pasteLinesPerSelection&&(N=Ps(M,function(tt){return[tt]}));for(var G=a.curOp.updateInput,oe=p.ranges.length-1;oe>=0;oe--){var ne=p.ranges[oe],Se=ne.from(),Pe=ne.to();ne.empty()&&(d&&d>0?Se=Ae(Se.line,Se.ch-d):a.state.overwrite&&!I?Pe=Ae(Pe.line,Math.min(ot(b,Pe.line).text.length,Pe.ch+Kt(M).length)):I&&as&&as.lineWise&&as.text.join("\n")==M.join("\n")&&(Se=Pe=Ae(Se.line,0)));var qe={from:Se,to:Pe,text:N?N[oe%N.length]:M,origin:v||(I?"paste":a.state.cutIncoming>x?"cut":"+input")};Oa(a.doc,qe),Ir(a,"inputRead",a,qe)}l&&!I&&u2(a,l),In(a),a.curOp.updateInput<2&&(a.curOp.updateInput=G),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Fa(a,l){var d=a.clipboardData&&a.clipboardData.getData("Text");if(d)return a.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&hr(l,function(){return $1(l,d,0,null,"paste")}),!0}function u2(a,l){if(a.options.electricChars&&a.options.smartIndent)for(var d=a.doc.sel,p=d.ranges.length-1;p>=0;p--){var v=d.ranges[p];if(!(v.head.ch>100||p&&d.ranges[p-1].head.line==v.head.line)){var b=a.getModeAt(v.head),x=!1;if(b.electricChars){for(var I=0;I<b.electricChars.length;I++)if(l.indexOf(b.electricChars.charAt(I))>-1){x=gl(a,v.head.line,"smart");break}}else b.electricInput&&b.electricInput.test(ot(a.doc,v.head.line).text.slice(0,v.head.ch))&&(x=gl(a,v.head.line,"smart"));x&&Ir(a,"electricInput",a,v.head.line)}}}function d2(a){for(var l=[],d=[],p=0;p<a.doc.sel.ranges.length;p++){var v=a.doc.sel.ranges[p].head.line,b={anchor:Ae(v,0),head:Ae(v+1,0)};d.push(b),l.push(a.getRange(b.anchor,b.head))}return{text:l,ranges:d}}function yd(a,l,d,p){a.setAttribute("autocorrect",d?"":"off"),a.setAttribute("autocapitalize",p?"":"off"),a.setAttribute("spellcheck",!!l)}function h2(){var a=H("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=H("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return le?a.style.width="1000px":a.setAttribute("wrap","off"),Fe&&(a.style.border="1px solid black"),yd(a),l}function bi(a,l,d,p,v){var b=l,x=d,I=ot(a,l.line),M=v&&"rtl"==a.direction?-d:d;function z(it){var nt;if("codepoint"==p){var dt=I.text.charCodeAt(l.ch+(d>0?0:-1));nt=isNaN(dt)?null:new Ae(l.line,Math.max(0,Math.min(I.text.length,l.ch+d*((d>0?dt>=55296&&dt<56320:dt>=56320&&dt<57343)?2:1))),-d)}else nt=v?function(a,l,d,p){var v=xt(l,a.doc.direction);if(!v)return ic(l,d,p);d.ch>=l.text.length?(d.ch=l.text.length,d.sticky="before"):d.ch<=0&&(d.ch=0,d.sticky="after");var b=xn(v,d.ch,d.sticky),x=v[b];if("ltr"==a.doc.direction&&x.level%2==0&&(p>0?x.to>d.ch:x.from<d.ch))return ic(l,d,p);var M,I=function(tt,it){return Zs(l,tt instanceof Ae?tt.ch:tt,it)},N=function(tt){return a.options.lineWrapping?(M=M||ii(a,l),Un(a,l,M,tt)):{begin:0,end:l.text.length}},z=N("before"==d.sticky?I(d,-1):d.ch);if("rtl"==a.doc.direction||1==x.level){var G=1==x.level==p<0,oe=I(d,G?1:-1);if(null!=oe&&(G?oe<=x.to&&oe<=z.end:oe>=x.from&&oe>=z.begin))return new Ae(d.line,oe,G?"before":"after")}var Se=function(tt,it,nt){for(;tt>=0&&tt<v.length;tt+=it){var Mt=v[tt],Et=it>0==(1!=Mt.level),Qt=Et?nt.begin:I(nt.end,-1);if(Mt.from<=Qt&&Qt<Mt.to||(Qt=Et?Mt.from:I(Mt.to,-1),nt.begin<=Qt&&Qt<nt.end))return Fn=Qt,Et?new Ae(d.line,I(Fn,1),"before"):new Ae(d.line,Fn,"after")}var Fn},Pe=Se(b+p,p,z);if(Pe)return Pe;var qe=p>0?z.end:I(z.begin,-1);return null==qe||p>0&&qe==l.text.length||!(Pe=Se(p>0?0:v.length-1,p,N(qe)))?null:Pe}(a.cm,I,l,d):ic(I,l,d);if(null==nt){if(it||!function(){var it=l.line+M;return!(it<a.first||it>=a.first+a.size)&&(l=new Ae(it,l.ch,l.sticky),I=ot(a,it))}())return!1;l=B1(v,a.cm,I,l.line,M)}else l=nt;return!0}if("char"==p||"codepoint"==p)z();else if("column"==p)z(!0);else if("word"==p||"group"==p)for(var G=null,oe="group"==p,ne=a.cm&&a.cm.getHelper(l,"wordChars"),Se=!0;!(d<0)||z(!Se);Se=!1){var Pe=I.text.charAt(l.ch)||"\n",qe=or(Pe,ne)?"w":oe&&"\n"==Pe?"n":!oe||/\s/.test(Pe)?null:"p";if(oe&&!Se&&!qe&&(qe="s"),G&&G!=qe){d<0&&(d=1,z(),l.sticky="after");break}if(qe&&(G=qe),d>0&&!z(!Se))break}var tt=oi(a,l,b,x,!0);return Ls(b,tt)&&(tt.hitSide=!0),tt}function Nu(a,l,d,p){var x,N,v=a.doc,b=l.left;if("page"==p){var I=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),M=Math.max(I-.5*Gl(a.display),3);x=(d>0?l.bottom:l.top)+d*M}else"line"==p&&(x=d>0?l.bottom+3:l.top-3);for(;(N=Lr(a,b,x)).outside;){if(d<0?x<=0:x>=v.height){N.hitSide=!0;break}x+=5*d}return N}var Cn=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new vt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ou(a,l){var d=es(a,l.line);if(!d||d.hidden)return null;var p=ot(a.doc,l.line),v=Zr(d,p,l.line),b=xt(p,a.doc.direction),x="left";b&&(x=xn(b,l.ch)%2?"right":"left");var M=wa(v.map,l.ch,x);return M.offset="right"==M.collapse?M.end:M.start,M}function ls(a,l){return l&&(a.bad=!0),a}function Lu(a,l,d){var p;if(l==a.display.lineDiv){if(!(p=a.display.lineDiv.childNodes[d]))return ls(a.clipPos(Ae(a.display.viewTo-1)),!0);l=null,d=0}else for(p=l;;p=p.parentNode){if(!p||p==a.display.lineDiv)return null;if(p.parentNode&&p.parentNode==a.display.lineDiv)break}for(var v=0;v<a.display.view.length;v++){var b=a.display.view[v];if(b.node==p)return Fu(b,l,d)}}function Fu(a,l,d){var p=a.text.firstChild,v=!1;if(!l||!re(p,l))return ls(Ae(_n(a.line),0),!0);if(l==p&&(v=!0,l=p.childNodes[d],d=0,!l)){var b=a.rest?Kt(a.rest):a.line;return ls(Ae(_n(b),b.text.length),v)}var x=3==l.nodeType?l:null,I=l;for(!x&&1==l.childNodes.length&&3==l.firstChild.nodeType&&(x=l.firstChild,d&&(d=x.nodeValue.length));I.parentNode!=p;)I=I.parentNode;var M=a.measure,N=M.maps;function z(qe,tt,it){for(var nt=-1;nt<(N?N.length:0);nt++)for(var dt=nt<0?M.map:N[nt],Mt=0;Mt<dt.length;Mt+=3){var Et=dt[Mt+2];if(Et==qe||Et==tt){var Qt=_n(nt<0?a.line:a.rest[nt]),Fn=dt[Mt]+it;return(it<0||Et!=qe)&&(Fn=dt[Mt+(it?1:0)]),Ae(Qt,Fn)}}}var G=z(x,I,d);if(G)return ls(G,v);for(var oe=I.nextSibling,ne=x?x.nodeValue.length-d:0;oe;oe=oe.nextSibling){if(G=z(oe,oe.firstChild,0))return ls(Ae(G.line,G.ch-ne),v);ne+=oe.textContent.length}for(var Se=I.previousSibling,Pe=d;Se;Se=Se.previousSibling){if(G=z(Se,Se.firstChild,-1))return ls(Ae(G.line,G.ch+Pe),v);Pe+=Se.textContent.length}}Cn.prototype.init=function(a){var l=this,d=this,p=d.cm,v=d.div=a.lineDiv;function b(I){for(var M=I.target;M;M=M.parentNode){if(M==v)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(M.className))break}return!1}function x(I){if(b(I)&&!Yn(p,I)){if(p.somethingSelected())Bc({lineWise:!1,text:p.getSelections()}),"cut"==I.type&&p.replaceSelection("",null,"cut");else{if(!p.options.lineWiseCopyCut)return;var M=d2(p);Bc({lineWise:!0,text:M.text}),"cut"==I.type&&p.operation(function(){p.setSelections(M.ranges,0,cn),p.replaceSelection("",null,"cut")})}if(I.clipboardData){I.clipboardData.clearData();var N=as.text.join("\n");if(I.clipboardData.setData("Text",N),I.clipboardData.getData("Text")==N)return void I.preventDefault()}var z=h2(),G=z.firstChild;p.display.lineSpace.insertBefore(z,p.display.lineSpace.firstChild),G.value=as.text.join("\n");var oe=Y();je(G),setTimeout(function(){p.display.lineSpace.removeChild(z),oe.focus(),oe==v&&d.showPrimarySelection()},50)}}v.contentEditable=!0,yd(v,p.options.spellcheck,p.options.autocorrect,p.options.autocapitalize),wt(v,"paste",function(I){!b(I)||Yn(p,I)||Fa(I,p)||fe<=11&&setTimeout(Pn(p,function(){return l.updateFromDOM()}),20)}),wt(v,"compositionstart",function(I){l.composing={data:I.data,done:!1}}),wt(v,"compositionupdate",function(I){l.composing||(l.composing={data:I.data,done:!1})}),wt(v,"compositionend",function(I){l.composing&&(I.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),wt(v,"touchstart",function(){return d.forceCompositionEnd()}),wt(v,"input",function(){l.composing||l.readFromDOMSoon()}),wt(v,"copy",x),wt(v,"cut",x)},Cn.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Cn.prototype.prepareSelection=function(){var a=Qd(this.cm,!1);return a.focus=Y()==this.div,a},Cn.prototype.showSelection=function(a,l){!a||!this.cm.display.view.length||((a.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Cn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Cn.prototype.showPrimarySelection=function(){var a=this.getSelection(),l=this.cm,d=l.doc.sel.primary(),p=d.from(),v=d.to();if(l.display.viewTo==l.display.viewFrom||p.line>=l.display.viewTo||v.line<l.display.viewFrom)a.removeAllRanges();else{var b=Lu(l,a.anchorNode,a.anchorOffset),x=Lu(l,a.focusNode,a.focusOffset);if(!b||b.bad||!x||x.bad||0!=Bt(f1(b,x),p)||0!=Bt(Sn(b,x),v)){var I=l.display.view,M=p.line>=l.display.viewFrom&&Ou(l,p)||{node:I[0].measure.map[2],offset:0},N=v.line<l.display.viewTo&&Ou(l,v);if(!N){var z=I[I.length-1].measure,G=z.maps?z.maps[z.maps.length-1]:z.map;N={node:G[G.length-1],offset:G[G.length-2]-G[G.length-3]}}if(!M||!N)return void a.removeAllRanges();var ne,oe=a.rangeCount&&a.getRangeAt(0);try{ne=te(M.node,M.offset,N.offset,N.node)}catch(Se){}ne&&(!h&&l.state.focused?(a.collapse(M.node,M.offset),ne.collapsed||(a.removeAllRanges(),a.addRange(ne))):(a.removeAllRanges(),a.addRange(ne)),oe&&null==a.anchorNode?a.addRange(oe):h&&this.startGracePeriod()),this.rememberSelection()}}},Cn.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Cn.prototype.showMultipleSelections=function(a){ye(this.cm.display.cursorDiv,a.cursors),ye(this.cm.display.selectionDiv,a.selection)},Cn.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Cn.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var l=a.getRangeAt(0).commonAncestorContainer;return re(this.div,l)},Cn.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||Y()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Cn.prototype.blur=function(){this.div.blur()},Cn.prototype.getField=function(){return this.div},Cn.prototype.supportsTouch=function(){return!0},Cn.prototype.receivedFocus=function(){var a=this,l=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):hr(this.cm,function(){return l.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function d(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,d))})},Cn.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Cn.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),l=this.cm;if(rt&&me&&this.cm.display.gutterSpecs.length&&function(a){for(var l=a;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var d=Lu(l,a.anchorNode,a.anchorOffset),p=Lu(l,a.focusNode,a.focusOffset);d&&p&&hr(l,function(){vn(l.doc,xs(d,p),cn),(d.bad||p.bad)&&(l.curOp.selectionChanged=!0)})}}},Cn.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b,x,I,a=this.cm,l=a.display,d=a.doc.sel.primary(),p=d.from(),v=d.to();if(0==p.ch&&p.line>a.firstLine()&&(p=Ae(p.line-1,ot(a.doc,p.line-1).length)),v.ch==ot(a.doc,v.line).text.length&&v.line<a.lastLine()&&(v=Ae(v.line+1,0)),p.line<l.viewFrom||v.line>l.viewTo-1)return!1;p.line==l.viewFrom||0==(b=An(a,p.line))?(x=_n(l.view[0].line),I=l.view[0].node):(x=_n(l.view[b].line),I=l.view[b-1].node.nextSibling);var N,z,M=An(a,v.line);if(M==l.view.length-1?(N=l.viewTo-1,z=l.lineDiv.lastChild):(N=_n(l.view[M+1].line)-1,z=l.view[M+1].node.previousSibling),!I)return!1;for(var G=a.doc.splitLines(function(a,l,d,p,v){var b="",x=!1,I=a.doc.lineSeparator(),M=!1;function z(){x&&(b+=I,M&&(b+=I),x=M=!1)}function G(ne){ne&&(z(),b+=ne)}function oe(ne){if(1==ne.nodeType){var Se=ne.getAttribute("cm-text");if(Se)return void G(Se);var qe,Pe=ne.getAttribute("cm-marker");if(Pe){var tt=a.findMarks(Ae(p,0),Ae(v+1,0),function(ne){return function(Se){return Se.id==ne}}(+Pe));return void(tt.length&&(qe=tt[0].find(0))&&G(Qi(a.doc,qe.from,qe.to).join(I)))}if("false"==ne.getAttribute("contenteditable"))return;var it=/^(pre|div|p|li|table|br)$/i.test(ne.nodeName);if(!/^br$/i.test(ne.nodeName)&&0==ne.textContent.length)return;it&&z();for(var nt=0;nt<ne.childNodes.length;nt++)oe(ne.childNodes[nt]);/^(pre|p)$/i.test(ne.nodeName)&&(M=!0),it&&(x=!0)}else 3==ne.nodeType&&G(ne.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;oe(l),l!=d;)l=l.nextSibling,M=!1;return b}(a,I,z,x,N)),oe=Qi(a.doc,Ae(x,0),Ae(N,ot(a.doc,N).text.length));G.length>1&&oe.length>1;)if(Kt(G)==Kt(oe))G.pop(),oe.pop(),N--;else{if(G[0]!=oe[0])break;G.shift(),oe.shift(),x++}for(var ne=0,Se=0,Pe=G[0],qe=oe[0],tt=Math.min(Pe.length,qe.length);ne<tt&&Pe.charCodeAt(ne)==qe.charCodeAt(ne);)++ne;for(var it=Kt(G),nt=Kt(oe),dt=Math.min(it.length-(1==G.length?ne:0),nt.length-(1==oe.length?ne:0));Se<dt&&it.charCodeAt(it.length-Se-1)==nt.charCodeAt(nt.length-Se-1);)++Se;if(1==G.length&&1==oe.length&&x==p.line)for(;ne&&ne>p.ch&&it.charCodeAt(it.length-Se-1)==nt.charCodeAt(nt.length-Se-1);)ne--,Se++;G[G.length-1]=it.slice(0,it.length-Se).replace(/^\u200b+/,""),G[0]=G[0].slice(ne).replace(/\u200b+$/,"");var Mt=Ae(x,ne),Et=Ae(N,oe.length?Kt(oe).length-Se:0);return G.length>1||G[0]||Bt(Mt,Et)?($s(a.doc,G,Mt,Et,"+input"),!0):void 0},Cn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Cn.prototype.reset=function(){this.forceCompositionEnd()},Cn.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Cn.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},Cn.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&hr(this.cm,function(){return Mr(a.cm)})},Cn.prototype.setUneditable=function(a){a.contentEditable="false"},Cn.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Pn(this.cm,$1)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},Cn.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},Cn.prototype.onContextMenu=function(){},Cn.prototype.resetPosition=function(){},Cn.prototype.needsContentAttribute=!0;var vr=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new vt,this.hasSelection=!1,this.composing=null};vr.prototype.init=function(a){var l=this,d=this,p=this.cm;this.createField(a);var v=this.textarea;function b(x){if(!Yn(p,x)){if(p.somethingSelected())Bc({lineWise:!1,text:p.getSelections()});else{if(!p.options.lineWiseCopyCut)return;var I=d2(p);Bc({lineWise:!0,text:I.text}),"cut"==x.type?p.setSelections(I.ranges,null,cn):(d.prevInput="",v.value=I.text.join("\n"),je(v))}"cut"==x.type&&(p.state.cutIncoming=+new Date)}}a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),Fe&&(v.style.width="0px"),wt(v,"input",function(){ce&&fe>=9&&l.hasSelection&&(l.hasSelection=null),d.poll()}),wt(v,"paste",function(x){Yn(p,x)||Fa(x,p)||(p.state.pasteIncoming=+new Date,d.fastPoll())}),wt(v,"cut",b),wt(v,"copy",b),wt(a.scroller,"paste",function(x){if(!ki(a,x)&&!Yn(p,x)){if(!v.dispatchEvent)return p.state.pasteIncoming=+new Date,void d.focus();var I=new Event("paste");I.clipboardData=x.clipboardData,v.dispatchEvent(I)}}),wt(a.lineSpace,"selectstart",function(x){ki(a,x)||Re(x)}),wt(v,"compositionstart",function(){var x=p.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:x,range:p.markText(x,p.getCursor("to"),{className:"CodeMirror-composing"})}}),wt(v,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},vr.prototype.createField=function(a){this.wrapper=h2(),this.textarea=this.wrapper.firstChild},vr.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},vr.prototype.prepareSelection=function(){var a=this.cm,l=a.display,d=a.doc,p=Qd(a);if(a.options.moveInputWithCursor){var v=mi(a,d.sel.primary().head,"div"),b=l.wrapper.getBoundingClientRect(),x=l.lineDiv.getBoundingClientRect();p.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,v.top+x.top-b.top)),p.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,v.left+x.left-b.left))}return p},vr.prototype.showSelection=function(a){var d=this.cm.display;ye(d.cursorDiv,a.cursors),ye(d.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},vr.prototype.reset=function(a){if(!this.contextMenuPending&&!this.composing){var l=this.cm;if(l.somethingSelected()){this.prevInput="";var d=l.getSelection();this.textarea.value=d,l.state.focused&&je(this.textarea),ce&&fe>=9&&(this.hasSelection=d)}else a||(this.prevInput=this.textarea.value="",ce&&fe>=9&&(this.hasSelection=null))}},vr.prototype.getField=function(){return this.textarea},vr.prototype.supportsTouch=function(){return!1},vr.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Ye||Y()!=this.textarea))try{this.textarea.focus()}catch(a){}},vr.prototype.blur=function(){this.textarea.blur()},vr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},vr.prototype.receivedFocus=function(){this.slowPoll()},vr.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},vr.prototype.fastPoll=function(){var a=!1,l=this;l.pollingFast=!0,l.polling.set(20,function d(){l.poll()||a?(l.pollingFast=!1,l.slowPoll()):(a=!0,l.polling.set(60,d))})},vr.prototype.poll=function(){var a=this,l=this.cm,d=this.textarea,p=this.prevInput;if(this.contextMenuPending||!l.state.focused||u1(d)&&!p&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var v=d.value;if(v==p&&!l.somethingSelected())return!1;if(ce&&fe>=9&&this.hasSelection===v||_e&&/[\uf700-\uf7ff]/.test(v))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var b=v.charCodeAt(0);if(8203==b&&!p&&(p="\u200b"),8666==b)return this.reset(),this.cm.execCommand("undo")}for(var x=0,I=Math.min(p.length,v.length);x<I&&p.charCodeAt(x)==v.charCodeAt(x);)++x;return hr(l,function(){$1(l,v.slice(x),p.length-x,null,a.composing?"*compose":null),v.length>1e3||v.indexOf("\n")>-1?d.value=a.prevInput="":a.prevInput=v,a.composing&&(a.composing.range.clear(),a.composing.range=l.markText(a.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},vr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},vr.prototype.onKeyPress=function(){ce&&fe>=9&&(this.hasSelection=null),this.fastPoll()},vr.prototype.onContextMenu=function(a){var l=this,d=l.cm,p=d.display,v=l.textarea;l.contextMenuPending&&l.contextMenuPending();var b=sl(d,a),x=p.scroller.scrollTop;if(b&&!J){d.options.resetSelectionOnContextMenu&&-1==d.doc.sel.contains(b)&&Pn(d,vn)(d.doc,xs(b),cn);var G,M=v.style.cssText,N=l.wrapper.style.cssText,z=l.wrapper.offsetParent.getBoundingClientRect();if(l.wrapper.style.cssText="position: static",v.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-z.top-5)+"px; left: "+(a.clientX-z.left-5)+"px;\n      z-index: 1000; background: "+(ce?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",le&&(G=window.scrollY),p.input.focus(),le&&window.scrollTo(null,G),p.input.reset(),d.somethingSelected()||(v.value=l.prevInput=" "),l.contextMenuPending=ne,p.selForContextMenu=d.doc.sel,clearTimeout(p.detectingSelectAll),ce&&fe>=9&&oe(),$e){It(a);var Se=function(){nn(window,"mouseup",Se),setTimeout(ne,20)};wt(window,"mouseup",Se)}else setTimeout(ne,50)}function oe(){if(null!=v.selectionStart){var Pe=d.somethingSelected(),qe="\u200b"+(Pe?v.value:"");v.value="\u21da",v.value=qe,l.prevInput=Pe?"":"\u200b",v.selectionStart=1,v.selectionEnd=qe.length,p.selForContextMenu=d.doc.sel}}function ne(){if(l.contextMenuPending==ne&&(l.contextMenuPending=!1,l.wrapper.style.cssText=N,v.style.cssText=M,ce&&fe<9&&p.scrollbars.setScrollTop(p.scroller.scrollTop=x),null!=v.selectionStart)){(!ce||ce&&fe<9)&&oe();var Pe=0,qe=function(){p.selForContextMenu==d.doc.sel&&0==v.selectionStart&&v.selectionEnd>0&&"\u200b"==l.prevInput?Pn(d,bn)(d):Pe++<10?p.detectingSelectAll=setTimeout(qe,500):(p.selForContextMenu=null,p.input.reset())};p.detectingSelectAll=setTimeout(qe,200)}}},vr.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a,this.textarea.readOnly=!!a},vr.prototype.setUneditable=function(){},vr.prototype.needsContentAttribute=!1,function(a){var l=a.optionHandlers;function d(p,v,b,x){a.defaults[p]=v,b&&(l[p]=x?function(I,M,N){N!=ml&&b(I,M,N)}:b)}a.defineOption=d,a.Init=ml,d("value","",function(p,v){return p.setValue(v)},!0),d("mode",null,function(p,v){p.doc.modeOption=v,R1(p)},!0),d("indentUnit",2,R1,!0),d("indentWithTabs",!1),d("smartIndent",!0),d("tabSize",4,function(p){Ts(p),Uo(p),Mr(p)},!0),d("lineSeparator",null,function(p,v){if(p.doc.lineSep=v,v){var b=[],x=p.doc.first;p.doc.iter(function(M){for(var N=0;;){var z=M.text.indexOf(v,N);if(-1==z)break;N=z+v.length,b.push(Ae(x,z))}x++});for(var I=b.length-1;I>=0;I--)$s(p.doc,v,b[I],Ae(b[I].line,b[I].ch+v.length))}}),d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(p,v,b){p.state.specialChars=new RegExp(v.source+(v.test("\t")?"":"|\t"),"g"),b!=ml&&p.refresh()}),d("specialCharPlaceholder",lr,function(p){return p.refresh()},!0),d("electricChars",!0),d("inputStyle",Ye?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),d("spellcheck",!1,function(p,v){return p.getInputField().spellcheck=v},!0),d("autocorrect",!1,function(p,v){return p.getInputField().autocorrect=v},!0),d("autocapitalize",!1,function(p,v){return p.getInputField().autocapitalize=v},!0),d("rtlMoveVisually",!Ee),d("wholeLineUpdateBefore",!0),d("theme","default",function(p){Hc(p),Pi(p)},!0),d("keyMap","default",function(p,v,b){var x=vo(v),I=b!=ml&&vo(b);I&&I.detach&&I.detach(p,x),x.attach&&x.attach(p,I||null)}),d("extraKeys",null),d("configureMouse",null),d("lineWrapping",!1,ku,!0),d("gutters",[],function(p,v){p.display.gutterSpecs=Ar(v,p.options.lineNumbers),Pi(p)},!0),d("fixedGutter",!0,function(p,v){p.display.gutters.style.left=v?Cs(p.display)+"px":"0",p.refresh()},!0),d("coverGutterNextToScrollbar",!1,function(p){return $o(p)},!0),d("scrollbarStyle","native",function(p){Aa(p),$o(p),p.display.scrollbars.setScrollTop(p.doc.scrollTop),p.display.scrollbars.setScrollLeft(p.doc.scrollLeft)},!0),d("lineNumbers",!1,function(p,v){p.display.gutterSpecs=Ar(p.options.gutters,v),Pi(p)},!0),d("firstLineNumber",1,Pi,!0),d("lineNumberFormatter",function(p){return p},Pi,!0),d("showCursorWhenSelecting",!1,$l,!0),d("resetSelectionOnContextMenu",!0),d("lineWiseCopyCut",!0),d("pasteLinesPerSelection",!0),d("selectionsMayTouch",!1),d("readOnly",!1,function(p,v){"nocursor"==v&&(gi(p),p.display.input.blur()),p.display.input.readOnlyChanged(v)}),d("screenReaderLabel",null,function(p,v){p.display.input.screenReaderLabelChanged(v=""===v?null:v)}),d("disableInput",!1,function(p,v){v||p.display.input.reset()},!0),d("dragDrop",!0,os),d("allowDropFileTypes",null),d("cursorBlinkRate",530),d("cursorScrollMargin",0),d("cursorHeight",1,$l,!0),d("singleCursorHeightPerLine",!0,$l,!0),d("workTime",100),d("workDelay",100),d("flattenSpans",!0,Ts,!0),d("addModeClass",!1,Ts,!0),d("pollInterval",100),d("undoDepth",200,function(p,v){return p.doc.history.undoDepth=v}),d("historyEventDelay",1250),d("viewportMargin",10,function(p){return p.refresh()},!0),d("maxHighlightLength",1e4,Ts,!0),d("moveInputWithCursor",!0,function(p,v){v||p.display.input.resetPosition()}),d("tabindex",null,function(p,v){return p.display.input.getField().tabIndex=v||""}),d("autofocus",null),d("direction","ltr",function(p,v){return p.doc.setDirection(v)},!0),d("phrases",null)}(nr),function(a){var l=a.optionHandlers,d=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(p,v){var b=this.options,x=b[p];b[p]==v&&"mode"!=p||(b[p]=v,l.hasOwnProperty(p)&&Pn(this,l[p])(this,v,x),wn(this,"optionChange",this,p))},getOption:function(p){return this.options[p]},getDoc:function(){return this.doc},addKeyMap:function(p,v){this.state.keyMaps[v?"push":"unshift"](vo(p))},removeKeyMap:function(p){for(var v=this.state.keyMaps,b=0;b<v.length;++b)if(v[b]==p||v[b].name==p)return v.splice(b,1),!0},addOverlay:Cr(function(p,v){var b=p.token?p:a.getMode(this.options,p);if(b.startState)throw new Error("Overlays may not be stateful.");(function(a,l,d){for(var p=0,v=d(l);p<a.length&&d(a[p])<=v;)p++;a.splice(p,0,l)})(this.state.overlays,{mode:b,modeSpec:p,opaque:v&&v.opaque,priority:v&&v.priority||0},function(x){return x.priority}),this.state.modeGen++,Mr(this)}),removeOverlay:Cr(function(p){for(var v=this.state.overlays,b=0;b<v.length;++b){var x=v[b].modeSpec;if(x==p||"string"==typeof p&&x.name==p)return v.splice(b,1),this.state.modeGen++,void Mr(this)}}),indentLine:Cr(function(p,v,b){"string"!=typeof v&&"number"!=typeof v&&(v=null==v?this.options.smartIndent?"smart":"prev":v?"add":"subtract"),ti(this.doc,p)&&gl(this,p,v,b)}),indentSelection:Cr(function(p){for(var v=this.doc.sel.ranges,b=-1,x=0;x<v.length;x++){var I=v[x];if(I.empty())I.head.line>b&&(gl(this,I.head.line,p,!0),b=I.head.line,x==this.doc.sel.primIndex&&In(this));else{var M=I.from(),N=I.to(),z=Math.max(b,M.line);b=Math.min(this.lastLine(),N.line-(N.ch?0:1))+1;for(var G=z;G<b;++G)gl(this,G,p);var oe=this.doc.sel.ranges;0==M.ch&&v.length==oe.length&&oe[x].from().ch>0&&Ze(this.doc,x,new Ft(M,oe[x].to()),cn)}}}),getTokenAt:function(p,v){return Xi(this,p,v)},getLineTokens:function(p,v){return Xi(this,Ae(p),v,!0)},getTokenTypeAt:function(p){p=Lt(this.doc,p);var M,v=p1(this,ot(this.doc,p.line)),b=0,x=(v.length-1)/2,I=p.ch;if(0==I)M=v[2];else for(;;){var N=b+x>>1;if((N?v[2*N-1]:0)>=I)x=N;else{if(!(v[2*N+1]<I)){M=v[2*N+2];break}b=N+1}}var z=M?M.indexOf("overlay "):-1;return z<0?M:0==z?null:M.slice(0,z-1)},getModeAt:function(p){var v=this.doc.mode;return v.innerMode?a.innerMode(v,this.getTokenAt(p).state).mode:v},getHelper:function(p,v){return this.getHelpers(p,v)[0]},getHelpers:function(p,v){var b=[];if(!d.hasOwnProperty(v))return b;var x=d[v],I=this.getModeAt(p);if("string"==typeof I[v])x[I[v]]&&b.push(x[I[v]]);else if(I[v])for(var M=0;M<I[v].length;M++){var N=x[I[v][M]];N&&b.push(N)}else I.helperType&&x[I.helperType]?b.push(x[I.helperType]):x[I.name]&&b.push(x[I.name]);for(var z=0;z<x._global.length;z++){var G=x._global[z];G.pred(I,this)&&-1==_t(b,G.val)&&b.push(G.val)}return b},getStateAfter:function(p,v){var b=this.doc;return ni(this,(p=so(b,null==p?b.first+b.size-1:p))+1,v).state},cursorCoords:function(p,v){var x=this.doc.sel.primary();return mi(this,null==p?x.head:"object"==typeof p?Lt(this.doc,p):p?x.from():x.to(),v||"page")},charCoords:function(p,v){return jo(this,Lt(this.doc,p),v||"page")},coordsChar:function(p,v){return Lr(this,(p=I1(this,p,v||"page")).left,p.top)},lineAtHeight:function(p,v){return p=I1(this,{top:p,left:0},v||"page").top,Di(this.doc,p+this.display.viewOffset)},heightAtLine:function(p,v,b){var I,x=!1;if("number"==typeof p){var M=this.doc.first+this.doc.size-1;p<this.doc.first?p=this.doc.first:p>M&&(p=M,x=!0),I=ot(this.doc,p)}else I=p;return xa(this,I,{top:0,left:0},v||"page",b||x).top+(x?this.doc.height-Tn(I):0)},defaultTextHeight:function(){return Gl(this.display)},defaultCharWidth:function(){return js(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(p,v,b,x,I){var M=this.display,N=(p=mi(this,Lt(this.doc,p))).bottom,z=p.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),M.sizer.appendChild(v),"over"==x)N=p.top;else if("above"==x||"near"==x){var G=Math.max(M.wrapper.clientHeight,this.doc.height),oe=Math.max(M.sizer.clientWidth,M.lineSpace.clientWidth);("above"==x||p.bottom+v.offsetHeight>G)&&p.top>v.offsetHeight?N=p.top-v.offsetHeight:p.bottom+v.offsetHeight<=G&&(N=p.bottom),z+v.offsetWidth>oe&&(z=oe-v.offsetWidth)}v.style.top=N+"px",v.style.left=v.style.right="","right"==I?(z=M.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):("left"==I?z=0:"middle"==I&&(z=(M.sizer.clientWidth-v.offsetWidth)/2),v.style.left=z+"px"),b&&function(a,l){var d=Zl(a,l);null!=d.scrollTop&&Mn(a,d.scrollTop),null!=d.scrollLeft&&Ur(a,d.scrollLeft)}(this,{left:z,top:N,right:z+v.offsetWidth,bottom:N+v.offsetHeight})},triggerOnKeyDown:Cr(_d),triggerOnKeyPress:Cr(sc),triggerOnKeyUp:La,triggerOnMouseDown:Cr(j1),execCommand:function(p){if(U1.hasOwnProperty(p))return U1[p].call(null,this)},triggerElectric:Cr(function(p){u2(this,p)}),findPosH:function(p,v,b,x){var I=1;v<0&&(I=-1,v=-v);for(var M=Lt(this.doc,p),N=0;N<v&&!(M=bi(this.doc,M,I,b,x)).hitSide;++N);return M},moveH:Cr(function(p,v){var b=this;this.extendSelectionsBy(function(x){return b.display.shift||b.doc.extend||x.empty()?bi(b.doc,x.head,p,v,b.options.rtlMoveVisually):p<0?x.from():x.to()},Yt)}),deleteH:Cr(function(p,v){var x=this.doc;this.doc.sel.somethingSelected()?x.replaceSelection("",null,"+delete"):ea(this,function(I){var M=bi(x,I.head,p,v,!1);return p<0?{from:M,to:I.head}:{from:I.head,to:M}})}),findPosV:function(p,v,b,x){var I=1,M=x;v<0&&(I=-1,v=-v);for(var N=Lt(this.doc,p),z=0;z<v;++z){var G=mi(this,N,"div");if(null==M?M=G.left:G.left=M,(N=Nu(this,G,I,b)).hitSide)break}return N},moveV:Cr(function(p,v){var b=this,x=this.doc,I=[],M=!this.display.shift&&!x.extend&&x.sel.somethingSelected();if(x.extendSelectionsBy(function(z){if(M)return p<0?z.from():z.to();var G=mi(b,z.head,"div");null!=z.goalColumn&&(G.left=z.goalColumn),I.push(G.left);var oe=Nu(b,G,p,v);return"page"==v&&z==x.sel.primary()&&sd(b,jo(b,oe,"div").top-G.top),oe},Yt),I.length)for(var N=0;N<x.sel.ranges.length;N++)x.sel.ranges[N].goalColumn=I[N]}),findWordAt:function(p){var b=ot(this.doc,p.line).text,x=p.ch,I=p.ch;if(b){var M=this.getHelper(p,"wordChars");"before"!=p.sticky&&I!=b.length||!x?++I:--x;for(var N=b.charAt(x),z=or(N,M)?function(G){return or(G,M)}:/\s/.test(N)?function(G){return/\s/.test(G)}:function(G){return!/\s/.test(G)&&!or(G)};x>0&&z(b.charAt(x-1));)--x;for(;I<b.length&&z(b.charAt(I));)++I}return new Ft(Ae(p.line,x),Ae(p.line,I))},toggleOverwrite:function(p){null!=p&&p==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?q(this.display.cursorDiv,"CodeMirror-overwrite"):et(this.display.cursorDiv,"CodeMirror-overwrite"),wn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Y()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Cr(function(p,v){Ri(this,p,v)}),getScrollInfo:function(){var p=this.display.scroller;return{left:p.scrollLeft,top:p.scrollTop,height:p.scrollHeight-Bs(this)-this.display.barHeight,width:p.scrollWidth-Bs(this)-this.display.barWidth,clientHeight:Bo(this),clientWidth:Ca(this)}},scrollIntoView:Cr(function(p,v){null==p?(p={from:this.doc.sel.primary().head,to:null},null==v&&(v=this.options.cursorScrollMargin)):"number"==typeof p?p={from:Ae(p,0),to:null}:null==p.from&&(p={from:p,to:null}),p.to||(p.to=p.from),p.margin=v||0,null!=p.from.line?function(a,l){Zt(a),a.curOp.scrollToPos=l}(this,p):Dr(this,p.from,p.to,p.margin)}),setSize:Cr(function(p,v){var b=this,x=function(M){return"number"==typeof M||/^\d+$/.test(String(M))?M+"px":M};null!=p&&(this.display.wrapper.style.width=x(p)),null!=v&&(this.display.wrapper.style.height=x(v)),this.options.lineWrapping&&T1(this);var I=this.display.viewFrom;this.doc.iter(I,this.display.viewTo,function(M){if(M.widgets)for(var N=0;N<M.widgets.length;N++)if(M.widgets[N].noHScroll){co(b,I,"widget");break}++I}),this.curOp.forceUpdate=!0,wn(this,"refresh",this)}),operation:function(p){return hr(this,p)},startOperation:function(){return vi(this)},endOperation:function(){return Wo(this)},refresh:Cr(function(){var p=this.display.cachedTextHeight;Mr(this),this.curOp.forceUpdate=!0,Uo(this),Ri(this,this.doc.scrollLeft,this.doc.scrollTop),yu(this.display),(null==p||Math.abs(p-Gl(this.display))>.5||this.options.lineWrapping)&&gu(this),wn(this,"refresh",this)}),swapDoc:Cr(function(p){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),N1(this,p),Uo(this),this.display.input.reset(),Ri(this,p.scrollLeft,p.scrollTop),this.curOp.forceScroll=!0,Ir(this,"swapDoc",this,v),v}),phrase:function(p){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,p)?v[p]:p},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},se(a),a.registerHelper=function(p,v,b){d.hasOwnProperty(p)||(d[p]=a[p]={_global:[]}),d[p][v]=b},a.registerGlobalHelper=function(p,v,b,x){a.registerHelper(p,v,x),d[p]._global.push({pred:b,val:x})}}(nr);var _o="iter insert remove copy getEditor constructor".split(" ");for(var zu in ai.prototype)ai.prototype.hasOwnProperty(zu)&&_t(_o,zu)<0&&(nr.prototype[zu]=function(a){return function(){return a.apply(this.doc,arguments)}}(ai.prototype[zu]));return se(ai),nr.inputStyles={textarea:vr,contenteditable:Cn},nr.defineMode=function(a){!nr.defaults.mode&&"null"!=a&&(nr.defaults.mode=a),Yi.apply(this,arguments)},nr.defineMIME=function(a,l){fi[a]=l},nr.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),nr.defineMIME("text/plain","null"),nr.defineExtension=function(a,l){nr.prototype[a]=l},nr.defineDocExtension=function(a,l){ai.prototype[a]=l},nr.fromTextArea=function(a,l){if((l=l?Ge(l):{}).value=a.value,!l.tabindex&&a.tabIndex&&(l.tabindex=a.tabIndex),!l.placeholder&&a.placeholder&&(l.placeholder=a.placeholder),null==l.autofocus){var d=Y();l.autofocus=d==a||null!=a.getAttribute("autofocus")&&d==document.body}function p(){a.value=I.getValue()}var v;if(a.form&&(wt(a.form,"submit",p),!l.leaveSubmitMethodAlone)){var b=a.form;v=b.submit;try{var x=b.submit=function(){p(),b.submit=v,b.submit(),b.submit=x}}catch(M){}}l.finishInit=function(M){M.save=p,M.getTextArea=function(){return a},M.toTextArea=function(){M.toTextArea=isNaN,p(),a.parentNode.removeChild(M.getWrapperElement()),a.style.display="",a.form&&(nn(a.form,"submit",p),!l.leaveSubmitMethodAlone&&"function"==typeof a.form.submit&&(a.form.submit=v))}},a.style.display="none";var I=nr(function(M){return a.parentNode.insertBefore(M,a.nextSibling)},l);return I},function(a){a.off=nn,a.on=wt,a.wheelEventPixels=fo,a.Doc=ai,a.splitLines=ma,a.countColumn=Je,a.findColumn=Vr,a.isWordChar=bt,a.Pass=Er,a.signal=wn,a.Line=Vs,a.changeEnd=ss,a.scrollbarModel=Tt,a.Pos=Ae,a.cmpPos=Bt,a.modes=Jn,a.mimeModes=fi,a.resolveMode=Ii,a.getMode=ut,a.modeExtensions=$t,a.extendMode=Wn,a.copyState=Or,a.startState=Tr,a.innerMode=Mi,a.commands=U1,a.keyMap=mo,a.keyName=zc,a.isModifierKey=sh,a.lookupKey=go,a.normalizeKeyMap=pd,a.StringStream=Wt,a.SharedTextMarker=Eu,a.TextMarker=Ws,a.LineWidget=F1,a.e_preventDefault=Re,a.e_stopPropagation=Ce,a.e_stop=It,a.addClass=q,a.contains=re,a.rmClass=et,a.keyNames=hl}(nr),nr.version="5.65.2",nr}()},1567:(pt,xe,V)=>{!function(h){"use strict";function pe(be){return new RegExp("^(("+be.join(")|(")+"))\\b")}var B=pe(["and","or","not","is"]),we=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],ce=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function fe(be){return be.scopes[be.scopes.length-1]}h.registerHelper("hintWords","python",we.concat(ce)),h.defineMode("python",function(be,me){for(var J="error",ee=me.delimiters||me.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,ue=[me.singleOperators,me.doubleOperators,me.doubleDelimiters,me.tripleDelimiters,me.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],Xe=0;Xe<ue.length;Xe++)ue[Xe]||ue.splice(Xe--,1);var Fe=me.hangingIndent||be.indentUnit,rt=we,Ye=ce;null!=me.extra_keywords&&(rt=rt.concat(me.extra_keywords)),null!=me.extra_builtins&&(Ye=Ye.concat(me.extra_builtins));var _e=!(me.version&&Number(me.version)<3);if(_e){var de=me.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;rt=rt.concat(["nonlocal","False","True","None","async","await"]),Ye=Ye.concat(["ascii","bytes","exec","print"]);var Ee=new RegExp("^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|\"{3}|['\"]))","i")}else de=me.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/,rt=rt.concat(["exec","print"]),Ye=Ye.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]),Ee=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i");var Oe=pe(rt),De=pe(Ye);function $e(Y,q){var ze=Y.sol()&&"\\"!=q.lastToken;if(ze&&(q.indent=Y.indentation()),ze&&"py"==fe(q).type){var je=fe(q).offset;if(Y.eatSpace()){var Rt=Y.indentation();return Rt>je?ye(q):Rt<je&&Z(Y,q)&&"#"!=Y.peek()&&(q.errorToken=!0),null}var Ge=He(Y,q);return je>0&&Z(Y,q)&&(Ge+=" "+J),Ge}return He(Y,q)}function He(Y,q,ze){if(Y.eatSpace())return null;if(!ze&&Y.match(/^#.*/))return"comment";if(Y.match(/^[0-9\.]/,!1)){var je=!1;if(Y.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(je=!0),Y.match(/^[\d_]+\.\d*/)&&(je=!0),Y.match(/^\.\d+/)&&(je=!0),je)return Y.eat(/J/i),"number";var Rt=!1;if(Y.match(/^0x[0-9a-f_]+/i)&&(Rt=!0),Y.match(/^0b[01_]+/i)&&(Rt=!0),Y.match(/^0o[0-7_]+/i)&&(Rt=!0),Y.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(Y.eat(/J/i),Rt=!0),Y.match(/^0(?![\dx])/i)&&(Rt=!0),Rt)return Y.eat(/L/i),"number"}if(Y.match(Ee))return-1!==Y.current().toLowerCase().indexOf("f")?(q.tokenize=function(Y,q){for(;"rubf".indexOf(Y.charAt(0).toLowerCase())>=0;)Y=Y.substr(1);var ze=1==Y.length,je="string";function Rt(Je){return function(vt,_t){var Vn=He(vt,_t,!0);return"punctuation"==Vn&&("{"==vt.current()?_t.tokenize=Rt(Je+1):"}"==vt.current()&&(_t.tokenize=Je>1?Rt(Je-1):Ge)),Vn}}function Ge(Je,vt){for(;!Je.eol();)if(Je.eatWhile(/[^'"\{\}\\]/),Je.eat("\\")){if(Je.next(),ze&&Je.eol())return je}else{if(Je.match(Y))return vt.tokenize=q,je;if(Je.match("{{"))return je;if(Je.match("{",!1))return vt.tokenize=Rt(0),Je.current()?je:vt.tokenize(Je,vt);if(Je.match("}}"))return je;if(Je.match("}"))return J;Je.eat(/['"]/)}if(ze){if(me.singleLineStringErrors)return J;vt.tokenize=q}return je}return Ge.isString=!0,Ge}(Y.current(),q.tokenize),q.tokenize(Y,q)):(q.tokenize=function(Y,q){for(;"rubf".indexOf(Y.charAt(0).toLowerCase())>=0;)Y=Y.substr(1);var ze=1==Y.length,je="string";function Rt(Ge,Je){for(;!Ge.eol();)if(Ge.eatWhile(/[^'"\\]/),Ge.eat("\\")){if(Ge.next(),ze&&Ge.eol())return je}else{if(Ge.match(Y))return Je.tokenize=q,je;Ge.eat(/['"]/)}if(ze){if(me.singleLineStringErrors)return J;Je.tokenize=q}return je}return Rt.isString=!0,Rt}(Y.current(),q.tokenize),q.tokenize(Y,q));for(var Je=0;Je<ue.length;Je++)if(Y.match(ue[Je]))return"operator";return Y.match(ee)?"punctuation":"."==q.lastToken&&Y.match(de)?"property":Y.match(Oe)||Y.match(B)?"keyword":Y.match(De)?"builtin":Y.match(/^(self|cls)\b/)?"variable-2":Y.match(de)?"def"==q.lastToken||"class"==q.lastToken?"def":"variable":(Y.next(),ze?null:J)}function ye(Y){for(;"py"!=fe(Y).type;)Y.scopes.pop();Y.scopes.push({offset:fe(Y).offset+be.indentUnit,type:"py",align:null})}function Z(Y,q){for(var ze=Y.indentation();q.scopes.length>1&&fe(q).offset>ze;){if("py"!=fe(q).type)return!0;q.scopes.pop()}return fe(q).offset!=ze}function te(Y,q){Y.sol()&&(q.beginningOfLine=!0,q.dedent=!1);var ze=q.tokenize(Y,q),je=Y.current();if(q.beginningOfLine&&"@"==je)return Y.match(de,!1)?"meta":_e?"operator":J;if(/\S/.test(je)&&(q.beginningOfLine=!1),("variable"==ze||"builtin"==ze)&&"meta"==q.lastToken&&(ze="meta"),("pass"==je||"return"==je)&&(q.dedent=!0),"lambda"==je&&(q.lambda=!0),":"==je&&!q.lambda&&"py"==fe(q).type&&Y.match(/^\s*(?:#|$)/,!1)&&ye(q),1==je.length&&!/string|comment/.test(ze)){var Rt="[({".indexOf(je);if(-1!=Rt&&function(Y,q,ze){var je=Y.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:Y.column()+1;q.scopes.push({offset:q.indent+Fe,type:ze,align:je})}(Y,q,"])}".slice(Rt,Rt+1)),-1!=(Rt="])}".indexOf(je))){if(fe(q).type!=je)return J;q.indent=q.scopes.pop().offset-Fe}}return q.dedent&&Y.eol()&&"py"==fe(q).type&&q.scopes.length>1&&q.scopes.pop(),ze}return{startState:function(Y){return{tokenize:$e,scopes:[{offset:Y||0,type:"py",align:null}],indent:Y||0,lastToken:null,lambda:!1,dedent:0}},token:function(Y,q){var ze=q.errorToken;ze&&(q.errorToken=!1);var je=te(Y,q);return je&&"comment"!=je&&(q.lastToken="keyword"==je||"punctuation"==je?Y.current():je),"punctuation"==je&&(je=null),Y.eol()&&q.lambda&&(q.lambda=!1),ze?je+" "+J:je},indent:function(Y,q){if(Y.tokenize!=$e)return Y.tokenize.isString?h.Pass:0;var ze=fe(Y),je=ze.type==q.charAt(0)||"py"==ze.type&&!Y.dedent&&/^(else:|elif |except |finally:)/.test(q);return null!=ze.align?ze.align-(je?1:0):ze.offset-(je?Fe:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}}),h.defineMIME("text/x-python","python"),h.defineMIME("text/x-cython",{name:"python",extra_keywords:"by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE".split(" ")})}(V(5233))},7713:(pt,xe,V)=>{"use strict";V.d(xe,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=V(1572);(0,h.registerVersion)("firebase","9.6.7","app")},7892:(pt,xe,V)=>{"use strict";V.d(xe,{Z:()=>h.Z});var h=V(6293);h.Z.registerVersion("firebase","9.6.7","app-compat")},1171:(pt,xe,V)=>{"use strict";V.r(xe);var h=V(8239),pe=V(6293),B=V(4213),we=V(1572),ce=V(4762),fe=V(3855),le=V(1177);const rt=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ye=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new fe.Yd("@firebase/auth");function Oe(a,...l){Ee.logLevel<=fe.in.ERROR&&Ee.error(`Auth (${we.SDK_VERSION}): ${a}`,...l)}function De(a,...l){throw at(a,...l)}function $e(a,...l){return at(a,...l)}function He(a,l,d){const p=Object.assign(Object.assign({},Ye()),{[l]:d});return new B.LL("auth","Firebase",p).create(l,{appName:a.name})}function et(a,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&De(a,"argument-error"),He(a,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function at(a,...l){if("string"!=typeof a){const d=l[0],p=[...l.slice(1)];return p[0]&&(p[0].appName=a.name),a._errorFactory.create(d,...p)}return _e.create(a,...l)}function ye(a,l,...d){if(!a)throw at(l,...d)}function H(a){const l="INTERNAL ASSERTION FAILED: "+a;throw Oe(l),new Error(l)}function Z(a,l){a||H(l)}const te=new Map;function re(a){Z(a instanceof Function,"Expected a class definition");let l=te.get(a);return l?(Z(l instanceof a,"Instance stored in cache mismatched with class"),l):(l=new a,te.set(a,l),l)}function ze(){var a;return"undefined"!=typeof self&&(null===(a=self.location)||void 0===a?void 0:a.href)||""}function je(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var a;return"undefined"!=typeof self&&(null===(a=self.location)||void 0===a?void 0:a.protocol)||null}class vt{constructor(l,d){this.shortDelay=l,this.longDelay=d,Z(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _t(a,l){Z(a.emulator,"Emulator should always be set here");const{url:d}=a.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class Vn{static initialize(l,d,p){this.fetchImpl=l,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void H("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void H("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void H("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Er={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cn=new vt(3e4,6e4);function Hn(a,l){return a.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:a.tenantId}):l}function Yt(a,l,d,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(a,l,d,p,v={}){return xr(a,v,(0,h.Z)(function*(){let b={},x={};p&&("GET"===l?x=p:b={body:JSON.stringify(p)});const I=(0,B.xO)(Object.assign({key:a.config.apiKey},x)).slice(1),M=yield a._getAdditionalHeaders();return M["Content-Type"]="application/json",a.languageCode&&(M["X-Firebase-Locale"]=a.languageCode),Vn.fetch()(No(a,a.config.apiHost,d,I),Object.assign({method:l,headers:M,referrerPolicy:"no-referrer"},b))}))})).apply(this,arguments)}function xr(a,l,d){return ro.apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(a,l,d){a._canInitEmulator=!1;const p=Object.assign(Object.assign({},Er),l);try{const v=new xi(a),b=yield Promise.race([d(),v.promise]);v.clearNetworkTimeout();const x=yield b.json();if("needConfirmation"in x)throw ps(a,"account-exists-with-different-credential",x);if(b.ok&&!("errorMessage"in x))return x;{const I=b.ok?x.errorMessage:x.error.message,[M,N]=I.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===M)throw ps(a,"credential-already-in-use",x);if("EMAIL_EXISTS"===M)throw ps(a,"email-already-in-use",x);const z=p[M]||M.toLowerCase().replace(/[_\s]+/g,"-");if(N)throw He(a,z,N);De(a,z)}}catch(v){if(v instanceof B.ZR)throw v;De(a,"network-request-failed")}})).apply(this,arguments)}function Kt(a,l,d,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,h.Z)(function*(a,l,d,p,v={}){const b=yield Yt(a,l,d,p,v);return"mfaPendingCredential"in b&&De(a,"multi-factor-auth-required",{_serverResponse:b}),b})).apply(this,arguments)}function No(a,l,d,p){const v=`${l}${d}?${p}`;return a.config.emulator?_t(a.config,v):`${a.config.apiScheme}://${v}`}class xi{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p($e(this.auth,"network-request-failed")),cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ps(a,l,d){const p={appName:a.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const v=$e(a,l,p);return v.customData._tokenResponse=d,v}function bt(){return(bt=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function or(a,l){return Si.apply(this,arguments)}function Si(){return(Si=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Wi(a,l){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Ot(a){if(a)try{const l=new Date(Number(a));if(!isNaN(l.getTime()))return l.toUTCString()}catch(l){}}function Nr(){return(Nr=(0,h.Z)(function*(a,l=!1){const d=(0,B.m9)(a),p=yield d.getIdToken(l),v=ht(p);ye(v&&v.exp&&v.auth_time&&v.iat,d.auth,"internal-error");const b="object"==typeof v.firebase?v.firebase:void 0,x=null==b?void 0:b.sign_in_provider;return{claims:v,token:p,authTime:Ot(xn(v.auth_time)),issuedAtTime:Ot(xn(v.iat)),expirationTime:Ot(xn(v.exp)),signInProvider:x||null,signInSecondFactor:(null==b?void 0:b.sign_in_second_factor)||null}})).apply(this,arguments)}function xn(a){return 1e3*Number(a)}function ht(a){const[l,d,p]=a.split(".");if(void 0===l||void 0===d||void 0===p)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,B.tV)(d);return v?JSON.parse(v):(Oe("Failed to decode base64 JWT payload"),null)}catch(v){return Oe("Caught error parsing JWT payload as JSON",v),null}}function ms(a,l){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(a,l,d=!1){if(d)return l;try{return yield l}catch(p){throw p instanceof B.ZR&&Zi(p)&&a.auth.currentUser===a&&(yield a.auth.signOut()),p}})).apply(this,arguments)}function Zi({code:a}){return"auth/user-disabled"===a||"auth/user-token-expired"===a}class nn{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const v=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(l);this.timerId=setTimeout((0,h.Z)(function*(){yield d.iteration()}),p)}iteration(){var l=this;return(0,h.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d.code&&l.schedule(!0))}l.schedule()})()}}class wn{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ot(this.lastLoginAt),this.creationTime=Ot(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yn(a){return ie.apply(this,arguments)}function ie(){return(ie=(0,h.Z)(function*(a){var l;const d=a.auth,p=yield a.getIdToken(),v=yield ms(a,Wi(d,{idToken:p}));ye(null==v?void 0:v.users.length,d,"internal-error");const b=v.users[0];a._notifyReloadListener(b);const x=(null===(l=b.providerUserInfo)||void 0===l?void 0:l.length)?Ce(b.providerUserInfo):[],I=Re(a.providerData,x),z=!!a.isAnonymous&&!(a.email&&b.passwordHash||(null==I?void 0:I.length)),G={uid:b.localId,displayName:b.displayName||null,photoURL:b.photoUrl||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,tenantId:b.tenantId||null,providerData:I,metadata:new wn(b.createdAt,b.lastLoginAt),isAnonymous:z};Object.assign(a,G)})).apply(this,arguments)}function se(){return(se=(0,h.Z)(function*(a){const l=(0,B.m9)(a);yield Yn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Re(a,l){return[...a.filter(p=>!l.some(v=>v.providerId===p.providerId)),...l]}function Ce(a){return a.map(l=>{var{providerId:d}=l,p=(0,ce._T)(l,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}function It(){return(It=(0,h.Z)(function*(a,l){const d=yield xr(a,{},(0,h.Z)(function*(){const p=(0,B.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:v,apiKey:b}=a.config,x=No(a,v,"/v1/token",`key=${b}`),I=yield a._getAdditionalHeaders();return I["Content-Type"]="application/x-www-form-urlencoded",Vn.fetch()(x,{method:"POST",headers:I,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class En{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ye(l.idToken,"internal-error"),ye(void 0!==l.idToken,"internal-error"),ye(void 0!==l.refreshToken,"internal-error");const d="expiresIn"in l&&void 0!==l.expiresIn?Number(l.expiresIn):function(a){const l=ht(a);return ye(l,"internal-error"),ye(void 0!==l.exp,"internal-error"),ye(void 0!==l.iat,"internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var p=this;return(0,h.Z)(function*(){return ye(!p.accessToken||p.refreshToken,l,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(l,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var p=this;return(0,h.Z)(function*(){const{accessToken:v,refreshToken:b,expiresIn:x}=yield function(a,l){return It.apply(this,arguments)}(l,d);p.updateTokensAndExpiration(v,b,Number(x))})()}updateTokensAndExpiration(l,d,p){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(l,d){const{refreshToken:p,accessToken:v,expirationTime:b}=d,x=new En;return p&&(ye("string"==typeof p,"internal-error",{appName:l}),x.refreshToken=p),v&&(ye("string"==typeof v,"internal-error",{appName:l}),x.accessToken=v),b&&(ye("number"==typeof b,"internal-error",{appName:l}),x.expirationTime=b),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new En,this.toJSON())}_performRefresh(){return H("not implemented")}}function Qn(a,l){ye("string"==typeof a||void 0===a,"internal-error",{appName:l})}class Bn{constructor(l){var{uid:d,auth:p,stsTokenManager:v}=l,b=(0,ce._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=b.displayName||null,this.email=b.email||null,this.emailVerified=b.emailVerified||!1,this.phoneNumber=b.phoneNumber||null,this.photoURL=b.photoURL||null,this.isAnonymous=b.isAnonymous||!1,this.tenantId=b.tenantId||null,this.providerData=b.providerData?[...b.providerData]:[],this.metadata=new wn(b.createdAt||void 0,b.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,h.Z)(function*(){const p=yield ms(d,d.stsTokenManager.getToken(d.auth,l));return ye(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(l){return function(a){return Nr.apply(this,arguments)}(this,l)}reload(){return function(a){return se.apply(this,arguments)}(this)}_assign(l){this!==l&&(ye(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new Bn(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var p=this;return(0,h.Z)(function*(){let v=!1;l.idToken&&l.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(l),v=!0),d&&(yield Yn(p)),yield p.auth._persistUserIfCurrent(p),v&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var l=this;return(0,h.Z)(function*(){const d=yield l.getIdToken();return yield ms(l,function(a,l){return bt.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var p,v,b,x,I,M,N,z;const G=null!==(p=d.displayName)&&void 0!==p?p:void 0,oe=null!==(v=d.email)&&void 0!==v?v:void 0,ne=null!==(b=d.phoneNumber)&&void 0!==b?b:void 0,Se=null!==(x=d.photoURL)&&void 0!==x?x:void 0,Pe=null!==(I=d.tenantId)&&void 0!==I?I:void 0,qe=null!==(M=d._redirectEventId)&&void 0!==M?M:void 0,tt=null!==(N=d.createdAt)&&void 0!==N?N:void 0,it=null!==(z=d.lastLoginAt)&&void 0!==z?z:void 0,{uid:nt,emailVerified:dt,isAnonymous:Mt,providerData:Et,stsTokenManager:Qt}=d;ye(nt&&Qt,l,"internal-error");const Fn=En.fromJSON(this.name,Qt);ye("string"==typeof nt,l,"internal-error"),Qn(G,l.name),Qn(oe,l.name),ye("boolean"==typeof dt,l,"internal-error"),ye("boolean"==typeof Mt,l,"internal-error"),Qn(ne,l.name),Qn(Se,l.name),Qn(Pe,l.name),Qn(qe,l.name),Qn(tt,l.name),Qn(it,l.name);const rr=new Bn({uid:nt,auth:l,email:oe,emailVerified:dt,displayName:G,isAnonymous:Mt,photoURL:Se,phoneNumber:ne,tenantId:Pe,stsTokenManager:Fn,createdAt:tt,lastLoginAt:it});return Et&&Array.isArray(Et)&&(rr.providerData=Et.map(ir=>Object.assign({},ir))),qe&&(rr._redirectEventId=qe),rr}static _fromIdTokenResponse(l,d,p=!1){return(0,h.Z)(function*(){const v=new En;v.updateFromServerResponse(d);const b=new Bn({uid:d.localId,auth:l,stsTokenManager:v,isAnonymous:p});return yield Yn(b),b})()}}const an=(()=>{class a{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(d,p){var v=this;return(0,h.Z)(function*(){v.storage[d]=p})()}_get(d){var p=this;return(0,h.Z)(function*(){const v=p.storage[d];return void 0===v?null:v})()}_remove(d){var p=this;return(0,h.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return a.type="NONE",a})();function Sr(a,l,d){return`firebase:${a}:${l}:${d}`}class Ki{constructor(l,d,p){this.persistence=l,this.auth=d,this.userKey=p;const{config:v,name:b}=this.auth;this.fullUserKey=Sr(this.userKey,v.apiKey,b),this.fullPersistenceKey=Sr("persistence",v.apiKey,b),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,h.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?Bn._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,h.Z)(function*(){if(d.persistence===l)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,p="authUser"){return(0,h.Z)(function*(){if(!d.length)return new Ki(re(an),l,p);const v=(yield Promise.all(d.map(function(){var N=(0,h.Z)(function*(z){if(yield z._isAvailable())return z});return function(z){return N.apply(this,arguments)}}()))).filter(N=>N);let b=v[0]||re(an);const x=Sr(p,l.config.apiKey,l.name);let I=null;for(const N of d)try{const z=yield N._get(x);if(z){const G=Bn._fromJSON(l,z);N!==b&&(I=G),b=N;break}}catch(z){}const M=v.filter(N=>N._shouldAllowMigration);return b._shouldAllowMigration&&M.length?(b=M[0],I&&(yield b._set(x,I.toJSON())),yield Promise.all(d.map(function(){var N=(0,h.Z)(function*(z){if(z!==b)try{yield z._remove(x)}catch(G){}});return function(z){return N.apply(this,arguments)}}())),new Ki(b,l,p)):new Ki(b,l,p)})()}}function ma(a){const l=a.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(h1(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(u1(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(fi(l))return"Blackberry";if(Yi(l))return"Webos";if(d1(l))return"Safari";if((l.includes("chrome/")||Ka(l))&&!l.includes("edge/"))return"Chrome";if(Jn(l))return"Android";{const p=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==p?void 0:p.length))return p[1]}return"Other"}function u1(a=(0,B.z$)()){return/firefox\//i.test(a)}function d1(a=(0,B.z$)()){const l=a.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Ka(a=(0,B.z$)()){return/crios\//i.test(a)}function h1(a=(0,B.z$)()){return/iemobile/i.test(a)}function Jn(a=(0,B.z$)()){return/android/i.test(a)}function fi(a=(0,B.z$)()){return/blackberry/i.test(a)}function Yi(a=(0,B.z$)()){return/webos/i.test(a)}function yr(a=(0,B.z$)()){return/iphone|ipad|ipod/i.test(a)}function Wn(a=(0,B.z$)()){return yr(a)||Jn(a)||Yi(a)||fi(a)||/windows phone/i.test(a)||h1(a)}function Mi(a,l=[]){let d;switch(a){case"Browser":d=ma((0,B.z$)());break;case"Worker":d=`${ma((0,B.z$)())}-${a}`;break;default:d=a}const p=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${we.SDK_VERSION}/${p}`}class Tr{constructor(l,d){this.app=l,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ot(this),this.idTokenSubscription=new ot(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=d.sdkClientVersion}_initializeWithPersistence(l,d){var p=this;return d&&(this._popupRedirectResolver=re(d)),this._initializationPromise=this.queue((0,h.Z)(function*(){var v,b;if(!p._deleted&&(p.persistenceManager=yield Ki.create(p,l),!p._deleted)){if(null===(v=p._popupRedirectResolver)||void 0===v?void 0:v._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch(x){}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(b=p.currentUser)||void 0===b?void 0:b.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,h.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d)}})()}initializeCurrentUser(l){var d=this;return(0,h.Z)(function*(){var p;let v=yield d.assertedPersistence.getCurrentUser();if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const b=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,x=null==v?void 0:v._redirectEventId,I=yield d.tryRedirectSignIn(l);(!b||b===x)&&(null==I?void 0:I.user)&&(v=I.user)}return v?v._redirectEventId?(ye(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===v._redirectEventId?d.directlySetCurrentUser(v):d.reloadAndSetCurrentUserOrClear(v)):d.reloadAndSetCurrentUserOrClear(v):d.directlySetCurrentUser(null)})()}tryRedirectSignIn(l){var d=this;return(0,h.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch(v){yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,h.Z)(function*(){try{yield Yn(l)}catch(p){if("auth/network-request-failed"!==p.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}()}_delete(){var l=this;return(0,h.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,h.Z)(function*(){const p=l?(0,B.m9)(l):null;return p&&ye(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(l){var d=this;return(0,h.Z)(function*(){if(!d._deleted)return l&&ye(d.tenantId===l.tenantId,d,"tenant-id-mismatch"),d.queue((0,h.Z)(function*(){yield d.directlySetCurrentUser(l),d.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,h.Z)(function*(){return(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null)})()}setPersistence(l){var d=this;return this.queue((0,h.Z)(function*(){yield d.assertedPersistence.setPersistence(re(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new B.LL("auth","Firebase",l())}onAuthStateChanged(l,d,p){return this.registerStateListener(this.authStateSubscription,l,d,p)}onIdTokenChanged(l,d,p){return this.registerStateListener(this.idTokenSubscription,l,d,p)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var p=this;return(0,h.Z)(function*(){const v=yield p.getOrInitRedirectPersistenceManager(d);return null===l?v.removeCurrentUser():v.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,h.Z)(function*(){if(!d.redirectPersistenceManager){const p=l&&re(l)||d._popupRedirectResolver;ye(p,d,"argument-error"),d.redirectPersistenceManager=yield Ki.create(d,[re(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,h.Z)(function*(){var p,v;return d._isInitialized&&(yield d.queue((0,h.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===l?d._currentUser:(null===(v=d.redirectUser)||void 0===v?void 0:v._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,h.Z)(function*(){if(l===d.currentUser)return d.queue((0,h.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,p,v){if(this._deleted)return()=>{};const b="function"==typeof d?d:d.next.bind(d),x=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(x,this,"internal-error"),x.then(()=>b(this.currentUser)),"function"==typeof d?l.addObserver(d,p,v):l.addObserver(d)}directlySetCurrentUser(l){var d=this;return(0,h.Z)(function*(){d.currentUser&&d.currentUser!==l&&(d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh()),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Mi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,h.Z)(function*(){const d={"X-Client-Version":l.clientVersion};return l.app.options.appId&&(d["X-Firebase-gmpid"]=l.app.options.appId),d})()}}function Wt(a){return(0,B.m9)(a)}class ot{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,B.ne)(d=>this.observer=d)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Po(a){const l=a.indexOf(":");return l<0?"":a.substr(0,l+1)}function _n(a){if(!a)return null;const l=Number(a);return isNaN(l)?null:l}class ti{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return H("not implemented")}_getIdTokenResponse(l){return H("not implemented")}_linkToIdToken(l,d){return H("not implemented")}_getReauthenticationResolver(l){return H("not implemented")}}function io(a,l){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:resetPassword",Hn(a,l))})).apply(this,arguments)}function Bt(a,l){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ji(a,l){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:update",Hn(a,l))})).apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(a,l){return Kt(a,"POST","/v1/accounts:signInWithPassword",Hn(a,l))})).apply(this,arguments)}function Lt(a,l){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:sendOobCode",Hn(a,l))})).apply(this,arguments)}function pi(a,l){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,h.Z)(function*(a,l){return Lt(a,l)})).apply(this,arguments)}function $r(a,l){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(a,l){return Lt(a,l)})).apply(this,arguments)}function p1(a,l){return ni.apply(this,arguments)}function ni(){return(ni=(0,h.Z)(function*(a,l){return Lt(a,l)})).apply(this,arguments)}function gs(a,l){return m1.apply(this,arguments)}function m1(){return(m1=(0,h.Z)(function*(a,l){return Lt(a,l)})).apply(this,arguments)}function Rl(){return(Rl=(0,h.Z)(function*(a,l){return Kt(a,"POST","/v1/accounts:signInWithEmailLink",Hn(a,l))})).apply(this,arguments)}function g1(){return(g1=(0,h.Z)(function*(a,l){return Kt(a,"POST","/v1/accounts:signInWithEmailLink",Hn(a,l))})).apply(this,arguments)}class v1 extends ti{constructor(l,d,p,v=null){super("password",p),this._email=l,this._password=d,this._tenantId=v}static _fromEmailAndPassword(l,d){return new v1(l,d,"password")}static _fromEmailAndCode(l,d,p=null){return new v1(l,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if((null==d?void 0:d.email)&&(null==d?void 0:d.password)){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,h.Z)(function*(){switch(d.signInMethod){case"password":return function(a,l){return so.apply(this,arguments)}(l,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function(a,l){return Rl.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:De(l,"internal-error")}})()}_linkToIdToken(l,d){var p=this;return(0,h.Z)(function*(){switch(p.signInMethod){case"password":return Bt(l,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(a,l){return g1.apply(this,arguments)}(l,{idToken:d,email:p._email,oobCode:p._password});default:De(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Pr(a,l){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(a,l){return Kt(a,"POST","/v1/accounts:signInWithIdp",Hn(a,l))})).apply(this,arguments)}class Wr extends ti{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new Wr(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):De("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:v}=d,b=(0,ce._T)(d,["providerId","signInMethod"]);if(!p||!v)return null;const x=new Wr(p,v);return x.idToken=b.idToken||void 0,x.accessToken=b.accessToken||void 0,x.secret=b.secret,x.nonce=b.nonce,x.pendingToken=b.pendingToken||null,x}_getIdTokenResponse(l){return Pr(l,this.buildRequest())}_linkToIdToken(l,d){const p=this.buildRequest();return p.idToken=d,Pr(l,p)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Pr(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,B.xO)(d)}return l}}function Q2(a,l){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:sendVerificationCode",Hn(a,l))})).apply(this,arguments)}function Fo(){return(Fo=(0,h.Z)(function*(a,l){return Kt(a,"POST","/v1/accounts:signInWithPhoneNumber",Hn(a,l))})).apply(this,arguments)}function Xu(){return(Xu=(0,h.Z)(function*(a,l){const d=yield Kt(a,"POST","/v1/accounts:signInWithPhoneNumber",Hn(a,l));if(d.temporaryProof)throw ps(a,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const J2={USER_NOT_FOUND:"user-not-found"};function _1(){return(_1=(0,h.Z)(function*(a,l){return Kt(a,"POST","/v1/accounts:signInWithPhoneNumber",Hn(a,Object.assign(Object.assign({},l),{operation:"REAUTH"})),J2)})).apply(this,arguments)}class Ya extends ti{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new Ya({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new Ya({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function(a,l){return Fo.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function(a,l){return Xu.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function(a,l){return _1.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:p,verificationCode:v}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:p,code:v}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:p,phoneNumber:v,temporaryProof:b}=l;return p||d||v||b?new Ya({verificationId:d,verificationCode:p,phoneNumber:v,temporaryProof:b}):null}}class zo{constructor(l){var d,p,v,b,x,I;const M=(0,B.zd)((0,B.pd)(l)),N=null!==(d=M.apiKey)&&void 0!==d?d:null,z=null!==(p=M.oobCode)&&void 0!==p?p:null,G=function(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=M.mode)&&void 0!==v?v:null);ye(N&&z&&G,"argument-error"),this.apiKey=N,this.operation=G,this.code=z,this.continueUrl=null!==(b=M.continueUrl)&&void 0!==b?b:null,this.languageCode=null!==(x=M.languageCode)&&void 0!==x?x:null,this.tenantId=null!==(I=M.tenantId)&&void 0!==I?I:null}static parseLink(l){const d=function(a){const l=(0,B.zd)((0,B.pd)(a)).link,d=l?(0,B.zd)((0,B.pd)(l)).deep_link_id:null,p=(0,B.zd)((0,B.pd)(a)).deep_link_id;return(p?(0,B.zd)((0,B.pd)(p)).link:null)||p||d||l||a}(l);try{return new zo(d)}catch(p){return null}}}let ga=(()=>{class a{constructor(){this.providerId=a.PROVIDER_ID}static credential(d,p){return v1._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const v=zo.parseLink(p);return ye(v,"argument-error"),v1._fromEmailAndCode(d,v.code,v.tenantId)}}return a.PROVIDER_ID="password",a.EMAIL_PASSWORD_SIGN_IN_METHOD="password",a.EMAIL_LINK_SIGN_IN_METHOD="emailLink",a})();class ao{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Pl extends ao{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Ai extends Pl{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return ye("providerId"in d&&"signInMethod"in d,"argument-error"),Wr._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ye(l.idToken||l.accessToken,"argument-error"),Wr._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Ai.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Ai.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:v,pendingToken:b,nonce:x,providerId:I}=l;if(!p&&!v&&!d&&!b||!I)return null;try{return new Ai(I)._credential({idToken:d,accessToken:p,nonce:x,pendingToken:b})}catch(M){return null}}}let va=(()=>{class a extends Pl{constructor(){super("facebook.com")}static credential(d){return Wr._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return a.credentialFromTaggedObject(d)}static credentialFromError(d){return a.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return a.credential(d.oauthAccessToken)}catch(p){return null}}}return a.FACEBOOK_SIGN_IN_METHOD="facebook.com",a.PROVIDER_ID="facebook.com",a})(),Qa=(()=>{class a extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return Wr._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return a.credentialFromTaggedObject(d)}static credentialFromError(d){return a.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:v}=d;if(!p&&!v)return null;try{return a.credential(p,v)}catch(b){return null}}}return a.GOOGLE_SIGN_IN_METHOD="google.com",a.PROVIDER_ID="google.com",a})(),y1=(()=>{class a extends Pl{constructor(){super("github.com")}static credential(d){return Wr._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return a.credentialFromTaggedObject(d)}static credentialFromError(d){return a.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return a.credential(d.oauthAccessToken)}catch(p){return null}}}return a.GITHUB_SIGN_IN_METHOD="github.com",a.PROVIDER_ID="github.com",a})();class vs extends ti{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return Pr(l,this.buildRequest())}_linkToIdToken(l,d){const p=this.buildRequest();return p.idToken=d,Pr(l,p)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Pr(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:v,pendingToken:b}=d;return p&&v&&b&&p===v?new vs(p,b):null}static _create(l,d){return new vs(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _s extends ao{constructor(l){ye(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return _s.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return _s.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=vs.fromJSON(l);return ye(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:p}=l;if(!d||!p)return null;try{return vs._create(p,d)}catch(v){return null}}}let Fs=(()=>{class a extends Pl{constructor(){super("twitter.com")}static credential(d,p){return Wr._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return a.credentialFromTaggedObject(d)}static credentialFromError(d){return a.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:v}=d;if(!p||!v)return null;try{return a.credential(p,v)}catch(b){return null}}}return a.TWITTER_SIGN_IN_METHOD="twitter.com",a.PROVIDER_ID="twitter.com",a})();function zs(a,l){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(a,l){return Kt(a,"POST","/v1/accounts:signUp",Hn(a,l))})).apply(this,arguments)}class Tn{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,p,v=!1){return(0,h.Z)(function*(){const b=yield Bn._fromIdTokenResponse(l,p,v),x=Ll(p);return new Tn({user:b,providerId:x,_tokenResponse:p,operationType:d})})()}static _forOperation(l,d,p){return(0,h.Z)(function*(){yield l._updateTokensIfNecessary(p,!0);const v=Ll(p);return new Tn({user:l,providerId:v,_tokenResponse:p,operationType:d})})()}}function Ll(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}function Vs(){return(Vs=(0,h.Z)(function*(a){var l;const d=Wt(a);if(yield d._initializationPromise,null===(l=d.currentUser)||void 0===l?void 0:l.isAnonymous)return new Tn({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield zs(d,{returnSecureToken:!0}),v=yield Tn._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(v.user),v})).apply(this,arguments)}class b1 extends B.ZR{constructor(l,d,p,v){var b;super(d.code,d.message),this.operationType=p,this.user=v,Object.setPrototypeOf(this,b1.prototype),this.customData={appName:l.name,tenantId:null!==(b=l.tenantId)&&void 0!==b?b:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(l,d,p,v){return new b1(l,d,p,v)}}function C1(a,l,d,p){return("reauthenticate"===l?d._getReauthenticationResolver(a):d._getIdTokenResponse(a)).catch(b=>{throw"auth/multi-factor-auth-required"===b.code?b1._fromErrorAndOperation(a,b,l,p):b})}function td(a){return new Set(a.map(({providerId:l})=>l).filter(l=>!!l))}function Fl(){return(Fl=(0,h.Z)(function*(a,l){const d=(0,B.m9)(a);yield _a(!0,d,l);const{providerUserInfo:p}=yield or(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),v=td(p||[]);return d.providerData=d.providerData.filter(b=>v.has(b.providerId)),v.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function Xa(a,l){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(a,l,d=!1){const p=yield ms(a,l._linkToIdToken(a.auth,yield a.getIdToken()),d);return Tn._forOperation(a,"link",p)})).apply(this,arguments)}function _a(a,l,d){return ya.apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(a,l,d){yield Yn(l);const v=!1===a?"provider-already-linked":"no-such-provider";ye(td(l.providerData).has(d)===a,l.auth,v)})).apply(this,arguments)}function el(a,l){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,h.Z)(function*(a,l,d=!1){const{auth:p}=a,v="reauthenticate";try{const b=yield ms(a,C1(p,v,l,a),d);ye(b.idToken,p,"internal-error");const x=ht(b.idToken);ye(x,p,"internal-error");const{sub:I}=x;return ye(a.uid===I,p,"user-mismatch"),Tn._forOperation(a,v,b)}catch(b){throw"auth/user-not-found"===(null==b?void 0:b.code)&&De(p,"user-mismatch"),b}})).apply(this,arguments)}function w1(a,l){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,h.Z)(function*(a,l,d=!1){const p="signIn",v=yield C1(a,p,l),b=yield Tn._fromIdTokenResponse(a,p,v);return d||(yield a._updateCurrentUser(b.user)),b})).apply(this,arguments)}function ys(a,l){return mn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(a,l){return w1(Wt(a),l)})).apply(this,arguments)}function Ec(a,l){return tl.apply(this,arguments)}function tl(){return(tl=(0,h.Z)(function*(a,l){const d=(0,B.m9)(a);return yield _a(!1,d,l.providerId),Xa(d,l)})).apply(this,arguments)}function nd(a,l){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(a,l){return el((0,B.m9)(a),l)})).apply(this,arguments)}function Ir(a,l){return zl.apply(this,arguments)}function zl(){return(zl=(0,h.Z)(function*(a,l){return Kt(a,"POST","/v1/accounts:signInWithCustomToken",Hn(a,l))})).apply(this,arguments)}function ba(){return(ba=(0,h.Z)(function*(a,l){const d=Wt(a),p=yield Ir(d,{token:l,returnSecureToken:!0}),v=yield Tn._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(v.user),v})).apply(this,arguments)}class Vl{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?xc._fromServerResponse(l,d):De(l,"internal-error")}}class xc extends Vl{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new xc(d)}}function Sc(a,l,d){var p;ye((null===(p=d.url)||void 0===p?void 0:p.length)>0,a,"invalid-continue-uri"),ye(void 0===d.dynamicLinkDomain||d.dynamicLinkDomain.length>0,a,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ye(d.iOS.bundleId.length>0,a,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(ye(d.android.packageName.length>0,a,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function Hl(){return(Hl=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a),v={requestType:"PASSWORD_RESET",email:l};d&&Sc(p,v,d),yield $r(p,v)})).apply(this,arguments)}function Ue(){return(Ue=(0,h.Z)(function*(a,l,d){yield io((0,B.m9)(a),{oobCode:l,newPassword:d})})).apply(this,arguments)}function Hs(){return(Hs=(0,h.Z)(function*(a,l){yield Ji((0,B.m9)(a),{oobCode:l})})).apply(this,arguments)}function Xn(a,l){return bs.apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(a,l){const d=(0,B.m9)(a),p=yield io(d,{oobCode:l}),v=p.requestType;switch(ye(v,d,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(p.mfaInfo,d,"internal-error");default:ye(p.email,d,"internal-error")}let b=null;return p.mfaInfo&&(b=Vl._fromServerResponse(Wt(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:b},operation:v}})).apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(a,l){const{data:d}=yield Xn((0,B.m9)(a),l);return d.email})).apply(this,arguments)}function Ho(){return(Ho=(0,h.Z)(function*(a,l,d){const p=Wt(a),v=yield zs(p,{returnSecureToken:!0,email:l,password:d}),b=yield Tn._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(b.user),b})).apply(this,arguments)}function Bo(){return(Bo=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a),v={requestType:"EMAIL_SIGNIN",email:l};ye(d.handleCodeInApp,p,"argument-error"),d&&Sc(p,v,d),yield p1(p,v)})).apply(this,arguments)}function Us(){return(Us=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a),v=ga.credentialWithLink(l,d||ze());return ye(v._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),ys(p,v)})).apply(this,arguments)}function Tc(a,l){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:createAuthUri",Hn(a,l))})).apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(a,l){const p={identifier:l,continueUri:je()?ze():"http://localhost"},{signinMethods:v}=yield Tc((0,B.m9)(a),p);return v||[]})).apply(this,arguments)}function wa(){return(wa=(0,h.Z)(function*(a,l){const d=(0,B.m9)(a),v={requestType:"VERIFY_EMAIL",idToken:yield a.getIdToken()};l&&Sc(d.auth,v,l);const{email:b}=yield pi(d.auth,v);b!==a.email&&(yield a.reload())})).apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a),b={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield a.getIdToken(),newEmail:l};d&&Sc(p.auth,b,d);const{email:x}=yield gs(p.auth,b);x!==a.email&&(yield a.reload())})).apply(this,arguments)}function S1(a,l){return nl.apply(this,arguments)}function nl(){return(nl=(0,h.Z)(function*(a,l){return Yt(a,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Uo(){return(Uo=(0,h.Z)(function*(a,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const p=(0,B.m9)(a),b={idToken:yield p.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},x=yield ms(p,S1(p.auth,b));p.displayName=x.displayName||null,p.photoURL=x.photoUrl||null;const I=p.providerData.find(({providerId:M})=>"password"===M);I&&(I.displayName=p.displayName,I.photoURL=p.photoURL),yield p._updateTokensIfNecessary(x)})).apply(this,arguments)}function rl(a,l,d){return xa.apply(this,arguments)}function xa(){return(xa=(0,h.Z)(function*(a,l,d){const{auth:p}=a,b={idToken:yield a.getIdToken(),returnSecureToken:!0};l&&(b.email=l),d&&(b.password=d);const x=yield ms(a,Bt(p,b));yield a._updateTokensIfNecessary(x,!0)})).apply(this,arguments)}class jo{constructor(l,d,p={}){this.isNewUser=l,this.providerId=d,this.profile=p}}class mi extends jo{constructor(l,d,p,v){super(l,d,p),this.username=v}}class Yd extends jo{constructor(l,d){super(l,"facebook.com",d)}}class Mc extends mi{constructor(l,d){super(l,"github.com",d,"string"==typeof(null==d?void 0:d.login)?null==d?void 0:d.login:null)}}class Lr extends jo{constructor(l,d){super(l,"google.com",d)}}class Go extends mi{constructor(l,d,p){super(l,"twitter.com",d,p)}}function Un(a){const{user:l,_tokenResponse:d}=a;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function(a){var l,d;if(!a)return null;const{providerId:p}=a,v=a.rawUserInfo?JSON.parse(a.rawUserInfo):{},b=a.isNewUser||"identitytoolkit#SignupNewUserResponse"===a.kind;if(!p&&(null==a?void 0:a.idToken)){const x=null===(d=null===(l=ht(a.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(x)return new jo(b,"anonymous"!==x&&"custom"!==x?x:null)}if(!p)return null;switch(p){case"facebook.com":return new Yd(b,v);case"github.com":return new Mc(b,v);case"google.com":return new Lr(b,v);case"twitter.com":return new Go(b,v,a.screenName||null);case"custom":case"anonymous":return new jo(b,null);default:return new jo(b,p,v)}}(d)}class Cs{constructor(l,d){this.type=l,this.credential=d}static _fromIdtoken(l){return new Cs("enroll",l)}static _fromMfaPendingCredential(l){return new Cs("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,p;if(null==l?void 0:l.multiFactorSession){if(null===(d=l.multiFactorSession)||void 0===d?void 0:d.pendingCredential)return Cs._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null===(p=l.multiFactorSession)||void 0===p?void 0:p.idToken)return Cs._fromIdtoken(l.multiFactorSession.idToken)}return null}}class ql{constructor(l,d,p){this.session=l,this.hints=d,this.signInResolver=p}static _fromError(l,d){const p=Wt(l),v=d.customData._serverResponse,b=(v.mfaInfo||[]).map(I=>Vl._fromServerResponse(p,I));ye(v.mfaPendingCredential,p,"internal-error");const x=Cs._fromMfaPendingCredential(v.mfaPendingCredential);return new ql(x,b,function(){var I=(0,h.Z)(function*(M){const N=yield M._process(p,x);delete v.mfaInfo,delete v.mfaPendingCredential;const z=Object.assign(Object.assign({},v),{idToken:N.idToken,refreshToken:N.refreshToken});switch(d.operationType){case"signIn":const G=yield Tn._fromIdTokenResponse(p,d.operationType,z);return yield p._updateCurrentUser(G.user),G;case"reauthenticate":return ye(d.user,p,"internal-error"),Tn._forOperation(d.user,d.operationType,z);default:De(p,"internal-error")}});return function(M){return I.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,h.Z)(function*(){return d.signInResolver(l)})()}}function sl(a,l){return Yt(a,"POST","/v2/accounts/mfaEnrollment:start",Hn(a,l))}class co{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>Vl._fromServerResponse(l.auth,p)))})}static _fromUser(l){return new co(l)}getSession(){var l=this;return(0,h.Z)(function*(){return Cs._fromIdtoken(yield l.user.getIdToken())})()}enroll(l,d){var p=this;return(0,h.Z)(function*(){const v=l,b=yield p.getSession(),x=yield ms(p.user,v._process(p.user.auth,b,d));return yield p.user._updateTokensIfNecessary(x),p.user.reload()})()}unenroll(l){var d=this;return(0,h.Z)(function*(){const p="string"==typeof l?l:l.uid,v=yield d.user.getIdToken(),b=yield ms(d.user,function(a,l){return Yt(a,"POST","/v2/accounts/mfaEnrollment:withdraw",Hn(a,l))}(d.user.auth,{idToken:v,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:x})=>x!==p),yield d.user._updateTokensIfNecessary(b);try{yield d.user.reload()}catch(x){if("auth/user-token-expired"!==x.code)throw x}})()}}const Gs=new WeakMap,Ta="__sak";class id{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Ta,"1"),this.storage.removeItem(Ta),Promise.resolve(!0)):Promise.resolve(!1)}catch(l){return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ac=(()=>{class a extends id{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const a=(0,B.z$)();return d1(a)||yr(a)}()&&function(){try{return!(!window||window===window.top)}catch(a){return!1}}(),this.fallbackToPolling=Wn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const v=this.storage.getItem(p),b=this.localCache[p];v!==b&&d(p,b,v)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((I,M,N)=>{this.notifyListeners(I,N)});const v=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const I=this.storage.getItem(v);if(d.newValue!==I)null!==d.newValue?this.storage.setItem(v,d.newValue):this.storage.removeItem(v);else if(this.localCache[v]===d.newValue&&!p)return}const b=()=>{const I=this.storage.getItem(v);!p&&this.localCache[v]===I||this.notifyListeners(v,I)},x=this.storage.getItem(v);(0,B.w1)()&&10===document.documentMode&&x!==d.newValue&&d.newValue!==d.oldValue?setTimeout(b,10):b()}notifyListeners(d,p){this.localCache[d]=p;const v=this.listeners[d];if(v)for(const b of Array.from(v))b(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var v=()=>super._set,b=this;return(0,h.Z)(function*(){yield v().call(b,d,p),b.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,v=this;return(0,h.Z)(function*(){const b=yield p().call(v,d);return v.localCache[d]=JSON.stringify(b),b})()}_remove(d){var p=()=>super._remove,v=this;return(0,h.Z)(function*(){yield p().call(v,d),delete v.localCache[d]})()}}return a.type="LOCAL",a})(),ns=(()=>{class a extends id{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return a.type="SESSION",a})();let _u=(()=>{class a{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(b=>b.isListeningto(d));if(p)return p;const v=new a(d);return this.receivers.push(v),v}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,h.Z)(function*(){const v=d,{eventId:b,eventType:x,data:I}=v.data,M=p.handlersMap[x];if(!(null==M?void 0:M.size))return;v.ports[0].postMessage({status:"ack",eventId:b,eventType:x});const N=Array.from(M).map(function(){var G=(0,h.Z)(function*(oe){return oe(v.origin,I)});return function(oe){return G.apply(this,arguments)}}()),z=yield function(a){return Promise.all(a.map(function(){var l=(0,h.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return l.apply(this,arguments)}}()))}(N);v.ports[0].postMessage({status:"done",eventId:b,eventType:x,response:z})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return a.receivers=[],a})();function gi(a="",l=10){let d="";for(let p=0;p<l;p++)d+=Math.floor(10*Math.random());return a+d}class M1{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,p=50){var v=this;return(0,h.Z)(function*(){const b="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!b)throw new Error("connection_unavailable");let x,I;return new Promise((M,N)=>{const z=gi("",20);b.port1.start();const G=setTimeout(()=>{N(new Error("unsupported_event"))},p);I={messageChannel:b,onMessage(oe){const ne=oe;if(ne.data.eventId===z)switch(ne.data.status){case"ack":clearTimeout(G),x=setTimeout(()=>{N(new Error("timeout"))},3e3);break;case"done":clearTimeout(x),M(ne.data.response);break;default:clearTimeout(G),clearTimeout(x),N(new Error("invalid_response"))}}},v.handlers.add(I),b.port1.addEventListener("message",I.onMessage),v.target.postMessage({eventType:l,eventId:z,data:d},[b.port2])}).finally(()=>{I&&v.removeMessageHandler(I)})})()}}function er(){return window}function kc(){return void 0!==er().WorkerGlobalScope&&"function"==typeof er().importScripts}function D1(){return(D1=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(a){return null}})).apply(this,arguments)}const In="firebaseLocalStorageDb",Ct="firebaseLocalStorage",Zt="fbase_key";class Dr{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Mn(a,l){return a.transaction([Ct],l?"readwrite":"readonly").objectStore(Ct)}function Ur(){const a=indexedDB.open(In,1);return new Promise((l,d)=>{a.addEventListener("error",()=>{d(a.error)}),a.addEventListener("upgradeneeded",()=>{const p=a.result;try{p.createObjectStore(Ct,{keyPath:Zt})}catch(v){d(v)}}),a.addEventListener("success",(0,h.Z)(function*(){const p=a.result;p.objectStoreNames.contains(Ct)?l(p):(p.close(),yield function(){const a=indexedDB.deleteDatabase(In);return new Dr(a).toPromise()}(),l(yield Ur()))}))})}function Ma(a,l,d){return qs.apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(a,l,d){const p=Mn(a,!0).put({[Zt]:l,value:d});return new Dr(p).toPromise()})).apply(this,arguments)}function $o(){return($o=(0,h.Z)(function*(a,l){const d=Mn(a,!1).get(l),p=yield new Dr(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Da(a,l){const d=Mn(a,!0).delete(l);return new Dr(d).toPromise()}const vi=(()=>{class a{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,h.Z)(function*(){return d.db||(d.db=yield Ur()),d.db})()}_withRetries(d){var p=this;return(0,h.Z)(function*(){let v=0;for(;;)try{const b=yield p._openDb();return yield d(b)}catch(b){if(v++>3)throw b;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,h.Z)(function*(){return kc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,h.Z)(function*(){d.receiver=_u._getInstance(kc()?self:null),d.receiver._subscribe("keyChanged",function(){var p=(0,h.Z)(function*(v,b){return{keyProcessed:(yield d._poll()).includes(b.key)}});return function(v,b){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,h.Z)(function*(v,b){return["keyChanged"]});return function(v,b){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,h.Z)(function*(){var p,v;if(d.activeServiceWorker=yield function(){return D1.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new M1(d.activeServiceWorker);const b=yield d.sender._send("ping",{},800);!b||(null===(p=b[0])||void 0===p?void 0:p.fulfilled)&&(null===(v=b[0])||void 0===v?void 0:v.value.includes("keyChanged"))&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,h.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function(){var a;return(null===(a=null==navigator?void 0:navigator.serviceWorker)||void 0===a?void 0:a.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch(v){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Ur();return yield Ma(d,Ta,"1"),yield Da(d,Ta),!0}catch(d){}return!1})()}_withPendingWrite(d){var p=this;return(0,h.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var v=this;return(0,h.Z)(function*(){return v._withPendingWrite((0,h.Z)(function*(){return yield v._withRetries(b=>Ma(b,d,p)),v.localCache[d]=p,v.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,h.Z)(function*(){const v=yield p._withRetries(b=>function(a,l){return $o.apply(this,arguments)}(b,d));return p.localCache[d]=v,v})()}_remove(d){var p=this;return(0,h.Z)(function*(){return p._withPendingWrite((0,h.Z)(function*(){return yield p._withRetries(v=>Da(v,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,h.Z)(function*(){const p=yield d._withRetries(x=>{const I=Mn(x,!1).getAll();return new Dr(I).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const v=[],b=new Set;for(const{fbase_key:x,value:I}of p)b.add(x),JSON.stringify(d.localCache[x])!==JSON.stringify(I)&&(d.notifyListeners(x,I),v.push(x));for(const x of Object.keys(d.localCache))d.localCache[x]&&!b.has(x)&&(d.notifyListeners(x,null),v.push(x));return v})()}notifyListeners(d,p){this.localCache[d]=p;const v=this.listeners[d];if(v)for(const b of Array.from(v))b(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return a.type="LOCAL",a})();function Wo(a,l){return Yt(a,"POST","/v2/accounts/mfaSignIn:start",Hn(a,l))}function Rc(){return(Rc=(0,h.Z)(function*(a){return(yield Yt(a,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ka(a){return new Promise((l,d)=>{const p=document.createElement("script");p.setAttribute("src",a),p.onload=l,p.onerror=v=>{const b=$e("internal-error");b.customData=v,d(b)},p.type="text/javascript",p.charset="UTF-8",function(){var a,l;return null!==(l=null===(a=document.getElementsByTagName("head"))||void 0===a?void 0:a[0])&&void 0!==l?l:document}().appendChild(p)})}function Zo(a){return`__${a}${Math.floor(1e6*Math.random())}`}const Cr=1e12;class Rn{constructor(l){this.auth=l,this.counter=Cr,this._widgets=new Map}render(l,d){const p=this.counter;return this._widgets.set(p,new Ko(l,this.auth.name,d||{})),this.counter++,p}reset(l){var d;const p=l||Cr;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(l){var d;return(null===(d=this._widgets.get(l||Cr))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,h.Z)(function*(){var p;return null===(p=d._widgets.get(l||Cr))||void 0===p||p.execute(),""})()}}class Ko{constructor(l,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof l?document.getElementById(l):l;ye(v,"argument-error",{appName:d}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(a){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<50;p++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}();const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch(p){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch(p){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rs=Zo("rcb"),ws=new vt(3e4,6e4);class fr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!er().grecaptcha}load(l,d=""){return ye((a=d).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(a),l,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(er().grecaptcha):new Promise((p,v)=>{const b=er().setTimeout(()=>{v($e(l,"network-request-failed"))},ws.get());er()[rs]=()=>{er().clearTimeout(b),delete er()[rs];const I=er().grecaptcha;if(!I)return void v($e(l,"internal-error"));const M=I.render;I.render=(N,z)=>{const G=M(N,z);return this.counter++,G},this.hostLanguage=d,p(I)},ka(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:rs,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(b),v($e(l,"internal-error"))})});var a}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){return!!er().grecaptcha&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class si{load(l){return(0,h.Z)(function*(){return new Rn(l)})()}clearedOneInstance(){}}const Ni="recaptcha",ho={theme:"light",type:"image"};class yu{constructor(l,d=Object.assign({},ho),p){this.parameters=d,this.type=Ni,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wt(p),this.isInvisible="invisible"===this.parameters.size,ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof l?document.getElementById(l):l;ye(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new si:new fr,this.validateStartingState()}verify(){var l=this;return(0,h.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),p=l.getAssertedRecaptcha();return p.getResponse(d)||new Promise(b=>{const x=I=>{!I||(l.tokenChangeListeners.delete(x),b(I))};l.tokenChangeListeners.add(x),l.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof l)l(d);else if("string"==typeof l){const p=er()[l];"function"==typeof p&&p(d)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,h.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,h.Z)(function*(){ye(je()&&!kc(),l.auth,"internal-error"),yield function(){let a=null;return new Promise(l=>{"complete"!==document.readyState?(a=()=>l(),window.addEventListener("load",a)):l()}).catch(l=>{throw a&&window.removeEventListener("load",a),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function(a){return Rc.apply(this,arguments)}(l.auth);ye(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tr{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=Ya._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function Ar(){return(Ar=(0,h.Z)(function*(a,l,d){const p=Wt(a),v=yield Es(p,l,(0,B.m9)(d));return new tr(v,b=>ys(p,b))})).apply(this,arguments)}function Pi(){return(Pi=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a);yield _a(!1,p,"phone");const v=yield Es(p.auth,l,(0,B.m9)(d));return new tr(v,b=>Ec(p,b))})).apply(this,arguments)}function Ql(){return(Ql=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a),v=yield Es(p.auth,l,(0,B.m9)(d));return new tr(v,b=>nd(p,b))})).apply(this,arguments)}function Es(a,l,d){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(a,l,d){var p;const v=yield d.verify();try{let b;if(ye("string"==typeof v,a,"argument-error"),ye(d.type===Ni,a,"argument-error"),b="string"==typeof l?{phoneNumber:l}:l,"session"in b){const x=b.session;if("phoneNumber"in b)return ye("enroll"===x.type,a,"internal-error"),(yield sl(a,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:b.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{ye("signin"===x.type,a,"internal-error");const I=(null===(p=b.multiFactorHint)||void 0===p?void 0:p.uid)||b.multiFactorUid;return ye(I,a,"missing-multi-factor-info"),(yield Wo(a,{mfaPendingCredential:x.credential,mfaEnrollmentId:I,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:x}=yield Q2(a,{phoneNumber:b.phoneNumber,recaptchaToken:v});return x}}finally{d._reset()}})).apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(a,l){yield Xa((0,B.m9)(a),l)})).apply(this,arguments)}let en=(()=>{class a{constructor(d){this.providerId=a.PROVIDER_ID,this.auth=Wt(d)}verifyPhoneNumber(d,p){return Es(this.auth,d,(0,B.m9)(p))}static credential(d,p){return Ya._fromVerification(d,p)}static credentialFromResult(d){return a.credentialFromTaggedObject(d)}static credentialFromError(d){return a.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:v}=d;return p&&v?Ya._fromTokenResponse(p,v):null}}return a.PROVIDER_ID="phone",a.PHONE_SIGN_IN_METHOD="phone",a})();function Ft(a,l){return l?re(l):(ye(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class ur extends ti{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Pr(l,this._buildIdpRequest())}_linkToIdToken(l,d){return Pr(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return Pr(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function xs(a){return w1(a.auth,new ur(a),a.bypassAuthState)}function ss(a){const{auth:l,user:d}=a;return ye(d,l,"internal-error"),el(d,new ur(a),a.bypassAuthState)}function k1(a){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,h.Z)(function*(a){const{auth:l,user:d}=a;return ye(d,l,"internal-error"),Xa(d,new ur(a),a.bypassAuthState)})).apply(this,arguments)}class bu{constructor(l,d,p,v,b=!1){this.auth=l,this.resolver=p,this.user=v,this.bypassAuthState=b,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,h.Z)(function*(p,v){l.pendingPromise={resolve:p,reject:v};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(b){l.reject(b)}});return function(p,v){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,h.Z)(function*(){const{urlResponse:p,sessionId:v,postBody:b,tenantId:x,error:I,type:M}=l;if(I)return void d.reject(I);const N={auth:d.auth,requestUri:p,sessionId:v,tenantId:x||void 0,postBody:b||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(M)(N))}catch(z){d.reject(z)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return xs;case"linkViaPopup":case"linkViaRedirect":return k1;case"reauthViaPopup":case"reauthViaRedirect":return ss;default:De(this.auth,"internal-error")}}resolve(l){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ss=new vt(2e3,1e4);function Ts(){return(Ts=(0,h.Z)(function*(a,l,d){const p=Wt(a);et(a,l,ao);const v=Ft(p,d);return new O1(p,"signInViaPopup",l,v).executeNotNull()})).apply(this,arguments)}function Is(){return(Is=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a);et(p.auth,l,ao);const v=Ft(p.auth,d);return new O1(p.auth,"reauthViaPopup",l,v,p).executeNotNull()})).apply(this,arguments)}function N1(){return(N1=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a);et(p.auth,l,ao);const v=Ft(p.auth,d);return new O1(p.auth,"linkViaPopup",l,v,p).executeNotNull()})).apply(this,arguments)}let O1=(()=>{class a extends bu{constructor(d,p,v,b,x){super(d,p,b,x),this.provider=v,this.authWindow=null,this.pollId=null,a.currentPopupAction&&a.currentPopupAction.cancel(),a.currentPopupAction=this}executeNotNull(){var d=this;return(0,h.Z)(function*(){const p=yield d.execute();return ye(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,h.Z)(function*(){Z(1===d.filter.length,"Popup operations only handle one event");const p=gi();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(v=>{d.reject(v)}),d.resolver._isIframeWebStorageSupported(d.auth,v=>{v||d.reject($e(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,a.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,v;this.pollId=(null===(v=null===(p=this.authWindow)||void 0===p?void 0:p.window)||void 0===v?void 0:v.closed)?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,Ss.get())};d()}}return a.currentPopupAction=null,a})();const ll=new Map;class Li extends bu{constructor(l,d,p=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,h.Z)(function*(){let p=ll.get(d.auth._key());if(!p){try{const b=(yield function(a,l){return Oc.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;p=()=>Promise.resolve(b)}catch(v){p=()=>Promise.reject(v)}ll.set(d.auth._key(),p)}return d.bypassAuthState||ll.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,p=this;return(0,h.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(p,l);if("unknown"!==l.type){if(l.eventId){const v=yield p.auth._redirectUserForId(l.eventId);if(v)return p.user=v,d().call(p,l);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Oc(){return(Oc=(0,h.Z)(function*(a,l){const d=D(l),p=Qo(a);if(!(yield p._isAvailable()))return!1;const v="true"===(yield p._get(d));return yield p._remove(d),v})).apply(this,arguments)}function Yo(a,l){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,h.Z)(function*(a,l){return Qo(a)._set(D(l),"true")})).apply(this,arguments)}function Qo(a){return re(a._redirectPersistence)}function D(a){return Sr("pendingRedirect",a.config.apiKey,a.name)}function W(){return(W=(0,h.Z)(function*(a,l,d){const p=Wt(a);et(a,l,ao);const v=Ft(p,d);return yield Yo(v,p),v._openRedirect(p,l,"signInViaRedirect")})).apply(this,arguments)}function Be(){return(Be=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a);et(p.auth,l,ao);const v=Ft(p.auth,d);yield Yo(v,p.auth);const b=yield Na(p);return v._openRedirect(p.auth,l,"reauthViaRedirect",b)})).apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(a,l,d){const p=(0,B.m9)(a);et(p.auth,l,ao);const v=Ft(p.auth,d);yield _a(!1,p,l.providerId),yield Yo(v,p.auth);const b=yield Na(p);return v._openRedirect(p.auth,l,"linkViaRedirect",b)})).apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(a,l){return yield Wt(a)._initializationPromise,vn(a,l,!1)})).apply(this,arguments)}function vn(a,l){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(a,l,d=!1){const p=Wt(a),v=Ft(p,l),x=yield new Li(p,v,d).execute();return x&&!d&&(delete x.user._redirectEventId,yield p._persistUserIfCurrent(x.user),yield p._setRedirectUser(null,l)),x})).apply(this,arguments)}function Na(a){return cl.apply(this,arguments)}function cl(){return(cl=(0,h.Z)(function*(a){const l=gi(`${a.uid}:::`);return a._redirectEventId=l,yield a.auth._setRedirectUser(a),yield a.auth._persistUserIfCurrent(a),l})).apply(this,arguments)}class mr{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(l,p)&&(d=!0,this.sendToConsumer(l,p),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yr(a);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var p;if(l.error&&!Yr(l)){const v=(null===(p=l.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError($e(this.auth,v))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const p=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&p}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oi(l))}saveEventToCache(l){this.cachedEventUids.add(oi(l)),this.lastProcessedEventTime=Date.now()}}function oi(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(l=>l).join("-")}function Yr({type:a,error:l}){return"unknown"===a&&"auth/no-auth-event"===(null==l?void 0:l.code)}function Xl(a){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,h.Z)(function*(a,l={}){return Yt(a,"GET","/v1/projects",l)})).apply(this,arguments)}const Jo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cu=/^https?/;function ec(){return(ec=(0,h.Z)(function*(a){if(a.config.emulator)return;const{authorizedDomains:l}=yield Xl(a);for(const d of l)try{if(P1(d))return}catch(p){}De(a,"unauthorized-domain")})).apply(this,arguments)}function P1(a){const l=ze(),{protocol:d,hostname:p}=new URL(l);if(a.startsWith("chrome-extension://")){const x=new URL(a);return""===x.hostname&&""===p?"chrome-extension:"===d&&a.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&x.hostname===p}if(!Cu.test(d))return!1;if(Jo.test(a))return p===a;const v=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(p)}const $s=new vt(3e4,6e4);function Lc(){const a=er().___jsl;if(null==a?void 0:a.H)for(const l of Object.keys(a.H))if(a.H[l].r=a.H[l].r||[],a.H[l].L=a.H[l].L||[],a.H[l].r=[...a.H[l].L],a.CP)for(let d=0;d<a.CP.length;d++)a.CP[d]=null}let ul=null;function wu(a){return ul=ul||function(a){return new Promise((l,d)=>{var p,v,b;function x(){Lc(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Lc(),d($e(a,"network-request-failed"))},timeout:$s.get()})}if(null===(v=null===(p=er().gapi)||void 0===p?void 0:p.iframes)||void 0===v?void 0:v.Iframe)l(gapi.iframes.getContext());else{if(!(null===(b=er().gapi)||void 0===b?void 0:b.load)){const I=Zo("iframefcb");return er()[I]=()=>{gapi.load?x():d($e(a,"network-request-failed"))},ka(`https://apis.google.com/js/api.js?onload=${I}`).catch(M=>d(M))}x()}}).catch(l=>{throw ul=null,l})}(a),ul}const L1=new vt(5e3,15e3),t2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ud(a){const l=a.config;ye(l.authDomain,a,"auth-domain-config-required");const d=l.emulator?_t(l,"emulator/auth/iframe"):`https://${a.config.authDomain}/__/auth/iframe`,p={apiKey:l.apiKey,appName:a.name,v:we.SDK_VERSION},v=cd.get(a.config.apiHost);v&&(p.eid=v);const b=a._getFrameworks();return b.length&&(p.fw=b.join(",")),`${d}?${(0,B.xO)(p).slice(1)}`}function Xo(){return Xo=(0,h.Z)(function*(a){const l=yield wu(a),d=er().gapi;return ye(d,a,"internal-error"),l.open({where:document.body,url:ud(a),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t2,dontclear:!0},p=>new Promise(function(){var v=(0,h.Z)(function*(b,x){yield p.restyle({setHideOnLeave:!1});const I=$e(a,"network-request-failed"),M=er().setTimeout(()=>{x(I)},L1.get());function N(){er().clearTimeout(M),b(p)}p.ping(N).then(N,()=>{x(I)})});return function(b,x){return v.apply(this,arguments)}}()))}),Xo.apply(this,arguments)}const Eu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dd{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(l){}}}function hd(a,l,d,p,v,b){ye(a.config.authDomain,a,"auth-domain-config-required"),ye(a.config.apiKey,a,"invalid-api-key");const x={apiKey:a.config.apiKey,appName:a.name,authType:d,redirectUrl:p,v:we.SDK_VERSION,eventId:v};if(l instanceof ao){l.setDefaultLanguage(a.languageCode),x.providerId=l.providerId||"",(0,B.xb)(l.getCustomParameters())||(x.customParameters=JSON.stringify(l.getCustomParameters()));for(const[M,N]of Object.entries(b||{}))x[M]=N}if(l instanceof Pl){const M=l.getScopes().filter(N=>""!==N);M.length>0&&(x.scopes=M.join(","))}a.tenantId&&(x.tid=a.tenantId);const I=x;for(const M of Object.keys(I))void 0===I[M]&&delete I[M];return`${function({config:a}){return a.emulator?_t(a,"emulator/auth/handler"):`https://${a.authDomain}/__/auth/handler`}(a)}?${(0,B.xO)(I).slice(1)}`}const fd="webStorageSupport";class V1 extends class{constructor(l){this.factorId=l}_process(l,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,p);case"signin":return this._finalizeSignIn(l,d.credential);default:return H("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new V1(l)}_finalizeEnroll(l,d,p){return function(a,l){return Yt(a,"POST","/v2/accounts/mfaEnrollment:finalize",Hn(a,l))}(l,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function(a,l){return Yt(a,"POST","/v2/accounts/mfaSignIn:finalize",Hn(a,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hl=(()=>{class a{constructor(){}static assertion(d){return V1._fromCredential(d)}}return a.FACTOR_ID="phone",a})();var a,rc="@firebase/auth";class Fc{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,h.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(p=>{var v;l((null===(v=p)||void 0===v?void 0:v.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);!d||(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function go(){return window}function zc(){return zc=(0,h.Z)(function*(a,l,d){var p;const{BuildInfo:v}=go();Z(l.sessionId,"AuthEvent did not contain a session ID");const b=yield U1(l.sessionId),x={};return yr()?x.ibi=v.packageName:Jn()?x.apn=v.packageName:De(a,"operation-not-supported-in-this-environment"),v.displayName&&(x.appDisplayName=v.displayName),x.sessionId=b,hd(a,d,l.type,void 0,null!==(p=l.eventId)&&void 0!==p?p:void 0,x)}),zc.apply(this,arguments)}function ea(){return ea=(0,h.Z)(function*(a){const{BuildInfo:l}=go(),d={};yr()?d.iosBundleId=l.packageName:Jn()?d.androidPackageName=l.packageName:De(a,"operation-not-supported-in-this-environment"),yield Xl(a,d)}),ea.apply(this,arguments)}function B1(){return B1=(0,h.Z)(function*(a,l,d){const{cordova:p}=go();let v=()=>{};try{yield new Promise((b,x)=>{let I=null;function M(){var G;b();const oe=null===(G=p.plugins.browsertab)||void 0===G?void 0:G.close;"function"==typeof oe&&oe(),"function"==typeof(null==d?void 0:d.close)&&d.close()}function N(){I||(I=window.setTimeout(()=>{x($e(a,"redirect-cancelled-by-user"))},2e3))}function z(){"visible"===(null==document?void 0:document.visibilityState)&&N()}l.addPassiveListener(M),document.addEventListener("resume",N,!1),Jn()&&document.addEventListener("visibilitychange",z,!1),v=()=>{l.removePassiveListener(M),document.removeEventListener("resume",N,!1),document.removeEventListener("visibilitychange",z,!1),I&&window.clearTimeout(I)}})}finally{v()}}),B1.apply(this,arguments)}function U1(a){return s2.apply(this,arguments)}function s2(){return s2=(0,h.Z)(function*(a){const l=m4(a),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(v=>v.toString(16).padStart(2,"0")).join("")}),s2.apply(this,arguments)}function m4(a){if(Z(/[0-9a-zA-Z]+/.test(a),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(a);const l=new ArrayBuffer(a.length),d=new Uint8Array(l);for(let p=0;p<a.length;p++)d[p]=a.charCodeAt(p);return d}a="Browser",(0,we._registerComponent)(new le.wA("auth",(l,{options:d})=>{const p=l.getProvider("app").getImmediate(),{apiKey:v,authDomain:b}=p.options;return(x=>{ye(v&&!v.includes(":"),"invalid-api-key",{appName:x.name}),ye(!(null==b?void 0:b.includes(":")),"argument-error",{appName:x.name});const I={apiKey:v,authDomain:b,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mi(a)},M=new Tr(x,I);return function(a,l){const d=(null==l?void 0:l.persistence)||[],p=(Array.isArray(d)?d:[d]).map(re);(null==l?void 0:l.errorMap)&&a._updateErrorMap(l.errorMap),a._initializeWithPersistence(p,null==l?void 0:l.popupRedirectResolver)}(M,d),M})(p)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,p)=>{l.getProvider("auth-internal").initialize()})),(0,we._registerComponent)(new le.wA("auth-internal",l=>{const d=Wt(l.getProvider("auth").getImmediate());return new Fc(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)(rc,"0.19.9",void 0),(0,we.registerVersion)(rc,"0.19.9","esm2017");class fl extends mr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,h.Z)(function*(){yield l.initPromise})()}}function Tu(a){return gd.apply(this,arguments)}function gd(){return gd=(0,h.Z)(function*(a){const l=yield Iu()._get(_d(a));return l&&(yield Iu()._remove(_d(a))),l}),gd.apply(this,arguments)}function gf(){const a=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<20;d++){const p=Math.floor(Math.random()*l.length);a.push(l.charAt(p))}return a.join("")}function Iu(){return re(Ac)}function _d(a){return Sr("authEvent",a.config.apiKey,a.name)}function sc(a){if(!(null==a?void 0:a.includes("?")))return{};const[l,...d]=a.split("?");return(0,B.zd)(d.join("?"))}function Zn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$e("no-auth-event")}}function ac(){var a;return(null===(a=null==self?void 0:self.location)||void 0===a?void 0:a.protocol)||null}function c2(a=(0,B.z$)()){return!("file:"!==ac()&&"ionic:"!==ac()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function pl(){try{const a=self.localStorage,l=gi();if(a)return a.setItem(l,"1"),a.removeItem(l),!function(a=(0,B.z$)()){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)||function(a=(0,B.z$)()){return/Edge\/\d+/.test(a)}(a)}()||(0,B.hl)()}catch(a){return Gn()&&(0,B.hl)()}return!1}function Gn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Hc(){return("http:"===ac()||"https:"===ac()||(0,B.ru)()||c2())&&!((0,B.b$)()||(0,B.UG)())&&pl()&&!Gn()}function ml(){return c2()&&"undefined"!=typeof document}function gr(){return gr=(0,h.Z)(function*(){return!!ml()&&new Promise(a=>{const l=setTimeout(()=>{a(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),a(!0)})})}),gr.apply(this,arguments)}const os={LOCAL:"local",NONE:"none",SESSION:"session"},ku=ye,nr="persistence";function q1(a){return gl.apply(this,arguments)}function gl(){return gl=(0,h.Z)(function*(a){yield a._initializationPromise;const l=Bc(),d=Sr(nr,a.config.apiKey,a.name);l&&l.setItem(d,a._getPersistence())}),gl.apply(this,arguments)}function Bc(){var a;try{return(null===(a="undefined"!=typeof window?window:null)||void 0===a?void 0:a.sessionStorage)||null}catch(l){return null}}const $1=ye;class Fa{constructor(){this.browserResolver=re(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ns,this._completeRedirectFn=vn}_openPopup(l,d,p,v){var b=this;return(0,h.Z)(function*(){var x;Z(null===(x=b.eventManagers[l._key()])||void 0===x?void 0:x.manager,"_initialize() not called before _openPopup()");const I=hd(l,d,p,ze(),v);return function(a,l,d,p=500,v=600){const b=Math.max((window.screen.availHeight-v)/2,0).toString(),x=Math.max((window.screen.availWidth-p)/2,0).toString();let I="";const M=Object.assign(Object.assign({},Eu),{width:p.toString(),height:v.toString(),top:b,left:x}),N=(0,B.z$)().toLowerCase();d&&(I=Ka(N)?"_blank":d),u1(N)&&(l=l||"http://localhost",M.scrollbars="yes");const z=Object.entries(M).reduce((oe,[ne,Se])=>`${oe}${ne}=${Se},`,"");if(function(a=(0,B.z$)()){var l;return yr(a)&&!!(null===(l=window.navigator)||void 0===l?void 0:l.standalone)}(N)&&"_self"!==I)return function(a,l){const d=document.createElement("a");d.href=a,d.target=l;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(l||"",I),new dd(null);const G=window.open(l||"",I,z);ye(G,a,"popup-blocked");try{G.focus()}catch(oe){}return new dd(G)}(l,I,gi())})()}_openRedirect(l,d,p,v){var b=this;return(0,h.Z)(function*(){return yield b._originValidation(l),a=hd(l,d,p,ze(),v),er().location.href=a,new Promise(()=>{});var a})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:v,promise:b}=this.eventManagers[d];return v?Promise.resolve(v):(Z(b,"If manager is not set, promise should be"),b)}const p=this.initAndGetManager(l);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(l){var d=this;return(0,h.Z)(function*(){const p=yield function(a){return Xo.apply(this,arguments)}(l),v=new mr(l);return p.register("authEvent",b=>(ye(null==b?void 0:b.authEvent,l,"invalid-auth-event"),{status:v.onEvent(b.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:v},d.iframes[l._key()]=p,v})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(fd,{type:fd},v=>{var b;const x=null===(b=null==v?void 0:v[0])||void 0===b?void 0:b[fd];void 0!==x&&d(!!x),De(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function(a){return ec.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return Wn()||d1()||yr()}}),this.cordovaResolver=re(class{constructor(){this._redirectPersistence=ns,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vn}_initialize(l){var d=this;return(0,h.Z)(function*(){const p=l._key();let v=d.eventManagers.get(p);return v||(v=new fl(l),d.eventManagers.set(p,v),d.attachCallbackListeners(l,v)),v})()}_openPopup(l){De(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,p,v){var b=this;return(0,h.Z)(function*(){!function(a){var l,d,p,v,b,x,I,M,N,z;const G=go();ye("function"==typeof(null===(l=null==G?void 0:G.universalLinks)||void 0===l?void 0:l.subscribe),a,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(void 0!==(null===(d=null==G?void 0:G.BuildInfo)||void 0===d?void 0:d.packageName),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye("function"==typeof(null===(b=null===(v=null===(p=null==G?void 0:G.cordova)||void 0===p?void 0:p.plugins)||void 0===v?void 0:v.browsertab)||void 0===b?void 0:b.openUrl),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(M=null===(I=null===(x=null==G?void 0:G.cordova)||void 0===x?void 0:x.plugins)||void 0===I?void 0:I.browsertab)||void 0===M?void 0:M.isAvailable),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(z=null===(N=null==G?void 0:G.cordova)||void 0===N?void 0:N.InAppBrowser)||void 0===z?void 0:z.open),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const x=yield b._initialize(l);yield x.initialized(),x.resetRedirect(),ll.clear(),yield b._originValidation(l);const I=function(a,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:gf(),postBody:null,tenantId:a.tenantId,error:$e(a,"no-auth-event")}}(l,p,v);yield function(a,l){return Iu()._set(_d(a),l)}(l,I);const M=yield function(a,l,d){return zc.apply(this,arguments)}(l,I,d),N=yield function(a){const{cordova:l}=go();return new Promise(d=>{l.plugins.browsertab.isAvailable(p=>{let v=null;p?l.plugins.browsertab.openUrl(a):v=l.InAppBrowser.open(a,function(a=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(a)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(a)}()?"_blank":"_system","location=yes"),d(v)})})}(M);return function(a,l,d){return B1.apply(this,arguments)}(l,x,N)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function(a){return ea.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:p,handleOpenURL:v,BuildInfo:b}=go(),x=setTimeout((0,h.Z)(function*(){yield Tu(l),d.onEvent(Zn())}),500),I=function(){var z=(0,h.Z)(function*(G){clearTimeout(x);const oe=yield Tu(l);let ne=null;oe&&(null==G?void 0:G.url)&&(ne=function(a,l){var d,p;const v=function(a){const l=sc(a),d=l.link?decodeURIComponent(l.link):void 0,p=sc(d).link,v=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return sc(v).link||v||p||d||a}(l);if(v.includes("/__/auth/callback")){const b=sc(v),x=b.firebaseError?function(a){try{return JSON.parse(a)}catch(l){return null}}(decodeURIComponent(b.firebaseError)):null,I=null===(p=null===(d=null==x?void 0:x.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],M=I?$e(I):null;return M?{type:a.type,eventId:a.eventId,tenantId:a.tenantId,error:M,urlResponse:null,sessionId:null,postBody:null}:{type:a.type,eventId:a.eventId,tenantId:a.tenantId,sessionId:a.sessionId,urlResponse:v,postBody:null}}return null}(oe,G.url)),d.onEvent(ne||Zn())});return function(oe){return z.apply(this,arguments)}}();void 0!==p&&"function"==typeof p.subscribe&&p.subscribe(null,I);const M=v,N=`${b.packageName.toLowerCase()}://`;go().handleOpenURL=function(){var z=(0,h.Z)(function*(G){if(G.toLowerCase().startsWith(N)&&I({url:G}),"function"==typeof M)try{M(G)}catch(oe){console.error(oe)}});return function(G){return z.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ns,this._completeRedirectFn=vn}_initialize(l){var d=this;return(0,h.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,p,v){var b=this;return(0,h.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._openPopup(l,d,p,v)})()}_openRedirect(l,d,p,v){var b=this;return(0,h.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._openRedirect(l,d,p,v)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return ml()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $1(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,h.Z)(function*(){if(l.underlyingResolver)return;const d=yield function(){return gr.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function u2(a){return a.unwrap()}function yd(a){return hh(a)}function hh(a){const{_tokenResponse:l}=a instanceof B.ZR?a.customData:a;if(!l)return null;if(!(a instanceof B.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return en.credentialFromResult(a);const d=l.providerId;if(!d||"password"===d)return null;let p;switch(d){case"google.com":p=Qa;break;case"facebook.com":p=va;break;case"github.com":p=y1;break;case"twitter.com":p=Fs;break;default:const{oauthIdToken:v,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:I,nonce:M}=l;return b||x||v||I?I?d.startsWith("saml.")?vs._create(d,I):Wr._fromParams({providerId:d,signInMethod:d,pendingToken:I,idToken:v,accessToken:b}):new Ai(d).credential({idToken:v,accessToken:b,rawNonce:M}):null}return a instanceof B.ZR?p.credentialFromError(a):p.credentialFromResult(a)}function bi(a,l){return l.catch(d=>{throw d instanceof B.ZR&&function(a,l){var d;const p=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l.code)l.resolver=new Ou(a,function(a,l){var d;const p=(0,B.m9)(a),v=l;return ye(l.customData.operationType,p,"argument-error"),ye(null===(d=v.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),ql._fromError(p,v)}(a,l));else if(p){const v=hh(l),b=l;v&&(b.credential=v,b.tenantId=p.tenantId||void 0,b.email=p.email||void 0,b.phoneNumber=p.phoneNumber||void 0)}}(a,d),d}).then(d=>{const v=d.user;return{operationType:d.operationType,credential:yd(d),additionalUserInfo:Un(d),user:vl.getOrCreate(v)}})}function Nu(a,l){return Cn.apply(this,arguments)}function Cn(){return Cn=(0,h.Z)(function*(a,l){const d=yield l;return{verificationId:d.verificationId,confirm:p=>bi(a,d.confirm(p))}}),Cn.apply(this,arguments)}class Ou{constructor(l,d){this.resolver=d,this.auth=function(a){return a.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return bi(u2(this.auth),this.resolver.resolveSignIn(l))}}class vl{constructor(l){this._delegate=l,this.multiFactor=function(a){const l=(0,B.m9)(a);return Gs.has(l)||Gs.set(l,co._fromUser(l)),Gs.get(l)}(l)}static getOrCreate(l){return vl.USER_MAP.has(l)||vl.USER_MAP.set(l,new vl(l)),vl.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,h.Z)(function*(){return bi(d.auth,Ec(d._delegate,l))})()}linkWithPhoneNumber(l,d){var p=this;return(0,h.Z)(function*(){return Nu(p.auth,function(a,l,d){return Pi.apply(this,arguments)}(p._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,h.Z)(function*(){return bi(d.auth,function(a,l,d){return N1.apply(this,arguments)}(d._delegate,l,Fa))})()}linkWithRedirect(l){var d=this;return(0,h.Z)(function*(){return yield q1(Wt(d.auth)),function(a,l,d){return function(a,l,d){return gn.apply(this,arguments)}(a,l,d)}(d._delegate,l,Fa)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,h.Z)(function*(){return bi(d.auth,nd(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return Nu(this.auth,function(a,l,d){return Ql.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return bi(this.auth,function(a,l,d){return Is.apply(this,arguments)}(this._delegate,l,Fa))}reauthenticateWithRedirect(l){var d=this;return(0,h.Z)(function*(){return yield q1(Wt(d.auth)),function(a,l,d){return function(a,l,d){return Be.apply(this,arguments)}(a,l,d)}(d._delegate,l,Fa)})()}sendEmailVerification(l){return function(a,l){return wa.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,h.Z)(function*(){return yield function(a,l){return Fl.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function(a,l){return rl((0,B.m9)(a),l,null)}(this._delegate,l)}updatePassword(l){return function(a,l){return rl((0,B.m9)(a),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function(a,l){return is.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function(a,l){return Uo.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function(a,l,d){return Ea.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vl.USER_MAP=new WeakMap;const ls=ye;let Pu=(()=>{class a{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:v}=d.options;ls(v,"invalid-api-key",{appName:d.name}),ls(v,"invalid-api-key",{appName:d.name});const b="undefined"!=typeof window?Fa:void 0;this._delegate=p.initialize({options:{persistence:Fu(v,d.name),popupRedirectResolver:b}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function(a,l,d){const p=Wt(a);ye(p._canInitEmulator,p,"emulator-config-failed"),ye(/^https?:\/\//.test(l),p,"invalid-emulator-scheme");const v=!!(null==d?void 0:d.disableWarnings),b=Po(l),{host:x,port:I}=function(a){const l=Po(a),d=/(\/\/)?([^?#/]+)/.exec(a.substr(l.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(p);if(v){const b=v[1];return{host:b,port:_n(p.substr(b.length+1))}}{const[b,x]=p.split(":");return{host:b,port:_n(x)}}}(l);p.config.emulator={url:`${b}//${x}${null===I?"":`:${I}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:x,port:I,protocol:b.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function(){function a(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a())}()}(this._delegate,d,p)}applyActionCode(d){return function(a,l){return Hs.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Xn(this._delegate,d)}confirmPasswordReset(d,p){return function(a,l,d){return Ue.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var v=this;return(0,h.Z)(function*(){return bi(v._delegate,function(a,l,d){return Ho.apply(this,arguments)}(v._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function(a,l){return ts.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function(a,l){const d=zo.parseLink(l);return"EMAIL_SIGNIN"===(null==d?void 0:d.operation)}(0,d)}getRedirectResult(){var d=this;return(0,h.Z)(function*(){ls(Hc(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function(a,l){return dr.apply(this,arguments)}(d._delegate,Fa);return p?bi(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function(a,l){Wt(a)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,p,v){const{next:b,error:x,complete:I}=Lu(d,p,v);return this._delegate.onAuthStateChanged(b,x,I)}onIdTokenChanged(d,p,v){const{next:b,error:x,complete:I}=Lu(d,p,v);return this._delegate.onIdTokenChanged(b,x,I)}sendSignInLinkToEmail(d,p){return function(a,l,d){return Bo.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function(a,l,d){return Hl.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,h.Z)(function*(){let v;switch(function(a,l){ku(Object.values(os).includes(l),a,"invalid-persistence-type"),(0,B.b$)()?ku(l!==os.SESSION,a,"unsupported-persistence-type"):(0,B.UG)()?ku(l===os.NONE,a,"unsupported-persistence-type"):Gn()?ku(l===os.NONE||l===os.LOCAL&&(0,B.hl)(),a,"unsupported-persistence-type"):ku(l===os.NONE||pl(),a,"unsupported-persistence-type")}(p._delegate,d),d){case os.SESSION:v=ns;break;case os.LOCAL:v=(yield re(vi)._isAvailable())?vi:Ac;break;case os.NONE:v=an;break;default:return De("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(v)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return bi(this._delegate,function(a){return Vs.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return bi(this._delegate,ys(this._delegate,d))}signInWithCustomToken(d){return bi(this._delegate,function(a,l){return ba.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return bi(this._delegate,function(a,l,d){return ys((0,B.m9)(a),ga.credential(l,d))}(this._delegate,d,p))}signInWithEmailLink(d,p){return bi(this._delegate,function(a,l,d){return Us.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return Nu(this._delegate,function(a,l,d){return Ar.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,h.Z)(function*(){return ls(Hc(),p._delegate,"operation-not-supported-in-this-environment"),bi(p._delegate,function(a,l,d){return Ts.apply(this,arguments)}(p._delegate,d,Fa))})()}signInWithRedirect(d){var p=this;return(0,h.Z)(function*(){return ls(Hc(),p._delegate,"operation-not-supported-in-this-environment"),yield q1(p._delegate),function(a,l,d){return function(a,l,d){return W.apply(this,arguments)}(a,l,d)}(p._delegate,d,Fa)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function(a,l){return br.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return a.Persistence=os,a})();function Lu(a,l,d){let p=a;"function"!=typeof a&&({next:p,error:l,complete:d}=a);const v=p;return{next:x=>v(x&&vl.getOrCreate(x)),error:l,complete:d}}function Fu(a,l){const d=function(a,l){const d=Bc();if(!d)return[];const p=Sr(nr,a,l);switch(d.getItem(p)){case os.NONE:return[an];case os.LOCAL:return[vi,ns];case os.SESSION:return[ns];default:return[]}}(a,l);if("undefined"!=typeof self&&!d.includes(vi)&&d.push(vi),"undefined"!=typeof window)for(const p of[Ac,ns])d.includes(p)||d.push(p);return d.includes(an)||d.push(an),d}class vr{constructor(){this.providerId="phone",this._delegate=new en(u2(pe.Z.auth()))}static credential(l,d){return en.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}vr.PHONE_SIGN_IN_METHOD=en.PHONE_SIGN_IN_METHOD,vr.PROVIDER_ID=en.PROVIDER_ID;const _f=ye;class lc{constructor(l,d,p=pe.Z.app()){var v;_f(null===(v=p.options)||void 0===v?void 0:v.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new yu(l,d,p.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(a){a.INTERNAL.registerComponent(new le.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),p=l.getProvider("auth");return new Pu(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ga,FacebookAuthProvider:va,GithubAuthProvider:y1,GoogleAuthProvider:Qa,OAuthProvider:Ai,SAMLAuthProvider:_s,PhoneAuthProvider:vr,PhoneMultiFactorGenerator:hl,RecaptchaVerifier:lc,TwitterAuthProvider:Fs,Auth:Pu,AuthCredential:ti,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),a.registerVersion("@firebase/auth-compat","0.2.9")}(pe.Z)},4995:function(pt,xe){!function(V){"use strict";function h(_e){return Array.prototype.slice.call(_e)}function pe(_e){return new Promise(function(de,Ee){_e.onsuccess=function(){de(_e.result)},_e.onerror=function(){Ee(_e.error)}})}function B(_e,de,Ee){var Oe,De=new Promise(function($e,He){pe(Oe=_e[de].apply(_e,Ee)).then($e,He)});return De.request=Oe,De}function we(_e,de,Ee){var Oe=B(_e,de,Ee);return Oe.then(function(De){if(De)return new J(De,Oe.request)})}function ce(_e,de,Ee){Ee.forEach(function(Oe){Object.defineProperty(_e.prototype,Oe,{get:function(){return this[de][Oe]},set:function(De){this[de][Oe]=De}})})}function fe(_e,de,Ee,Oe){Oe.forEach(function(De){De in Ee.prototype&&(_e.prototype[De]=function(){return B(this[de],De,arguments)})})}function le(_e,de,Ee,Oe){Oe.forEach(function(De){De in Ee.prototype&&(_e.prototype[De]=function(){return this[de][De].apply(this[de],arguments)})})}function be(_e,de,Ee,Oe){Oe.forEach(function(De){De in Ee.prototype&&(_e.prototype[De]=function(){return we(this[de],De,arguments)})})}function me(_e){this._index=_e}function J(_e,de){this._cursor=_e,this._request=de}function ee(_e){this._store=_e}function ue(_e){this._tx=_e,this.complete=new Promise(function(de,Ee){_e.oncomplete=function(){de()},_e.onerror=function(){Ee(_e.error)},_e.onabort=function(){Ee(_e.error)}})}function Xe(_e,de,Ee){this._db=_e,this.oldVersion=de,this.transaction=new ue(Ee)}function Fe(_e){this._db=_e}ce(me,"_index",["name","keyPath","multiEntry","unique"]),fe(me,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),be(me,"_index",IDBIndex,["openCursor","openKeyCursor"]),ce(J,"_cursor",["direction","key","primaryKey","value"]),fe(J,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(_e){_e in IDBCursor.prototype&&(J.prototype[_e]=function(){var de=this,Ee=arguments;return Promise.resolve().then(function(){return de._cursor[_e].apply(de._cursor,Ee),pe(de._request).then(function(Oe){if(Oe)return new J(Oe,de._request)})})})}),ee.prototype.createIndex=function(){return new me(this._store.createIndex.apply(this._store,arguments))},ee.prototype.index=function(){return new me(this._store.index.apply(this._store,arguments))},ce(ee,"_store",["name","keyPath","indexNames","autoIncrement"]),fe(ee,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),be(ee,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),le(ee,"_store",IDBObjectStore,["deleteIndex"]),ue.prototype.objectStore=function(){return new ee(this._tx.objectStore.apply(this._tx,arguments))},ce(ue,"_tx",["objectStoreNames","mode"]),le(ue,"_tx",IDBTransaction,["abort"]),Xe.prototype.createObjectStore=function(){return new ee(this._db.createObjectStore.apply(this._db,arguments))},ce(Xe,"_db",["name","version","objectStoreNames"]),le(Xe,"_db",IDBDatabase,["deleteObjectStore","close"]),Fe.prototype.transaction=function(){return new ue(this._db.transaction.apply(this._db,arguments))},ce(Fe,"_db",["name","version","objectStoreNames"]),le(Fe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(_e){[ee,me].forEach(function(de){_e in de.prototype&&(de.prototype[_e.replace("open","iterate")]=function(){var Ee=h(arguments),Oe=Ee[Ee.length-1],De=this._store||this._index,$e=De[_e].apply(De,Ee.slice(0,-1));$e.onsuccess=function(){Oe($e.result)}})})}),[me,ee].forEach(function(_e){_e.prototype.getAll||(_e.prototype.getAll=function(de,Ee){var Oe=this,De=[];return new Promise(function($e){Oe.iterateCursor(de,function(He){He?(De.push(He.value),void 0===Ee||De.length!=Ee?He.continue():$e(De)):$e(De)})})})}),V.openDb=function(_e,de,Ee){var Oe=B(indexedDB,"open",[_e,de]),De=Oe.request;return De&&(De.onupgradeneeded=function($e){Ee&&Ee(new Xe(De.result,$e.oldVersion,De.transaction))}),Oe.then(function($e){return new Fe($e)})},V.deleteDb=function(_e){return B(indexedDB,"deleteDatabase",[_e])},Object.defineProperty(V,"__esModule",{value:!0})}(xe)},8305:(pt,xe,V)=>{"use strict";V.d(xe,{y:()=>J});var h=V(584),pe=V(7908),B=V(4816),we=V(4623);var le=V(5367),be=V(5044),me=V(8706);let J=(()=>{class Fe{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const _e=new Fe;return _e.source=this,_e.operator=Ye,_e}subscribe(Ye,_e,de){const Ee=function(Fe){return Fe&&Fe instanceof h.Lv||function(Fe){return Fe&&(0,be.m)(Fe.next)&&(0,be.m)(Fe.error)&&(0,be.m)(Fe.complete)}(Fe)&&(0,pe.Nn)(Fe)}(Ye)?Ye:new h.Hp(Ye,_e,de);return(0,me.x)(()=>{const{operator:Oe,source:De}=this;Ee.add(Oe?Oe.call(Ee,De):De?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(_e){Ye.error(_e)}}forEach(Ye,_e){return new(_e=ee(_e))((de,Ee)=>{let Oe;Oe=this.subscribe(De=>{try{Ye(De)}catch($e){Ee($e),null==Oe||Oe.unsubscribe()}},Ee,de)})}_subscribe(Ye){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Ye)}[B.L](){return this}pipe(...Ye){return function(Fe){return 0===Fe.length?we.y:1===Fe.length?Fe[0]:function(Ye){return Fe.reduce((_e,de)=>de(_e),Ye)}}(Ye)(this)}toPromise(Ye){return new(Ye=ee(Ye))((_e,de)=>{let Ee;this.subscribe(Oe=>Ee=Oe,Oe=>de(Oe),()=>_e(Ee))})}}return Fe.create=rt=>new Fe(rt),Fe})();function ee(Fe){var rt;return null!==(rt=null!=Fe?Fe:le.v.Promise)&&void 0!==rt?rt:Promise}},273:(pt,xe,V)=>{"use strict";V.d(xe,{x:()=>le});var h=V(8305),pe=V(7908);const we=(0,V(4893).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=V(3980),fe=V(8706);let le=(()=>{class me extends h.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const ue=new be(this,this);return ue.operator=ee,ue}_throwIfClosed(){if(this.closed)throw new we}next(ee){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ue=this.observers.slice();for(const Xe of ue)Xe.next(ee)}})}error(ee){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:ue}=this;for(;ue.length;)ue.shift().error(ee)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:ue,isStopped:Xe,observers:Fe}=this;return ue||Xe?pe.Lc:(Fe.push(ee),new pe.w0(()=>(0,ce.P)(Fe,ee)))}_checkFinalizedStatuses(ee){const{hasError:ue,thrownError:Xe,isStopped:Fe}=this;ue?ee.error(Xe):Fe&&ee.complete()}asObservable(){const ee=new h.y;return ee.source=this,ee}}return me.create=(J,ee)=>new be(J,ee),me})();class be extends le{constructor(J,ee){super(),this.destination=J,this.source=ee}next(J){var ee,ue;null===(ue=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===ue||ue.call(ee,J)}error(J){var ee,ue;null===(ue=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===ue||ue.call(ee,J)}complete(){var J,ee;null===(ee=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===ee||ee.call(J)}_subscribe(J){var ee,ue;return null!==(ue=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(J))&&void 0!==ue?ue:pe.Lc}}},584:(pt,xe,V)=>{"use strict";V.d(xe,{Hp:()=>Xe,Lv:()=>ue});var h=V(5044),pe=V(7908),B=V(5367),we=V(5160),ce=V(6921);const fe=me("C",void 0,void 0);function me(de,Ee,Oe){return{kind:de,value:Ee,error:Oe}}var J=V(2496),ee=V(8706);class ue extends pe.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,pe.Nn)(Ee)&&Ee.add(this)):this.destination=_e}static create(Ee,Oe,De){return new Xe(Ee,Oe,De)}next(Ee){this.isStopped?Ye(me("N",Ee,void 0),this):this._next(Ee)}error(Ee){this.isStopped?Ye(me("E",void 0,Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ye(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Xe extends ue{constructor(Ee,Oe,De){let $e;if(super(),(0,h.m)(Ee))$e=Ee;else if(Ee){let He;({next:$e,error:Oe,complete:De}=Ee),this&&B.v.useDeprecatedNextContext?(He=Object.create(Ee),He.unsubscribe=()=>this.unsubscribe()):He=Ee,$e=null==$e?void 0:$e.bind(He),Oe=null==Oe?void 0:Oe.bind(He),De=null==De?void 0:De.bind(He)}this.destination={next:$e?Fe($e):ce.Z,error:Fe(null!=Oe?Oe:rt),complete:De?Fe(De):ce.Z}}}function Fe(de,Ee){return(...Oe)=>{try{de(...Oe)}catch(De){B.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(De):(0,we.h)(De)}}}function rt(de){throw de}function Ye(de,Ee){const{onStoppedNotification:Oe}=B.v;Oe&&J.z.setTimeout(()=>Oe(de,Ee))}const _e={closed:!0,next:ce.Z,error:rt,complete:ce.Z}},7908:(pt,xe,V)=>{"use strict";V.d(xe,{Lc:()=>fe,w0:()=>ce,Nn:()=>le});var h=V(5044);const B=(0,V(4893).d)(me=>function(ee){me(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((ue,Xe)=>`${Xe+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var we=V(3980);class ce{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Fe of ee)Fe.remove(this);else ee.remove(this);const{initialTeardown:ue}=this;if((0,h.m)(ue))try{ue()}catch(Fe){J=Fe instanceof B?Fe.errors:[Fe]}const{_teardowns:Xe}=this;if(Xe){this._teardowns=null;for(const Fe of Xe)try{be(Fe)}catch(rt){J=null!=J?J:[],rt instanceof B?J=[...J,...rt.errors]:J.push(rt)}}if(J)throw new B(J)}}add(J){var ee;if(J&&J!==this)if(this.closed)be(J);else{if(J instanceof ce){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._teardowns=null!==(ee=this._teardowns)&&void 0!==ee?ee:[]).push(J)}}_hasParent(J){const{_parentage:ee}=this;return ee===J||Array.isArray(ee)&&ee.includes(J)}_addParent(J){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(J),ee):ee?[ee,J]:J}_removeParent(J){const{_parentage:ee}=this;ee===J?this._parentage=null:Array.isArray(ee)&&(0,we.P)(ee,J)}remove(J){const{_teardowns:ee}=this;ee&&(0,we.P)(ee,J),J instanceof ce&&J._removeParent(this)}}ce.EMPTY=(()=>{const me=new ce;return me.closed=!0,me})();const fe=ce.EMPTY;function le(me){return me instanceof ce||me&&"closed"in me&&(0,h.m)(me.remove)&&(0,h.m)(me.add)&&(0,h.m)(me.unsubscribe)}function be(me){(0,h.m)(me)?me():me.unsubscribe()}},5367:(pt,xe,V)=>{"use strict";V.d(xe,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(pt,xe,V)=>{"use strict";V.d(xe,{E:()=>pe});const pe=new(V(8305).y)(ce=>ce.complete())},5947:(pt,xe,V)=>{"use strict";V.d(xe,{D:()=>$e});var h=V(9985),pe=V(4763),B=V(5222),fe=V(8305),be=V(5497),me=V(5044),J=V(8395);function ue(He,et){if(!He)throw new Error("Iterable cannot be null");return new fe.y(at=>{(0,J.f)(at,et,()=>{const ye=He[Symbol.asyncIterator]();(0,J.f)(at,et,()=>{ye.next().then(H=>{H.done?at.complete():at.next(H.value)})},0,!0)})})}var Xe=V(1073),Fe=V(2442),rt=V(1537),Ye=V(2317),_e=V(9908),de=V(3754),Ee=V(7751);function $e(He,et){return et?function(He,et){if(null!=He){if((0,Xe.c)(He))return function(He,et){return(0,h.Xf)(He).pipe((0,B.R)(et),(0,pe.Q)(et))}(He,et);if((0,rt.z)(He))return function(He,et){return new fe.y(at=>{let ye=0;return et.schedule(function(){ye===He.length?at.complete():(at.next(He[ye++]),at.closed||this.schedule())})})}(He,et);if((0,Fe.t)(He))return function(He,et){return(0,h.Xf)(He).pipe((0,B.R)(et),(0,pe.Q)(et))}(He,et);if((0,_e.D)(He))return ue(He,et);if((0,Ye.T)(He))return function(He,et){return new fe.y(at=>{let ye;return(0,J.f)(at,et,()=>{ye=He[be.h](),(0,J.f)(at,et,()=>{let H,Z;try{({value:H,done:Z}=ye.next())}catch(te){return void at.error(te)}Z?at.complete():at.next(H)},0,!0)}),()=>(0,me.m)(null==ye?void 0:ye.return)&&ye.return()})}(He,et);if((0,Ee.L)(He))return function(He,et){return ue((0,Ee.Q)(He),et)}(He,et)}throw(0,de.z)(He)}(He,et):(0,h.Xf)(He)}},9985:(pt,xe,V)=>{"use strict";V.d(xe,{Xf:()=>Xe});var h=V(9162),pe=V(1537),B=V(2442),we=V(8305),ce=V(1073),fe=V(9908),le=V(3754),be=V(2317),me=V(7751),J=V(5044),ee=V(5160),ue=V(4816);function Xe(De){if(De instanceof we.y)return De;if(null!=De){if((0,ce.c)(De))return function(De){return new we.y($e=>{const He=De[ue.L]();if((0,J.m)(He.subscribe))return He.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,pe.z)(De))return function(De){return new we.y($e=>{for(let He=0;He<De.length&&!$e.closed;He++)$e.next(De[He]);$e.complete()})}(De);if((0,B.t)(De))return function(De){return new we.y($e=>{De.then(He=>{$e.closed||($e.next(He),$e.complete())},He=>$e.error(He)).then(null,ee.h)})}(De);if((0,fe.D)(De))return de(De);if((0,be.T)(De))return function(De){return new we.y($e=>{for(const He of De)if($e.next(He),$e.closed)return;$e.complete()})}(De);if((0,me.L)(De))return function(De){return de((0,me.Q)(De))}(De)}throw(0,le.z)(De)}function de(De){return new we.y($e=>{(function(De,$e){var He,et,at,ye;return(0,h.mG)(this,void 0,void 0,function*(){try{for(He=(0,h.KL)(De);!(et=yield He.next()).done;)if($e.next(et.value),$e.closed)return}catch(H){at={error:H}}finally{try{et&&!et.done&&(ye=He.return)&&(yield ye.call(He))}finally{if(at)throw at.error}}$e.complete()})})(De,$e).catch(He=>$e.error(He))})}},3719:(pt,xe,V)=>{"use strict";V.d(xe,{T:()=>fe});var h=V(5373),pe=V(9985),B=V(5583),we=V(7613),ce=V(5947);function fe(...le){const be=(0,we.yG)(le),me=(0,we._6)(le,1/0),J=le;return J.length?1===J.length?(0,pe.Xf)(J[0]):(0,h.J)(me)((0,ce.D)(J,be)):B.E}},8889:(pt,xe,V)=>{"use strict";V.d(xe,{Q:()=>pe});var h=V(584);class pe extends h.Lv{constructor(we,ce,fe,le,be){super(we),this.onFinalize=be,this._next=ce?function(me){try{ce(me)}catch(J){we.error(J)}}:super._next,this._error=le?function(me){try{le(me)}catch(J){we.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(me){we.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}},4753:(pt,xe,V)=>{"use strict";V.d(xe,{U:()=>B});var h=V(9947),pe=V(8889);function B(we,ce){return(0,h.e)((fe,le)=>{let be=0;fe.subscribe(new pe.Q(le,me=>{le.next(we.call(ce,me,be++))}))})}},5373:(pt,xe,V)=>{"use strict";V.d(xe,{J:()=>B});var h=V(5724),pe=V(4623);function B(we=1/0){return(0,h.z)(pe.y,we)}},5724:(pt,xe,V)=>{"use strict";V.d(xe,{z:()=>be});var h=V(4753),pe=V(9985),B=V(9947),ce=(V(8395),V(8889)),le=V(5044);function be(me,J,ee=1/0){return(0,le.m)(J)?be((ue,Xe)=>(0,h.U)((Fe,rt)=>J(ue,Fe,Xe,rt))((0,pe.Xf)(me(ue,Xe))),ee):("number"==typeof J&&(ee=J),(0,B.e)((ue,Xe)=>function(me,J,ee,ue,Xe,Fe,rt,Ye){const _e=[];let de=0,Ee=0,Oe=!1;const De=()=>{Oe&&!_e.length&&!de&&J.complete()},$e=et=>de<ue?He(et):_e.push(et),He=et=>{de++;let at=!1;(0,pe.Xf)(ee(et,Ee++)).subscribe(new ce.Q(J,ye=>{J.next(ye)},()=>{at=!0},void 0,()=>{if(at)try{for(de--;_e.length&&de<ue;){const ye=_e.shift();He(ye)}De()}catch(ye){J.error(ye)}}))};return me.subscribe(new ce.Q(J,$e,()=>{Oe=!0,De()})),()=>{}}(ue,Xe,me,ee)))}},4763:(pt,xe,V)=>{"use strict";V.d(xe,{Q:()=>we});var h=V(8395),pe=V(9947),B=V(8889);function we(ce,fe=0){return(0,pe.e)((le,be)=>{le.subscribe(new B.Q(be,me=>(0,h.f)(be,ce,()=>be.next(me),fe),()=>(0,h.f)(be,ce,()=>be.complete(),fe),me=>(0,h.f)(be,ce,()=>be.error(me),fe)))})}},3174:(pt,xe,V)=>{"use strict";V.d(xe,{B:()=>fe});var h=V(5947),pe=V(9468),B=V(273),we=V(584),ce=V(9947);function fe(be={}){const{connector:me=(()=>new B.x),resetOnError:J=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ue=!0}=be;return Xe=>{let Fe=null,rt=null,Ye=null,_e=0,de=!1,Ee=!1;const Oe=()=>{null==rt||rt.unsubscribe(),rt=null},De=()=>{Oe(),Fe=Ye=null,de=Ee=!1},$e=()=>{const He=Fe;De(),null==He||He.unsubscribe()};return(0,ce.e)((He,et)=>{_e++,!Ee&&!de&&Oe();const at=Ye=null!=Ye?Ye:me();et.add(()=>{_e--,0===_e&&!Ee&&!de&&(rt=le($e,ue))}),at.subscribe(et),Fe||(Fe=new we.Hp({next:ye=>at.next(ye),error:ye=>{Ee=!0,Oe(),rt=le(De,J,ye),at.error(ye)},complete:()=>{de=!0,Oe(),rt=le(De,ee),at.complete()}}),(0,h.D)(He).subscribe(Fe))})(Xe)}}function le(be,me,...J){return!0===me?(be(),null):!1===me?null:me(...J).pipe((0,pe.q)(1)).subscribe(()=>be())}},5222:(pt,xe,V)=>{"use strict";V.d(xe,{R:()=>pe});var h=V(9947);function pe(B,we=0){return(0,h.e)((ce,fe)=>{fe.add(B.schedule(()=>ce.subscribe(fe),we))})}},9468:(pt,xe,V)=>{"use strict";V.d(xe,{q:()=>we});var h=V(5583),pe=V(9947),B=V(8889);function we(ce){return ce<=0?()=>h.E:(0,pe.e)((fe,le)=>{let be=0;fe.subscribe(new B.Q(le,me=>{++be<=ce&&(le.next(me),ce<=be&&le.complete())}))})}},7384:(pt,xe,V)=>{"use strict";V.d(xe,{b:()=>ce});var h=V(5044),pe=V(9947),B=V(8889),we=V(4623);function ce(fe,le,be){const me=(0,h.m)(fe)||le||be?{next:fe,error:le,complete:be}:fe;return me?(0,pe.e)((J,ee)=>{var ue;null===(ue=me.subscribe)||void 0===ue||ue.call(me);let Xe=!0;J.subscribe(new B.Q(ee,Fe=>{var rt;null===(rt=me.next)||void 0===rt||rt.call(me,Fe),ee.next(Fe)},()=>{var Fe;Xe=!1,null===(Fe=me.complete)||void 0===Fe||Fe.call(me),ee.complete()},Fe=>{var rt;Xe=!1,null===(rt=me.error)||void 0===rt||rt.call(me,Fe),ee.error(Fe)},()=>{var Fe,rt;Xe&&(null===(Fe=me.unsubscribe)||void 0===Fe||Fe.call(me)),null===(rt=me.finalize)||void 0===rt||rt.call(me)}))}):we.y}},2869:(pt,xe,V)=>{"use strict";V.d(xe,{o:()=>ce});var h=V(7908);class pe extends h.w0{constructor(le,be){super()}schedule(le,be=0){return this}}const B={setInterval(...fe){const{delegate:le}=B;return((null==le?void 0:le.setInterval)||setInterval)(...fe)},clearInterval(fe){const{delegate:le}=B;return((null==le?void 0:le.clearInterval)||clearInterval)(fe)},delegate:void 0};var we=V(3980);class ce extends pe{constructor(le,be){super(le,be),this.scheduler=le,this.work=be,this.pending=!1}schedule(le,be=0){if(this.closed)return this;this.state=le;const me=this.id,J=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(J,me,be)),this.pending=!0,this.delay=be,this.id=this.id||this.requestAsyncId(J,this.id,be),this}requestAsyncId(le,be,me=0){return B.setInterval(le.flush.bind(le,this),me)}recycleAsyncId(le,be,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return be;B.clearInterval(be)}execute(le,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(le,be);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,be){let J,me=!1;try{this.work(le)}catch(ee){me=!0,J=ee||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:le,scheduler:be}=this,{actions:me}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(me,this),null!=le&&(this.id=this.recycleAsyncId(be,le,null)),this.delay=null,super.unsubscribe()}}}},8843:(pt,xe,V)=>{"use strict";V.d(xe,{v:()=>B});var h=V(1733);class pe{constructor(ce,fe=pe.now){this.schedulerActionCtor=ce,this.now=fe}schedule(ce,fe=0,le){return new this.schedulerActionCtor(this,ce).schedule(le,fe)}}pe.now=h.l.now;class B extends pe{constructor(ce,fe=pe.now){super(ce,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:fe}=this;if(this._active)return void fe.push(ce);let le;this._active=!0;do{if(le=ce.execute(ce.state,ce.delay))break}while(ce=fe.shift());if(this._active=!1,le){for(;ce=fe.shift();)ce.unsubscribe();throw le}}}},2210:(pt,xe,V)=>{"use strict";V.d(xe,{z:()=>B,P:()=>we});var h=V(2869);const B=new(V(8843).v)(h.o),we=B},1733:(pt,xe,V)=>{"use strict";V.d(xe,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},2496:(pt,xe,V)=>{"use strict";V.d(xe,{z:()=>h});const h={setTimeout(...pe){const{delegate:B}=h;return((null==B?void 0:B.setTimeout)||setTimeout)(...pe)},clearTimeout(pe){const{delegate:B}=h;return((null==B?void 0:B.clearTimeout)||clearTimeout)(pe)},delegate:void 0}},5497:(pt,xe,V)=>{"use strict";V.d(xe,{h:()=>pe});const pe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(pt,xe,V)=>{"use strict";V.d(xe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(pt,xe,V)=>{"use strict";V.d(xe,{jO:()=>we,yG:()=>ce,_6:()=>fe});var h=V(5044),pe=V(7398);function B(le){return le[le.length-1]}function we(le){return(0,h.m)(B(le))?le.pop():void 0}function ce(le){return(0,pe.K)(B(le))?le.pop():void 0}function fe(le,be){return"number"==typeof B(le)?le.pop():be}},3980:(pt,xe,V)=>{"use strict";function h(pe,B){if(pe){const we=pe.indexOf(B);0<=we&&pe.splice(we,1)}}V.d(xe,{P:()=>h})},4893:(pt,xe,V)=>{"use strict";function h(pe){const we=pe(ce=>{Error.call(ce),ce.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}V.d(xe,{d:()=>h})},8706:(pt,xe,V)=>{"use strict";V.d(xe,{x:()=>B,O:()=>we});var h=V(5367);let pe=null;function B(ce){if(h.v.useDeprecatedSynchronousErrorHandling){const fe=!pe;if(fe&&(pe={errorThrown:!1,error:null}),ce(),fe){const{errorThrown:le,error:be}=pe;if(pe=null,le)throw be}}else ce()}function we(ce){h.v.useDeprecatedSynchronousErrorHandling&&pe&&(pe.errorThrown=!0,pe.error=ce)}},8395:(pt,xe,V)=>{"use strict";function h(pe,B,we,ce=0,fe=!1){const le=B.schedule(function(){we(),fe?pe.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(pe.add(le),!fe)return le}V.d(xe,{f:()=>h})},4623:(pt,xe,V)=>{"use strict";function h(pe){return pe}V.d(xe,{y:()=>h})},1537:(pt,xe,V)=>{"use strict";V.d(xe,{z:()=>h});const h=pe=>pe&&"number"==typeof pe.length&&"function"!=typeof pe},9908:(pt,xe,V)=>{"use strict";V.d(xe,{D:()=>pe});var h=V(5044);function pe(B){return Symbol.asyncIterator&&(0,h.m)(null==B?void 0:B[Symbol.asyncIterator])}},5044:(pt,xe,V)=>{"use strict";function h(pe){return"function"==typeof pe}V.d(xe,{m:()=>h})},1073:(pt,xe,V)=>{"use strict";V.d(xe,{c:()=>B});var h=V(4816),pe=V(5044);function B(we){return(0,pe.m)(we[h.L])}},2317:(pt,xe,V)=>{"use strict";V.d(xe,{T:()=>B});var h=V(5497),pe=V(5044);function B(we){return(0,pe.m)(null==we?void 0:we[h.h])}},2442:(pt,xe,V)=>{"use strict";V.d(xe,{t:()=>pe});var h=V(5044);function pe(B){return(0,h.m)(null==B?void 0:B.then)}},7751:(pt,xe,V)=>{"use strict";V.d(xe,{Q:()=>B,L:()=>we});var h=V(9162),pe=V(5044);function B(ce){return(0,h.FC)(this,arguments,function*(){const le=ce.getReader();try{for(;;){const{value:be,done:me}=yield(0,h.qq)(le.read());if(me)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(be)}}finally{le.releaseLock()}})}function we(ce){return(0,pe.m)(null==ce?void 0:ce.getReader)}},7398:(pt,xe,V)=>{"use strict";V.d(xe,{K:()=>pe});var h=V(5044);function pe(B){return B&&(0,h.m)(B.schedule)}},9947:(pt,xe,V)=>{"use strict";V.d(xe,{A:()=>pe,e:()=>B});var h=V(5044);function pe(we){return(0,h.m)(null==we?void 0:we.lift)}function B(we){return ce=>{if(pe(ce))return ce.lift(function(fe){try{return we(fe,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(pt,xe,V)=>{"use strict";function h(){}V.d(xe,{Z:()=>h})},5160:(pt,xe,V)=>{"use strict";V.d(xe,{h:()=>B});var h=V(5367),pe=V(2496);function B(we){pe.z.setTimeout(()=>{const{onUnhandledError:ce}=h.v;if(!ce)throw we;ce(we)})}},3754:(pt,xe,V)=>{"use strict";function h(pe){return new TypeError(`You provided ${null!==pe&&"object"==typeof pe?"an invalid object":`'${pe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(xe,{z:()=>h})},4803:(pt,xe,V)=>{"use strict";var h=V(3668);let pe=null;function B(){return pe}const le=new h.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.LFG)(ee)},providedIn:"platform"}),n})();const J=new h.OlP("Location Initialized");let ee=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ue()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ue()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:function(){return new ee((0,h.LFG)(le))},providedIn:"platform"}),n})();function ue(){return!!window.history.pushState}function Fe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function rt(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ye(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function(n){const e=(0,h.LFG)(le).location;return new Oe((0,h.LFG)(be),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ee=new h.OlP("appBaseHref");let Oe=(()=>{class n extends _e{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ye(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const m=this.prepareExternalUrl(i+Ye(u));this._platformLocation.pushState(t,r,m)}replaceState(t,r,i,u){const m=this.prepareExternalUrl(i+Ye(u));this._platformLocation.replaceState(t,r,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(Ee,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Fe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let m=this.prepareExternalUrl(i+Ye(u));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(t,r,m)}replaceState(t,r,i,u){let m=this.prepareExternalUrl(i+Ye(u));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(Ee,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=rt(at(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ye(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,at(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ye,n.joinWithSlash=Fe,n.stripTrailingSlash=rt,n.\u0275fac=function(t){return new(t||n)(h.LFG(_e),h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(){return new $e((0,h.LFG)(_e),(0,h.LFG)(be))},providedIn:"root"}),n})();function at(n){return n.replace(/\/index.html$/,"")}var Z=(()=>((Z=Z||{})[Z.Zero=0]="Zero",Z[Z.One=1]="One",Z[Z.Two=2]="Two",Z[Z.Few=3]="Few",Z[Z.Many=4]="Many",Z[Z.Other=5]="Other",Z))(),te=(()=>((te=te||{})[te.Format=0]="Format",te[te.Standalone=1]="Standalone",te))(),re=(()=>((re=re||{})[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re))(),Y=(()=>((Y=Y||{})[Y.Short=0]="Short",Y[Y.Medium=1]="Medium",Y[Y.Long=2]="Long",Y[Y.Full=3]="Full",Y))(),q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Group=1]="Group",q[q.List=2]="List",q[q.PercentSign=3]="PercentSign",q[q.PlusSign=4]="PlusSign",q[q.MinusSign=5]="MinusSign",q[q.Exponential=6]="Exponential",q[q.SuperscriptingExponent=7]="SuperscriptingExponent",q[q.PerMille=8]="PerMille",q[q.Infinity=9]="Infinity",q[q.NaN=10]="NaN",q[q.TimeSeparator=11]="TimeSeparator",q[q.CurrencyDecimal=12]="CurrencyDecimal",q[q.CurrencyGroup=13]="CurrencyGroup",q))();function Er(n,e){return or((0,h.cg1)(n)[h.wAp.DateFormat],e)}function cn(n,e){return or((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function Hn(n,e){return or((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function Yt(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(void 0===r){if(e===q.CurrencyDecimal)return t[h.wAp.NumberSymbols][q.Decimal];if(e===q.CurrencyGroup)return t[h.wAp.NumberSymbols][q.Group]}return r}const No=h.kL8;function xi(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function or(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Si(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const on=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pn={},Nr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xn=(()=>((xn=xn||{})[xn.Short=0]="Short",xn[xn.ShortGMT=1]="ShortGMT",xn[xn.Long=2]="Long",xn[xn.Extended=3]="Extended",xn))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),xt=(()=>((xt=xt||{})[xt.DayPeriods=0]="DayPeriods",xt[xt.Days=1]="Days",xt[xt.Months=2]="Months",xt[xt.Eras=3]="Eras",xt))();function ms(n,e,t,r){let i=function(n){if(h1(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,m=1]=n.split("-").map(y=>+y);return wt(i,u-1,m)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(on))return function(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const m=Number(n[4]||0)-t,y=Number(n[5]||0)-r,w=Number(n[6]||0),S=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,m,y,w,S),e}(r)}const e=new Date(n);if(!h1(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Zi(t,e)||e;let y,m=[];for(;e;){if(y=Nr.exec(e),!y){m.push(e);break}{m=m.concat(y.slice(1));const k=m.pop();if(!k)break;e=k}}let w=i.getTimezoneOffset();r&&(w=Ki(r,w),i=function(n,e,t){const i=n.getTimezoneOffset();return function(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,-1*(Ki(e,i)-i))}(i,r));let S="";return m.forEach(k=>{const P=function(n){if(an[n])return an[n];let e;switch(n){case"G":case"GG":case"GGG":e=se(xt.Eras,re.Abbreviated);break;case"GGGG":e=se(xt.Eras,re.Wide);break;case"GGGGG":e=se(xt.Eras,re.Narrow);break;case"y":e=ie(ht.FullYear,1,0,!1,!0);break;case"yy":e=ie(ht.FullYear,2,0,!0,!0);break;case"yyy":e=ie(ht.FullYear,3,0,!1,!0);break;case"yyyy":e=ie(ht.FullYear,4,0,!1,!0);break;case"Y":e=Ti(1);break;case"YY":e=Ti(2,!0);break;case"YYY":e=Ti(3);break;case"YYYY":e=Ti(4);break;case"M":case"L":e=ie(ht.Month,1,1);break;case"MM":case"LL":e=ie(ht.Month,2,1);break;case"MMM":e=se(xt.Months,re.Abbreviated);break;case"MMMM":e=se(xt.Months,re.Wide);break;case"MMMMM":e=se(xt.Months,re.Narrow);break;case"LLL":e=se(xt.Months,re.Abbreviated,te.Standalone);break;case"LLLL":e=se(xt.Months,re.Wide,te.Standalone);break;case"LLLLL":e=se(xt.Months,re.Narrow,te.Standalone);break;case"w":e=Bn(1);break;case"ww":e=Bn(2);break;case"W":e=Bn(1,!0);break;case"d":e=ie(ht.Date,1);break;case"dd":e=ie(ht.Date,2);break;case"c":case"cc":e=ie(ht.Day,1);break;case"ccc":e=se(xt.Days,re.Abbreviated,te.Standalone);break;case"cccc":e=se(xt.Days,re.Wide,te.Standalone);break;case"ccccc":e=se(xt.Days,re.Narrow,te.Standalone);break;case"cccccc":e=se(xt.Days,re.Short,te.Standalone);break;case"E":case"EE":case"EEE":e=se(xt.Days,re.Abbreviated);break;case"EEEE":e=se(xt.Days,re.Wide);break;case"EEEEE":e=se(xt.Days,re.Narrow);break;case"EEEEEE":e=se(xt.Days,re.Short);break;case"a":case"aa":case"aaa":e=se(xt.DayPeriods,re.Abbreviated);break;case"aaaa":e=se(xt.DayPeriods,re.Wide);break;case"aaaaa":e=se(xt.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":e=se(xt.DayPeriods,re.Abbreviated,te.Standalone,!0);break;case"bbbb":e=se(xt.DayPeriods,re.Wide,te.Standalone,!0);break;case"bbbbb":e=se(xt.DayPeriods,re.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":e=se(xt.DayPeriods,re.Abbreviated,te.Format,!0);break;case"BBBB":e=se(xt.DayPeriods,re.Wide,te.Format,!0);break;case"BBBBB":e=se(xt.DayPeriods,re.Narrow,te.Format,!0);break;case"h":e=ie(ht.Hours,1,-12);break;case"hh":e=ie(ht.Hours,2,-12);break;case"H":e=ie(ht.Hours,1);break;case"HH":e=ie(ht.Hours,2);break;case"m":e=ie(ht.Minutes,1);break;case"mm":e=ie(ht.Minutes,2);break;case"s":e=ie(ht.Seconds,1);break;case"ss":e=ie(ht.Seconds,2);break;case"S":e=ie(ht.FractionalSeconds,1);break;case"SS":e=ie(ht.FractionalSeconds,2);break;case"SSS":e=ie(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ce(xn.Short);break;case"ZZZZZ":e=Ce(xn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ce(xn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ce(xn.Long);break;default:return null}return an[n]=e,e}(k);S+=P?P(i,t,w):"''"===k?"'":k.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function wt(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Zi(n,e){const t=function(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(pn[t]=pn[t]||{},pn[t][e])return pn[t][e];let r="";switch(e){case"shortDate":r=Er(n,Y.Short);break;case"mediumDate":r=Er(n,Y.Medium);break;case"longDate":r=Er(n,Y.Long);break;case"fullDate":r=Er(n,Y.Full);break;case"shortTime":r=cn(n,Y.Short);break;case"mediumTime":r=cn(n,Y.Medium);break;case"longTime":r=cn(n,Y.Long);break;case"fullTime":r=cn(n,Y.Full);break;case"short":const i=Zi(n,"shortTime"),u=Zi(n,"shortDate");r=nn(Hn(n,Y.Short),[i,u]);break;case"medium":const m=Zi(n,"mediumTime"),y=Zi(n,"mediumDate");r=nn(Hn(n,Y.Medium),[m,y]);break;case"long":const w=Zi(n,"longTime"),S=Zi(n,"longDate");r=nn(Hn(n,Y.Long),[w,S]);break;case"full":const k=Zi(n,"fullTime"),P=Zi(n,"fullDate");r=nn(Hn(n,Y.Full),[k,P])}return r&&(pn[t][e]=r),r}function nn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function wn(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let m=String(n);for(;m.length<e;)m="0"+m;return r&&(m=m.substr(m.length-e)),u+m}function ie(n,e,t=0,r=!1,i=!1){return function(u,m){let y=function(n,e){switch(n){case ht.FullYear:return e.getFullYear();case ht.Month:return e.getMonth();case ht.Date:return e.getDate();case ht.Hours:return e.getHours();case ht.Minutes:return e.getMinutes();case ht.Seconds:return e.getSeconds();case ht.FractionalSeconds:return e.getMilliseconds();case ht.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||y>-t)&&(y+=t),n===ht.Hours)0===y&&-12===t&&(y=12);else if(n===ht.FractionalSeconds)return function(n,e){return wn(n,3).substr(0,e)}(y,e);const w=Yt(m,q.MinusSign);return wn(y,e,w,r,i)}}function se(n,e,t=te.Format,r=!1){return function(i,u){return function(n,e,t,r,i,u){switch(t){case xt.Months:return function(n,e,t){const r=(0,h.cg1)(n),u=or([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return or(u,t)}(e,i,r)[n.getMonth()];case xt.Days:return function(n,e,t){const r=(0,h.cg1)(n),u=or([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return or(u,t)}(e,i,r)[n.getDay()];case xt.DayPeriods:const m=n.getHours(),y=n.getMinutes();if(u){const S=function(n){const e=(0,h.cg1)(n);return xi(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Si(r):[Si(r[0]),Si(r[1])])}(e),k=function(n,e,t){const r=(0,h.cg1)(n);xi(r);const u=or([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return or(u,t)||[]}(e,i,r),P=S.findIndex(j=>{if(Array.isArray(j)){const[$,K]=j,ve=m>=$.hours&&y>=$.minutes,Ie=m<K.hours||m===K.hours&&y<K.minutes;if($.hours<K.hours){if(ve&&Ie)return!0}else if(ve||Ie)return!0}else if(j.hours===m&&j.minutes===y)return!0;return!1});if(-1!==P)return k[P]}return function(n,e,t){const r=(0,h.cg1)(n),u=or([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return or(u,t)}(e,i,r)[m<12?0:1];case xt.Eras:return function(n,e){return or((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Ce(n){return function(e,t,r){const i=-1*r,u=Yt(t,q.MinusSign),m=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case xn.Short:return(i>=0?"+":"")+wn(m,2,u)+wn(Math.abs(i%60),2,u);case xn.ShortGMT:return"GMT"+(i>=0?"+":"")+wn(m,1,u);case xn.Long:return"GMT"+(i>=0?"+":"")+wn(m,2,u)+":"+wn(Math.abs(i%60),2,u);case xn.Extended:return 0===r?"Z":(i>=0?"+":"")+wn(m,2,u)+":"+wn(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Qn(n){return wt(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Bn(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,m=t.getDate();i=1+Math.floor((m+u)/7)}else{const u=Qn(t),m=function(n){const e=wt(n,0,1).getDay();return wt(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),y=u.getTime()-m.getTime();i=1+Math.round(y/6048e5)}return wn(i,n,Yt(r,q.MinusSign))}}function Ti(n,e=!1){return function(t,r){return wn(Qn(t).getFullYear(),n,Yt(r,q.MinusSign),e)}}const an={};function Ki(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function h1(n){return n instanceof Date&&!isNaN(n.valueOf())}class ti{}let Ae=(()=>{class n extends ti{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(No(r||this.locale)(t)){case Z.Zero:return"zero";case Z.One:return"one";case Z.Two:return"two";case Z.Few:return"few";case Z.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ls(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class f1{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let so=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,u,m)=>{if(null==i.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new f1(null,this._ngForOf,-1,-1),null===m?void 0:m),w=new Lt(i,y);r.push(w)}else if(null==m)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const y=this._viewContainer.get(u);this._viewContainer.move(y,m);const w=new Lt(i,y);r.push(w)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,u=this._viewContainer.length;i<u;i++){const m=this._viewContainer.get(i);m.context.index=i,m.context.count=u,m.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Lt{constructor(e,t){this.record=e,this.view=t}}let pi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Lo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$r("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$r("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Lo{constructor(){this.$implicit=null,this.ngIf=null}}function $r(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class ar{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let p1=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ni=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new ar(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(p1,9))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Xi=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,u]=t.split(".");null!=(r=null!=r&&u?`${r}${u}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.aQg),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function Pr(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,h.AaK)(n)}'`)}class du{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Zd{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Wr=new Zd,Q2=new du;let Nl=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Wr;if((0,h.F4k)(t))return Q2;throw Pr(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})();const J2=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let fu=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,u){var m;if(null==t||""===t||t!=t)return null;try{return ms(t,r,u||this.locale,null!=(m=null!=i?i:this.defaultTimezone)?m:void 0)}catch(y){throw Pr(n,y.message)}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(J2,24))},n.\u0275pipe=h.Yjl({name:"date",type:n,pure:!0}),n})(),vs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:ti,useClass:Ae}]}),n})();const ed="browser";function Tn(n){return"server"===n}let b1=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new C1((0,h.LFG)(le),window)}),n})();class C1{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const m=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(m)return m}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=td(this.window.history)||td(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function td(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xa{}class _a extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new _a,pe||(pe=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ya=ya||document.querySelector("base"),ya?ya.getAttribute("href"):null);return null==t?null:function(n){Hr=Hr||document.createElement("a"),Hr.setAttribute("href",n);const e=Hr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ls(document.cookie,e)}}let Hr,ya=null;const Vo=new h.OlP("TRANSITION_ID"),mn=[{provide:h.ip1,useFactory:function(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=B(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Vo,le,h.zs3],multi:!0}];class Ec{static init(){(0,h.VLi)(new Ec)}addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,m=!1;const y=function(w){m=m||w,u--,0==u&&r(m)};i.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let tl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Hs=new h.OlP("EventManagerPlugins");let Xn=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const m=i[u];if(m.supports(t))return this._eventNameToPlugin.set(t,m),m}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Hs),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class bs{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=B().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ki=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),br=(()=>{class n extends ki{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const m=this._doc.createElement("style");m.textContent=u,i.push(r.appendChild(m))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Bl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Bl))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Bl(n){B().remove(n)}const Ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bs=/%COMP%/g;function es(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?es(n,i,t):(i=i.replace(Bs,n),t.push(i))}return t}function ii(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ul=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new wa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new S1(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new nl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=es(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Xn),h.LFG(br),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class wa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ho[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Ho[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ho[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ii(r)):this.eventManager.addEventListener(e,t,ii(r))}}class S1 extends wa{constructor(e,t,r,i){super(e),this.component=r;const u=es(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Bs,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Bs,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class nl extends wa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=es(i.id,i.styles,[]);for(let m=0;m<u.length;m++){const y=document.createElement("style");y.textContent=u[m],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let T1=(()=>{class n extends bs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Mc=["alt","control","meta","shift"],Go={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Un={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hf=(()=>{class n extends bs{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),m=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,u.domEventName,m))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let m="";if(Mc.forEach(w=>{const S=r.indexOf(w);S>-1&&(r.splice(S,1),m+=w+".")}),m+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=i,y.fullKey=m,y}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Un.hasOwnProperty(e)&&(e=Un[e]))}return Go[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Mc.forEach(u=>{u!=i&&mu[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),il=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(Gl),r},providedIn:"root"}),n})(),Gl=(()=>{class n extends il{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(r),(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new Gl(n.get(le))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();const Mr=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:ed},{provide:h.g9A,useValue:function(){_a.makeCurrent(),Ec.init()},multi:!0},{provide:le,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),co=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:Hs,useClass:T1,multi:!0,deps:[le,h.R0b,h.Lbi]},{provide:Hs,useClass:hf,multi:!0,deps:[le]},[],{provide:Ul,useClass:Ul,deps:[Xn,br,h.AFp]},{provide:h.FYo,useExisting:Ul},{provide:ki,useExisting:br},{provide:br,useClass:br,deps:[le]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:Xn,useClass:Xn,deps:[Hs,h.R0b]},{provide:Xa,useClass:tl,deps:[]},[]];let Gs=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Vo,useExisting:h.AFp},mn]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:co,imports:[vs,h.hGG]}),n})();"undefined"!=typeof window&&window;var In=V(5947),Ri=V(7613);function Ct(...n){const e=(0,Ri.yG)(n);return(0,In.D)(n,e)}var Zt=V(273);class Dr extends Zt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Mn=V(8305);const{isArray:od}=Array,{getPrototypeOf:Ur,prototype:Ma,keys:qs}=Object;function uo(n){if(1===n.length){const e=n[0];if(od(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&Ur(n)===Ma}(e)){const t=qs(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Da=V(4623),Tt=V(4753);const{isArray:Aa}=Array;function vi(n){return(0,Tt.U)(e=>function(n,e){return Aa(e)?n(...e):n(e)}(n,e))}function Wo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var cr=V(8889),A1=V(8395);function ka(n,e,t){n?(0,A1.f)(t,n,e):e()}const hr=(0,V(4893).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Pn=V(5373);function Rn(...n){return(0,Pn.J)(1)((0,In.D)(n,(0,Ri.yG)(n)))}var Ko=V(9985);function ad(n){return new Mn.y(e=>{(0,Ko.Xf)(n()).subscribe(e)})}var rs=V(5583),ws=V(7908),_i=V(9947);function fr(){return(0,_i.e)((n,e)=>{let t=null;n._refCount++;const r=new cr.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ld extends Mn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,_i.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ws.w0;const t=this.getSubject();e.add(this.source.subscribe(new cr.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ws.w0.EMPTY)}return e}refCount(){return fr()(this)}}function si(n,e){return(0,_i.e)((t,r)=>{let i=null,u=0,m=!1;const y=()=>m&&!i&&r.complete();t.subscribe(new cr.Q(r,w=>{null==i||i.unsubscribe();let S=0;const k=u++;(0,Ko.Xf)(n(w,k)).subscribe(i=new cr.Q(r,P=>r.next(e?e(w,P,k,S++):P),()=>{i=null,y()}))},()=>{m=!0,y()}))})}var Ni=V(9468);function ho(...n){const e=(0,Ri.yG)(n);return(0,_i.e)((t,r)=>{(e?Rn(n,t,e):Rn(n,t)).subscribe(r)})}function yu(n,e,t,r,i){return(u,m)=>{let y=t,w=e,S=0;u.subscribe(new cr.Q(m,k=>{const P=S++;w=y?n(w,k,P):(y=!0,k),r&&m.next(w)},i&&(()=>{y&&m.next(w),m.complete()})))}}function Kl(n,e){return(0,_i.e)(yu(n,e,arguments.length>=2,!0))}function tr(n,e){return(0,_i.e)((t,r)=>{let i=0;t.subscribe(new cr.Q(r,u=>n.call(e,u,i++)&&r.next(u)))})}function Oi(n){return(0,_i.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe(new cr.Q(t,void 0,void 0,m=>{u=(0,Ko.Xf)(n(m,Oi(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Ar=V(5724),Nn=V(5044);function Pi(n,e){return(0,Nn.m)(e)?(0,Ar.z)(n,e,1):(0,Ar.z)(n,1)}function Yl(n){return n<=0?()=>rs.E:(0,_i.e)((e,t)=>{let r=[];e.subscribe(new cr.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ql(n=Es){return(0,_i.e)((e,t)=>{let r=!1;e.subscribe(new cr.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Es(){return new hr}function Kr(n){return(0,_i.e)((e,t)=>{let r=!1;e.subscribe(new cr.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function is(n,e){const t=arguments.length>=2;return r=>r.pipe(n?tr((i,u)=>n(i,u,r)):Da.y,(0,Ni.q)(1),t?Kr(e):Ql(()=>new hr))}var en=V(7384);function Ft(n){return(0,_i.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class ur{constructor(e,t){this.id=e,this.url=t}}class xs extends ur{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ss extends ur{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class k1 extends ur{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jl extends ur{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bu extends ur{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ss extends ur{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R1 extends ur{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ts extends ur{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xd extends ur{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Is{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class po{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class N1{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O1{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class al{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ll{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class Oc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Yo(n){return new Oc(n)}const Ra="ngNavigationCancelingError";function Pc(n){const e=Error("NavigationCancelingError: "+n);return e[Ra]=!0,e}function D(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const m=r[u],y=n[u];if(m.startsWith(":"))i[m.substring(1)]=y;else if(m!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function L(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!W(n[i],e[i]))return!1;return!0}function W(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function he(n){return Array.prototype.concat.apply([],n)}function Me(n){return n.length>0?n[n.length-1]:null}function lt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ze(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,In.D)(Promise.resolve(n)):Ct(n)}const jn={exact:function Na(n,e,t){if(!Jo(n.segments,e.segments)||!oi(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Na(n.children[r],e.children[r],t))return!1;return!0},subset:Ms},dr={exact:function(n,e){return L(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>W(n[t],e[t]))},ignored:()=>!0};function vn(n,e,t){return jn[t.paths](n.root,e.root,t.matrixParams)&&dr[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ms(n,e,t){return mr(n,e,e.segments,t)}function mr(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Jo(i,t)||e.hasChildren()||!oi(i,t,r))}if(n.segments.length===t.length){if(!Jo(n.segments,t)||!oi(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ms(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Jo(n.segments,i)&&oi(n.segments,i,r)&&n.children[Jt])&&mr(n.children[Jt],e,u,r)}}function oi(n,e,t){return e.every((r,i)=>dr[t](n[i].parameters,r.parameters))}class Yr{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yo(this.queryParams)),this._queryParamMap}toString(){return P1.serialize(this)}}class bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,lt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $s(this)}}class Xl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Yo(this.parameters)),this._parameterMap}toString(){return t2(this)}}function Jo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class e2{}class ec{parse(e){const t=new rh(e);return new Yr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Lc(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ul(t)}=${ul(i)}`).join("&"):`${ul(t)}=${ul(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const P1=new ec;function $s(n){return n.segments.map(e=>t2(e)).join("/")}function Lc(n,e){if(!n.hasChildren())return $s(n);if(e){const t=n.children[Jt]?Lc(n.children[Jt],!1):"",r=[];return lt(n.children,(i,u)=>{u!==Jt&&r.push(`${u}:${Lc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return lt(n.children,(r,i)=>{i===Jt&&(t=t.concat(e(r,i)))}),lt(n.children,(r,i)=>{i!==Jt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Jt?[Lc(n.children[Jt],!1)]:[`${i}:${Lc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${$s(n)}/${t[0]}`:`${$s(n)}/(${t.join("//")})`}}function nh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ul(n){return nh(n).replace(/%3B/gi,";")}function L1(n){return nh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tc(n){return decodeURIComponent(n)}function F1(n){return tc(n.replace(/\+/g,"%20"))}function t2(n){return`${L1(n.path)}${function(n){return Object.keys(n).map(e=>`;${L1(e)}=${L1(n[e])}`).join("")}(n.parameters)}`}const Ws=/^[^\/()?;=#]+/;function Xo(n){const e=n.match(Ws);return e?e[0]:""}const Eu=/^[^=?&#]+/,xu=/^[^&#]+/;class rh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Jt]=new bn(e,t)),r}parseSegment(){const e=Xo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xl(tc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xo(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Xo(this.remaining);i&&(r=i,this.capture(r))}e[tc(t)]=tc(r)}parseQueryParam(e){const t=function(n){const e=n.match(Eu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const m=function(n){const e=n.match(xu);return e?e[0]:""}(this.remaining);m&&(r=m,this.capture(r))}const i=F1(t),u=F1(r);if(e.hasOwnProperty(i)){let m=e[i];Array.isArray(m)||(m=[m],e[i]=m),m.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xo(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Jt);const m=this.parseChildren();t[u]=1===Object.keys(m).length?m[Jt]:new bn([],m),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class dd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ai(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ai(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pa(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pa(e,this._root).map(t=>t.value)}}function ai(n,e){if(n===e.value)return e;for(const t of e.children){const r=ai(n,t);if(r)return r}return null}function Pa(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Pa(n,t);if(r.length)return r.unshift(e),r}return[]}class dl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function z1(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class hd extends dd{constructor(e,t){super(e),this.snapshot=t,rc(this,e)}toString(){return this.snapshot.toString()}}function r2(n,e){const t=function(n,e){const m=new V1([],{},{},"",{},Jt,e,null,n.root,-1,{});return new hl("",new dl(m,[]))}(n,e),r=new Dr([new Xl("",{})]),i=new Dr({}),u=new Dr({}),m=new Dr({}),y=new Dr(""),w=new yi(r,i,m,y,u,Jt,e,t.root);return w.snapshot=t.root,new hd(new dl(w,[]),t)}class yi{constructor(e,t,r,i,u,m,y,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=m,this.component=y,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(e=>Yo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(e=>Yo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:gt(gt({},e.params),t.params),data:gt(gt({},e.data),t.data),resolve:gt(gt({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class V1{constructor(e,t,r,i,u,m,y,w,S,k,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=m,this.component=y,this.routeConfig=w,this._urlSegment=S,this._lastPathIndex=k,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hl extends dd{constructor(e,t){super(t),this.url=e,rc(this,t)}toString(){return H1(this._root)}}function rc(n,e){e.value._routerState=n,e.children.forEach(t=>rc(n,t))}function H1(n){const e=n.children.length>0?` { ${n.children.map(H1).join(", ")} } `:"";return`${n.value}${e}`}function Fc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,L(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),L(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!L(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),L(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mo(n,e){const t=L(n.params,e.params)&&function(n,e){return Jo(n,e)&&n.every((t,r)=>L(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||mo(n.parent,e.parent))}function pd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pd(n,r,i);return pd(n,r)})}(n,e,t);return new dl(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const m=u.route;return m.value._futureSnapshot=e.value,m.children=e.children.map(y=>pd(n,y)),m}}const r=function(n){return new yi(new Dr(n.url),new Dr(n.params),new Dr(n.queryParams),new Dr(n.fragment),new Dr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>pd(n,u));return new dl(r,i)}}function zc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vo(n){return"object"==typeof n&&null!=n&&n.outlets}function ea(n,e,t,r,i){let u={};return r&&lt(r,(m,y)=>{u[y]=Array.isArray(m)?m.map(w=>`${w}`):`${m}`}),new Yr(t.root===n?e:Zs(t.root,n,e),u,i)}function Zs(n,e,t){const r={};return lt(n.children,(i,u)=>{r[u]=i===e?t:Zs(i,e,t)}),new bn(n.segments,r)}class ic{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zc(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(vo);if(i&&i!==Me(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class md{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function oh(n,e,t){if(n||(n=new bn([],{})),0===n.segments.length&&n.hasChildren())return fl(n,e,t);const r=function(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const m=n.segments[i],y=t[r];if(vo(y))break;const w=`${y}`,S=r<t.length-1?t[r+1]:null;if(i>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!vd(w,S,m))return u;r+=2}else{if(!vd(w,{},m))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new bn(n.segments.slice(0,r.pathIndex),{});return u.children[Jt]=new bn(n.segments.slice(r.pathIndex),n.children),fl(u,0,i)}return r.match&&0===i.length?new bn(n.segments,{}):r.match&&!n.hasChildren()?Su(n,e,t):r.match?fl(n,0,i):Su(n,e,t)}function fl(n,e,t){if(0===t.length)return new bn(n.segments,{});{const r=function(n){return vo(n[0])?n[0].outlets:{[Jt]:n}}(t),i={};return lt(r,(u,m)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[m]=oh(n.children[m],e,u))}),lt(n.children,(u,m)=>{void 0===r[m]&&(i[m]=u)}),new bn(n.segments,i)}}function Su(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(vo(u)){const w=Tu(u.outlets);return new bn(r,w)}if(0===i&&zc(t[0])){r.push(new Xl(n.segments[e].path,gd(t[0]))),i++;continue}const m=vo(u)?u.outlets[Jt]:`${u}`,y=i<t.length-1?t[i+1]:null;m&&y&&zc(y)?(r.push(new Xl(m,gd(y))),i+=2):(r.push(new Xl(m,{})),i++)}return new bn(r,{})}function Tu(n){const e={};return lt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Su(new bn([],{}),0,t))}),e}function gd(n){const e={};return lt(n,(t,r)=>e[r]=`${t}`),e}function vd(n,e,t){return n==t.path&&L(e,t.parameters)}class Iu{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Fc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=z1(t);e.children.forEach(u=>{const m=u.value.outlet;this.deactivateRoutes(u,i[m],r),delete i[m]}),lt(i,(u,m)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const m=r.getContext(i.outlet);m&&this.deactivateChildRoutes(e,t,m.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=z1(e);for(const m of Object.keys(u))this.deactivateRouteAndItsChildren(u[m],i);if(r&&r.outlet){const m=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:m,route:e,contexts:y})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=z1(e);for(const m of Object.keys(u))this.deactivateRouteAndItsChildren(u[m],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=z1(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new ll(u.value.snapshot))}),e.children.length&&this.forwardEvent(new O1(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Fc(i),i===u)if(i.component){const m=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,m.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const m=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const y=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),m.children.onOutletReAttached(y.contexts),m.attachRef=y.componentRef,m.route=y.route.value,m.outlet&&m.outlet.attach(y.componentRef,y.route.value),Fc(y.route.value),this.activateChildRoutes(e,null,m.children)}else{const y=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),w=y?y.module.componentFactoryResolver:null;m.attachRef=null,m.route=i,m.resolver=w,m.outlet&&m.outlet.activateWith(i,w),this.activateChildRoutes(e,null,m.children)}}else this.activateChildRoutes(e,null,r)}}class a2{constructor(e,t){this.routes=e,this.module=t}}function La(n){return"function"==typeof n}function oc(n){return n instanceof Yr}const j1=Symbol("INITIAL_VALUE");function Vc(){return si(n=>function(...n){const e=(0,Ri.yG)(n),t=(0,Ri.jO)(n),{args:r,keys:i}=uo(n);if(0===r.length)return(0,In.D)([],e);const u=new Mn.y(function(n,e,t=Da.y){return r=>{ka(e,()=>{const{length:i}=n,u=new Array(i);let m=i,y=i;for(let w=0;w<i;w++)ka(e,()=>{const S=(0,In.D)(n[w],e);let k=!1;S.subscribe(new cr.Q(r,P=>{u[w]=P,k||(k=!0,y--),y||r.next(t(u.slice()))},()=>{--m||r.complete()}))},r)},r)}}(r,e,i?m=>Wo(i,m):Da.y));return t?u.pipe(vi(t)):u}(n.map(e=>e.pipe((0,Ni.q)(1),ho(j1)))).pipe(Kl((e,t)=>{let r=!1;return t.reduce((i,u,m)=>i!==j1?i:(u===j1&&(r=!0),r||!1!==u&&m!==t.length-1&&!oc(u)?i:u),e)},j1),tr(e=>e!==j1),(0,Tt.U)(e=>oc(e)?e:!0===e),(0,Ni.q)(1)))}class lh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ac,this.attachRef=null}}class ac{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new lh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let l2=(()=>{class n{constructor(t,r,i,u,m){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=u||Jt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const m=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,w=new c2(t,y,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ac),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class c2{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yi?this.route:e===ac?this.childContexts:this.parent.get(e,t)}}let ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[l2],encapsulation:2}),n})();function uh(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];vf(r,dh(e,r))}}function vf(n,e){n.children&&uh(n.children,e)}function dh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function pl(n){const e=n.children&&n.children.map(pl),t=e?no(gt({},n),{children:e}):gt({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=ch),t}function Gn(n){return n.outlet||Jt}function Hc(n,e){const t=n.filter(r=>Gn(r)===e);return t.push(...n.filter(r=>Gn(r)!==e)),t}const ml={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function G1(n,e,t){var y;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?gt({},ml):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||D)(t,n,e);if(!i)return gt({},ml);const u={};lt(i.posParams,(w,S)=>{u[S]=w.path});const m=i.consumed.length>0?gt(gt({},u),i.consumed[i.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:m,positionalParamSegments:null!=(y=i.posParams)?y:{}}}function gr(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Ru(n,e,r)&&Gn(r)!==Jt)}(n,t,r)){const m=new bn(e,function(n,e,t,r){const i={};i[Jt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Gn(u)!==Jt){const m=new bn([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,i[Gn(u)]=m}return i}(n,e,r,new bn(t,n.children)));return m._sourceSegment=n,m._segmentIndexShift=e.length,{segmentGroup:m,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Ru(n,e,r))}(n,t,r)){const m=new bn(n.segments,function(n,e,t,r,i,u){const m={};for(const y of r)if(Ru(n,t,y)&&!i[Gn(y)]){const w=new bn([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,m[Gn(y)]=w}return gt(gt({},i),m)}(n,e,t,r,n.children,i));return m._sourceSegment=n,m._segmentIndexShift=e.length,{segmentGroup:m,slicedSegments:t}}const u=new bn(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Ru(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function q1(n,e,t,r){return!!(Gn(n)===r||r!==Jt&&Ru(e,t,n))&&("**"===n.path||G1(e,n,t).matched)}function gl(n,e,t){return 0===e.length&&!n.children[t]}class as{constructor(e){this.segmentGroup=e||null}}class Bc{constructor(e){this.urlTree=e}}function $1(n){return new Mn.y(e=>e.error(new as(n)))}function Fa(n){return new Mn.y(e=>e.error(new Bc(n)))}function u2(n){return new Mn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class h2{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=gr(this.urlTree.root,[],[],this.config).segmentGroup,t=new bn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Jt).pipe((0,Tt.U)(u=>this.createUrlTree(bi(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oi(u=>{if(u instanceof Bc)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof as?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Jt).pipe((0,Tt.U)(i=>this.createUrlTree(bi(i),e.queryParams,e.fragment))).pipe(Oi(i=>{throw i instanceof as?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new bn([],{[Jt]:e}):e;return new Yr(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Tt.U)(u=>new bn([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,In.D)(i).pipe(Pi(u=>{const m=r.children[u],y=Hc(t,u);return this.expandSegmentGroup(e,y,m,u).pipe((0,Tt.U)(w=>({segment:w,outlet:u})))}),Kl((u,m)=>(u[m.outlet]=m.segment,u),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?tr((i,u)=>n(i,u,r)):Da.y,Yl(1),t?Kr(e):Ql(()=>new hr))}())}expandSegment(e,t,r,i,u,m){return(0,In.D)(r).pipe(Pi(y=>this.expandSegmentAgainstRoute(e,t,r,y,i,u,m).pipe(Oi(S=>{if(S instanceof as)return Ct(null);throw S}))),is(y=>!!y),Oi((y,w)=>{if(y instanceof hr||"EmptyError"===y.name){if(gl(t,i,u))return Ct(new bn([],{}));throw new as(t)}throw y}))}expandSegmentAgainstRoute(e,t,r,i,u,m,y){return q1(i,t,u,m)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,m):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,m):$1(t):$1(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,m){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,m):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Fa(u):this.lineralizeSegments(r,u).pipe((0,Ar.z)(m=>{const y=new bn(m,{});return this.expandSegment(e,y,t,m,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,m){const{matched:y,consumedSegments:w,lastChild:S,positionalParamSegments:k}=G1(t,i,u);if(!y)return $1(t);const P=this.applyRedirectCommands(w,i.redirectTo,k);return i.redirectTo.startsWith("/")?Fa(P):this.lineralizeSegments(i,P).pipe((0,Ar.z)(j=>this.expandSegment(e,t,r,j.concat(u.slice(S)),m,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ct(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Tt.U)(j=>(r._loadedConfig=j,new bn(i,{})))):Ct(new bn(i,{}));const{matched:m,consumedSegments:y,lastChild:w}=G1(t,r,i);if(!m)return $1(t);const S=i.slice(w);return this.getChildConfig(e,r,i).pipe((0,Ar.z)(P=>{const j=P.module,$=P.routes,{segmentGroup:K,slicedSegments:ve}=gr(t,y,S,$),Ie=new bn(K.segments,K.children);if(0===ve.length&&Ie.hasChildren())return this.expandChildren(j,$,Ie).pipe((0,Tt.U)(ct=>new bn(y,ct)));if(0===$.length&&0===ve.length)return Ct(new bn(y,{}));const Ke=Gn(r)===u;return this.expandSegment(j,Ie,$,ve,Ke?Jt:u,!0).pipe((0,Tt.U)(At=>new bn(y.concat(At.segments),At.children)))}))}getChildConfig(e,t,r){return t.children?Ct(new a2(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ct(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ar.z)(i=>{return i?this.configLoader.load(e.injector,t).pipe((0,Tt.U)(u=>(t._loadedConfig=u,u))):(n=t,new Mn.y(e=>e.error(Pc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Ct(new a2([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Ct(i.map(m=>{const y=e.get(m);let w;if((n=y)&&La(n.canLoad))w=y.canLoad(t,r);else{if(!La(y))throw new Error("Invalid CanLoad guard");w=y(t,r)}var n;return Ze(w)})).pipe(Vc(),(0,en.b)(m=>{if(!oc(m))return;const y=Pc(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw y.url=m,y}),(0,Tt.U)(m=>!0===m)):Ct(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ct(r);if(i.numberOfChildren>1||!i.children[Jt])return u2(e.redirectTo);i=i.children[Jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Yr(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return lt(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const y=i.substring(1);r[u]=t[y]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let m={};return lt(t.children,(y,w)=>{m[w]=this.createSegmentGroup(e,y,r,i)}),new bn(u,m)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function bi(n){const e={};for(const r of Object.keys(n.children)){const u=bi(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new bn(n.segments.concat(e.segments),e.children)}return n}(new bn(n.segments,e))}class Cn{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ou{constructor(e,t){this.component=e,this.route=t}}function vl(n,e,t){const r=n._root;return Fu(r,e?e._root:null,t,[r.value])}function Pu(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Fu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=z1(e);return n.children.forEach(m=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,m=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(m&&u.routeConfig===m.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,e.url)||!L(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mo(n,e)||!L(n.queryParams,e.queryParams);default:return!mo(n,e)}}(m,u,u.routeConfig.runGuardsAndResolvers);w?i.canActivateChecks.push(new Cn(r)):(u.data=m.data,u._resolvedData=m._resolvedData),Fu(n,e,u.component?y?y.children:null:t,r,i),w&&y&&y.outlet&&y.outlet.isActivated&&i.canDeactivateChecks.push(new Ou(y.outlet.component,m))}else m&&lc(e,y,i),i.canActivateChecks.push(new Cn(r)),Fu(n,null,u.component?y?y.children:null:t,r,i)})(m,u[m.value.outlet],t,r.concat([m.value]),i),delete u[m.value.outlet]}),lt(u,(m,y)=>lc(m,t.getContext(y),i)),i}function lc(n,e,t){const r=z1(n),i=n.value;lt(r,(u,m)=>{lc(u,i.component?e?e.children.getContext(m):null:e,t)}),t.canDeactivateChecks.push(new Ou(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class x{}function I(n){return new Mn.y(e=>e.error(n))}class N{constructor(e,t,r,i,u,m){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=m}recognize(){const e=gr(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Jt);if(null===t)return null;const r=new V1([],Object.freeze({}),Object.freeze(gt({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new dl(r,t),u=new hl(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=nc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const m=t.children[u],y=Hc(e,u),w=this.processSegmentGroup(y,m,u);if(null===w)return null;r.push(...w)}const i=ne(r);return i.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const u of e){const m=this.processSegmentAgainstRoute(u,t,r,i);if(null!==m)return m}return gl(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!q1(e,t,r,i))return null;let u,m=[],y=[];if("**"===e.path){const $=r.length>0?Me(r).parameters:{};u=new V1(r,$,Object.freeze(gt({},this.urlTree.queryParams)),this.urlTree.fragment,tt(e),Gn(e),e.component,e,Pe(t),qe(t)+r.length,it(e))}else{const $=G1(t,e,r);if(!$.matched)return null;m=$.consumedSegments,y=r.slice($.lastChild),u=new V1(m,$.parameters,Object.freeze(gt({},this.urlTree.queryParams)),this.urlTree.fragment,tt(e),Gn(e),e.component,e,Pe(t),qe(t)+m.length,it(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:k}=gr(t,m,y,w.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);var n;if(0===k.length&&S.hasChildren()){const $=this.processChildren(w,S);return null===$?null:[new dl(u,$)]}if(0===w.length&&0===k.length)return[new dl(u,[])];const P=Gn(e)===i,j=this.processSegment(w,S,k,P?Jt:i);return null===j?null:[new dl(u,j)]}}function oe(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ne(n){const e=[],t=new Set;for(const r of n){if(!oe(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ne(r.children);e.push(new dl(r.value,i))}return e.filter(r=>!t.has(r))}function Pe(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qe(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function tt(n){return n.data||{}}function it(n){return n.resolve||{}}function Fn(n){return si(e=>{const t=n(e);return t?(0,In.D)(t).pipe((0,Tt.U)(()=>e)):Ct(e)})}class Ks extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const cs=new h.OlP("ROUTES");class kr{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Tt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const m=u.create(e);return new a2(he(m.injector.get(cs,void 0,h.XFs.Self|h.XFs.Optional)).map(pl),m)}),Oi(u=>{throw t._loader$=void 0,u}));return t._loader$=new ld(i,()=>new Zt.x).pipe(fr()),t._loader$}loadModuleFactory(e){return Ze(e()).pipe((0,Ar.z)(t=>t instanceof h.YKP?Ct(t):(0,In.D)(this.compiler.compileModuleAsync(t))))}}class Fi{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function li(n){throw n}function Qr(n,e,t){return e.parse("/")}function Rr(n,e){return Ct(null)}const Qs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class n{constructor(t,r,i,u,m,y,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zt.x,this.errorHandler=li,this.malformedUriErrorHandler=Qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rr,afterPreactivation:Rr},this.urlHandlingStrategy=new Fi,this.routeReuseStrategy=new Ks,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(h.h0i),this.console=m.get(h.c2e);const P=m.get(h.R0b);this.isNgZoneEnabled=P instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Yr(new bn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kr(m,y,j=>this.triggerEvent(new Is(j)),j=>this.triggerEvent(new po(j))),this.routerState=r2(this.currentUrlTree,this.rootComponentType),this.transitions=new Dr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(tr(i=>0!==i.id),(0,Tt.U)(i=>no(gt({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),si(i=>{let u=!1,m=!1;return Ct(i).pipe((0,en.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?no(gt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),si(y=>{const w=this.browserUrlTree.toString(),S=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Js(y.source)&&(this.browserUrlTree=y.extractedUrl),Ct(y).pipe(si(P=>{const j=this.transitions.getValue();return r.next(new xs(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),j!==this.transitions.getValue()?rs.E:Promise.resolve(P)}),function(n,e,t,r){return si(i=>function(n,e,t,r,i){return new h2(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Tt.U)(u=>no(gt({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,en.b)(P=>{this.currentNavigation=no(gt({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(n,e,t,r,i){return(0,Ar.z)(u=>function(n,e,t,r,i="emptyOnly",u="legacy"){try{const m=new N(n,e,t,r,i,u).recognize();return null===m?I(new x):Ct(m)}catch(m){return I(m)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,Tt.U)(m=>no(gt({},u),{targetSnapshot:m}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,en.b)(P=>{if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl($,P)}this.browserUrlTree=P.urlAfterRedirects}const j=new bu(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(j)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:$,source:K,restoredState:ve,extras:Ie}=y,Ke=new xs(j,this.serializeUrl($),K,ve);r.next(Ke);const ft=r2($,this.rootComponentType).snapshot;return Ct(no(gt({},y),{targetSnapshot:ft,urlAfterRedirects:$,extras:no(gt({},Ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),rs.E}),Fn(y=>{const{targetSnapshot:w,id:S,extractedUrl:k,rawUrl:P,extras:{skipLocationChange:j,replaceUrl:$}}=y;return this.hooks.beforePreactivation(w,{navigationId:S,appliedUrlTree:k,rawUrlTree:P,skipLocationChange:!!j,replaceUrl:!!$})}),(0,en.b)(y=>{const w=new Ss(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,Tt.U)(y=>no(gt({},y),{guards:vl(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:m}}=t;return 0===m.length&&0===u.length?Ct(no(gt({},t),{guardsResult:!0})):function(n,e,t,r){return(0,In.D)(n).pipe((0,Ar.z)(i=>function(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ct(u.map(y=>{const w=Pu(y,e,i);let S;if(function(n){return n&&La(n.canDeactivate)}(w))S=Ze(w.canDeactivate(n,e,t,r));else{if(!La(w))throw new Error("Invalid CanDeactivate guard");S=Ze(w(n,e,t,r))}return S.pipe(is())})).pipe(Vc()):Ct(!0)}(i.component,i.route,t,e,r)),is(i=>!0!==i,!0))}(m,r,i,n).pipe((0,Ar.z)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,e,t,r){return(0,In.D)(e).pipe(Pi(i=>Rn(function(n,e){return null!==n&&e&&e(new N1(n)),Ct(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new al(n)),Ct(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(m=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(m)).filter(m=>null!==m).map(m=>ad(()=>Ct(m.guards.map(w=>{const S=Pu(w,m.node,t);let k;if(function(n){return n&&La(n.canActivateChild)}(S))k=Ze(S.canActivateChild(r,n));else{if(!La(S))throw new Error("Invalid CanActivateChild guard");k=Ze(S(r,n))}return k.pipe(is())})).pipe(Vc())));return Ct(u).pipe(Vc())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const i=r.map(u=>ad(()=>{const m=Pu(u,e,t);let y;if(function(n){return n&&La(n.canActivate)}(m))y=Ze(m.canActivate(e,n));else{if(!La(m))throw new Error("Invalid CanActivate guard");y=Ze(m(e,n))}return y.pipe(is())}));return Ct(i).pipe(Vc())}(n,i.route,t))),is(i=>!0!==i,!0))}(r,u,n,e):Ct(y)),(0,Tt.U)(y=>no(gt({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,en.b)(y=>{if(oc(y.guardsResult)){const S=Pc(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw S.url=y.guardsResult,S}const w=new R1(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),tr(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),Fn(y=>{if(y.guards.canActivateChecks.length)return Ct(y).pipe((0,en.b)(w=>{const S=new Ts(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}),si(w=>{let S=!1;return Ct(w).pipe(function(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ct(t);let u=0;return(0,In.D)(i).pipe(Pi(m=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Ct({});const u={};return(0,In.D)(i).pipe((0,Ar.z)(m=>function(n,e,t,r){const i=Pu(n,e,r);return Ze(i.resolve?i.resolve(e,t):i(e,t))}(n[m],e,t,r).pipe((0,en.b)(y=>{u[m]=y}))),Yl(1),(0,Ar.z)(()=>Object.keys(u).length===i.length?Ct(u):rs.E))}(n._resolve,n,e,r).pipe((0,Tt.U)(u=>(n._resolvedData=u,n.data=gt(gt({},n.data),nc(n,t).resolve),null)))}(m.route,r,n,e)),(0,en.b)(()=>u++),Yl(1),(0,Ar.z)(m=>u===i.length?Ct(t):rs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,en.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,en.b)(w=>{const S=new Xd(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}))}),Fn(y=>{const{targetSnapshot:w,id:S,extractedUrl:k,rawUrl:P,extras:{skipLocationChange:j,replaceUrl:$}}=y;return this.hooks.afterPreactivation(w,{navigationId:S,appliedUrlTree:k,rawUrlTree:P,skipLocationChange:!!j,replaceUrl:!!$})}),(0,Tt.U)(y=>{const w=function(n,e,t){const r=pd(n,e._root,t?t._root:void 0);return new hd(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return no(gt({},y),{targetRouterState:w})}),(0,en.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,Tt.U)(r=>(new Iu(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,en.b)({next(){u=!0},complete(){u=!0}}),Ft(()=>{var y;u||m||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(y=this.currentNavigation)?void 0:y.id)===i.id&&(this.currentNavigation=null)}),Oi(y=>{if(m=!0,function(n){return n&&n[Ra]}(y)){const w=oc(y.url);w||(this.navigated=!0,this.restoreHistory(i,!0));const S=new k1(i.id,this.serializeUrl(i.extractedUrl),y.message);r.next(S),w?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),P={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Js(i.source)};this.scheduleNavigation(k,"imperative",null,P,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const w=new Jl(i.id,this.serializeUrl(i.extractedUrl),y);r.next(w);try{i.resolve(this.errorHandler(y))}catch(S){i.reject(S)}}return rs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(gt(gt({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var y;const i={replaceUrl:!0},u=(null==(y=t.state)?void 0:y.navigationId)?t.state:null;if(u){const w=gt({},u);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(i.state=w)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){uh(t),this.config=t.map(pl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:m,queryParamsHandling:y,preserveFragment:w}=r,S=i||this.routerState.root,k=w?this.currentUrlTree.fragment:m;let P=null;switch(y){case"merge":P=gt(gt({},this.currentUrlTree.queryParams),u);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=u||null}return null!==P&&(P=this.removeEmptyProps(P)),function(n,e,t,r,i){if(0===t.length)return ea(e.root,e.root,e,r,i);const u=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ic(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,m)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return lt(u.outlets,(w,S)=>{y[S]="string"==typeof w?w.split("/"):w}),[...i,{outlets:y}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===m?(u.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?t=!0:".."===y?e++:""!=y&&i.push(y))}),i):[...i,u]},[]);return new ic(t,e,r)}(t);if(u.toRoot())return ea(e.root,new bn([],{}),e,r,i);const m=function(n,e,t){if(n.isAbsolute)return new md(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new md(u,u===e.root,0)}const r=zc(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new md(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),y=m.processChildren?fl(m.segmentGroup,m.index,u.commands):oh(m.segmentGroup,m.index,u.commands);return ea(m.segmentGroup,y,e,r,i)}(S,this.currentUrlTree,t,P,null!=k?k:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=oc(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?gt({},Qs):!1===r?gt({},Vu):r,oc(t))return vn(this.currentUrlTree,t,i);const u=this.parseUrl(t);return vn(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ss(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,m){var Ke,ft,At;if(this.disposed)return Promise.resolve(!1);const y=this.transitions.value,w=Js(r)&&y&&!Js(y.source),S=y.rawUrl.toString()===t.toString(),k=y.id===(null==(Ke=this.currentNavigation)?void 0:Ke.id);if(w&&S&&k)return Promise.resolve(!0);let j,$,K;m?(j=m.resolve,$=m.reject,K=m.promise):K=new Promise((ct,hn)=>{j=ct,$=hn});const ve=++this.navigationId;let Ie;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Ie=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!=(ft=this.browserPageId)?ft:0:(null!=(At=this.browserPageId)?At:0)+1):Ie=0,this.setTransition({id:ve,targetPageId:Ie,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:j,reject:$,promise:K,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),K.catch(ct=>Promise.reject(ct))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=gt(gt({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===m?this.currentUrlTree===(null==(u=this.currentNavigation)?void 0:u.finalUrl)&&0===m&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new k1(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Js(n){return"imperative"!==n}let Fr=(()=>{class n{constructor(t,r,i,u,m){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=m,this.commands=null,this.onChanges=new Zt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Xs(this.skipLocationChange),replaceUrl:Xs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xs(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(wr),h.Y36(yi),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();function Xs(n){return""===n||!!n}class Vi{}class fh{preload(e,t){return Ct(null)}}let yf=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new kr(i,r,w=>t.triggerEvent(new Is(w)),w=>t.triggerEvent(new po(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(tr(t=>t instanceof ss),Pi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const m=u._loadedConfig;i.push(this.processRoutes(m.module,m.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,In.D)(i).pipe((0,Pn.J)(),(0,Tt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ct(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ar.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wr),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Vi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Qp=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ss&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Li&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Li(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const bd=new h.OlP("ROUTER_CONFIGURATION"),Jp=new h.OlP("ROUTER_FORROOT_GUARD"),Xp=[$e,{provide:e2,useClass:ec},{provide:wr,useFactory:function(n,e,t,r,i,u,m={},y,w){const S=new wr(null,n,e,t,r,i,he(u));return y&&(S.urlHandlingStrategy=y),w&&(S.routeReuseStrategy=w),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(m,S),m.enableTracing&&S.events.subscribe(k=>{var P,j;null==(P=console.group)||P.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null==(j=console.groupEnd)||j.call(console)}),S},deps:[e2,ac,$e,h.zs3,h.Sil,cs,bd,[class{},new h.FiY],[class{},new h.FiY]]},ac,{provide:yi,useFactory:function(n){return n.routerState.root},deps:[wr]},yf,fh,class{preload(e,t){return t().pipe(Oi(()=>Ct(null)))}},{provide:bd,useValue:{enableTracing:!1}}];function Gm(){return new h.PXZ("Router",wr)}let p2=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Xp,t5(t),{provide:Jp,useFactory:e5,deps:[[wr,new h.FiY,new h.tp0]]},{provide:bd,useValue:r||{}},{provide:_e,useFactory:qm,deps:[be,[new h.tBr(Ee),new h.FiY],bd]},{provide:Qp,useFactory:g4,deps:[wr,b1,bd]},{provide:Vi,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:fh},{provide:h.PXZ,multi:!0,useFactory:Gm},[v4,{provide:h.ip1,multi:!0,useFactory:Vy,deps:[v4]},{provide:r5,useFactory:Hy,deps:[v4]},{provide:h.tb,multi:!0,useExisting:r5}]]}}static forChild(t){return{ngModule:n,providers:[t5(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Jp,8),h.LFG(wr,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function g4(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Qp(n,e,t)}function qm(n,e,t={}){return t.useHash?new De(n,e):new Oe(n,e)}function e5(n){return"guarded"}function t5(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:cs,multi:!0,useValue:n}]}let v4=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zt.x}appInitializer(){return this.injector.get(J,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(y=>r=y),u=this.injector.get(wr),m=this.injector.get(bd);return"disabled"===m.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Ct(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(bd),i=this.injector.get(yf),u=this.injector.get(Qp),m=this.injector.get(wr),y=this.injector.get(h.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&m.initialNavigation(),i.setUpPreloading(),u.init(),m.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Vy(n){return n.appInitializer.bind(n)}function Hy(n){return n.bootstrapListener.bind(n)}const r5=new h.OlP("Router Initializer"),Cf_firebase={apiKey:"AIzaSyDAMEVEbP8bqTTCSLOpk5kpAzxFyuhRZsw",authDomain:"ng-blog-a37b1.firebaseapp.com",projectId:"ng-blog-a37b1",storageBucket:"ng-blog-a37b1.appspot.com",messagingSenderId:"518744891804",appId:"1:518744891804:web:578b1dd84bb430a8b5e859",measurementId:"G-V974F4SXCX"},Cf_userid="3lYNtZAdPlUzC8J4zY0OZjeln0y2";var ph=V(7892),_4=V(3719),wf=V(4763),Uy=V(1733);class $m extends Zt.x{constructor(e=1/0,t=1/0,r=Uy.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:m}=this;t||(r.push(e),!i&&r.push(u.now()+m)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let m=0;m<u.length&&!e.closed;m+=r?1:2)e.next(u[m]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const m=t.now();let y=0;for(let w=1;w<r.length&&r[w]<=m;w+=2)y=w;y&&r.splice(0,y+1)}}}var cc=V(3174);function Wm(n,e,t){var r,i;let u,m=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,m=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,cc.B)({connector:()=>new $m(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:m})}function o5(n,e){return(0,Nn.m)(e)?si(()=>n,e):si(()=>n)}var a5=V(5222),jr=V(7233),na=V(7905);V(7713);var Ne=V(8239),Z1=V(1572),za=V(1177),jt=V(4213),jc=V(3855);const b4=new Map,VM={activated:!1,tokenObservers:[]},Ky={initialized:!1,enabled:!1};function us(n){return b4.get(n)||VM}function K1(n,e){b4.set(n,e)}function C4(){return Ky}class BM{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new jt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Va=new jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qy(n){if(!us(n).activated)throw Va.create("use-before-activation",{appName:n.name})}function ng(n,e){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,Ne.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(e),headers:r};let m,y;try{m=yield fetch(n,u)}catch(P){throw Va.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==m.status)throw Va.create("fetch-status-error",{httpStatus:m.status});try{y=yield m.json()}catch(P){throw Va.create("fetch-parse-error",{originalErrorMessage:P.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Va.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const S=1e3*Number(w[1]),k=Date.now();return{token:y.attestationToken,expireTimeMillis:k+S,issuedAtTimeMillis:k}})).apply(this,arguments)}function rg(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const m2="firebase-app-check-store";let Gc=null;function h5(){return Gc||(Gc=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Va.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(m2,{keyPath:"compositeKey"})}}catch(t){e(Va.create("storage-open",{originalErrorMessage:t.message}))}}),Gc)}function p5(){return(p5=(0,Ne.Z)(function*(n,e){const r=(yield h5()).transaction(m2,"readwrite"),u=r.objectStore(m2).put({compositeKey:n,value:e});return new Promise((m,y)=>{u.onsuccess=w=>{m()},r.onerror=w=>{var S;y(Va.create("storage-set",{originalErrorMessage:null===(S=w.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Q1=new jc.Yd("@firebase/app-check");function lg(n,e){return(0,jt.hl)()?function(n,e){return function(n,e){return p5.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Q1.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function S4(){return C4().enabled}function T4(){return I4.apply(this,arguments)}function I4(){return(I4=(0,Ne.Z)(function*(){const n=C4();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tb={error:"UNKNOWN_ERROR"};function ug(n){return jt.US.encodeString(JSON.stringify(n),!1)}function m5(n){return D4.apply(this,arguments)}function D4(){return(D4=(0,Ne.Z)(function*(n,e=!1){const t=n.app;Qy(t);const r=us(t);let u,i=r.token;if(!i){const w=yield r.cachedTokenPromise;w&&yo(w)&&(i=w)}if(!e&&i&&yo(i))return{token:i.token};let y,m=!1;if(S4()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ng(rg(t,yield T4()),n.platformLoggerProvider).then(S=>(r.exchangeTokenPromise=void 0,S)),m=!0);const w=yield r.exchangeTokenPromise;return yield lg(t,w),K1(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),m=!0),i=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Q1.warn(w.message):Q1.error(w),u=w}return i?(y={token:i.token},K1(t,Object.assign(Object.assign({},r),{token:i})),yield lg(t,i)):y=rb(u),m&&dg(t,y),y})).apply(this,arguments)}function g5(n,e){const t=us(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),K1(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function v5(n){const{app:e}=n,t=us(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new BM((0,Ne.Z)(function*(){let r;if(r=us(e).token?yield m5(n,!0):yield m5(n),r.error)throw r.error}),()=>!0,()=>{const t=us(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),K1(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function dg(n,e){const t=us(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function yo(n){return n.expireTimeMillis-Date.now()>0}function rb(n){return{token:ug(tb),error:n}}class ib{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=us(this.app);for(const t of e)g5(this.app,t.next);return Promise.resolve()}}const N4="app-check-internal";(0,Z1._registerComponent)(new za.wA("app-check",n=>function(n,e){return new ib(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(N4).initialize()})),(0,Z1._registerComponent)(new za.wA(N4,n=>function(n){return{getToken:e=>m5(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,u=us(i),m={next:t,error:r,type:e};if(K1(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,m]})),u.token&&yo(u.token)){const y=u.token;Promise.resolve().then(()=>{t({token:y.token}),v5(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>v5(n))}(n,"INTERNAL",e),removeTokenListener:e=>g5(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Z1.registerVersion)("@firebase/app-check","0.5.3");class vh{constructor(){return(0,jr.vb)("app-check")}}"undefined"!=typeof window&&window;const Cg=new h.OlP("angularfire2.auth.use-emulator"),wg=new h.OlP("angularfire2.auth.settings"),_b=new h.OlP("angularfire2.auth.tenant-id"),_h=new h.OlP("angularfire2.auth.langugage-code"),S5=new h.OlP("angularfire2.auth.use-device-language"),yh=new h.OlP("angularfire.auth.persistence"),bh=(n,e,t,r,i,u,m,y)=>(0,na.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=i,u&&w.useDeviceLanguage(),m)for(const[S,k]of Object.entries(m))w.settings[S]=k;return y&&w.setPersistence(y),w},[t,r,i,u,m,y]);let P4=(()=>{class n{constructor(t,r,i,u,m,y,w,S,k,P,j,$){const K=new Zt.x,ve=Ct(void 0).pipe((0,wf.Q)(m.outsideAngular),si(()=>u.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,1171)))),(0,Tt.U)(()=>(0,na.on)(t,u,r)),(0,Tt.U)(Ie=>bh(Ie,u,y,S,k,P,w,j)),Wm({bufferSize:1,refCount:!1}));if(Tn(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{ve.pipe(is()).subscribe();const Ke=ve.pipe(si(ct=>ct.getRedirectResult().then(hn=>hn,()=>null)),jr.iC,Wm({bufferSize:1,refCount:!1})),ft=ve.pipe(si(ct=>new Mn.y(hn=>({unsubscribe:u.runOutsideAngular(()=>ct.onAuthStateChanged(kn=>hn.next(kn),kn=>hn.error(kn),()=>hn.complete()))})))),At=ve.pipe(si(ct=>new Mn.y(hn=>({unsubscribe:u.runOutsideAngular(()=>ct.onIdTokenChanged(kn=>hn.next(kn),kn=>hn.error(kn),()=>hn.complete()))}))));this.authState=Ke.pipe(o5(ft),(0,a5.R)(m.outsideAngular),(0,wf.Q)(m.insideAngular)),this.user=Ke.pipe(o5(At),(0,a5.R)(m.outsideAngular),(0,wf.Q)(m.insideAngular)),this.idToken=this.user.pipe(si(ct=>ct?(0,In.D)(ct.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(si(ct=>ct?(0,In.D)(ct.getIdTokenResult()):Ct(null))),this.credential=(0,_4.T)(Ke,K,this.authState.pipe(tr(ct=>!ct))).pipe((0,Tt.U)(ct=>(null==ct?void 0:ct.user)?ct:null),(0,a5.R)(m.outsideAngular),(0,wf.Q)(m.insideAngular))}return(0,na.pX)(this,ve,u,{spy:{apply:(Ie,Ke,ft)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&ft.then(At=>K.next(At))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(na.Dh),h.LFG(na.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(jr.HU),h.LFG(Cg,8),h.LFG(wg,8),h.LFG(_b,8),h.LFG(_h,8),h.LFG(S5,8),h.LFG(yh,8),h.LFG(vh,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),T5=(()=>{class n{constructor(){ph.Z.registerVersion("angularfire",jr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[P4]}),n})(),g2=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r,this.authState=null,this.afAuth.authState.subscribe(i=>this.authState=i)}get authenticated(){return null!==this.authState}get currentUserId(){return this.authenticated?this.authState.uid:null}login(){this.afAuth.setPersistence(ph.Z.auth.Auth.Persistence.SESSION).then(()=>this.afAuth.signInWithPopup(new ph.Z.auth.GoogleAuthProvider))}logout(){this.afAuth.signOut(),this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wr),h.LFG(P4))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ng(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var V4=V(2210);function Og(n,e=V4.z){return(0,_i.e)((t,r)=>{let i=null,u=null,m=null;const y=()=>{if(i){i.unsubscribe(),i=null;const S=u;u=null,r.next(S)}};function w(){const S=m+n,k=e.now();if(k<S)return i=this.schedule(void 0,S-k),void r.add(i);y()}t.subscribe(new cr.Q(r,S=>{u=S,m=e.now(),i||(i=e.schedule(w,n),r.add(i))},()=>{y(),r.complete()},void 0,()=>{u=i=null}))})}function k5(n,e=Da.y){return n=null!=n?n:R5,(0,_i.e)((t,r)=>{let i,u=!0;t.subscribe(new cr.Q(r,m=>{const y=e(m);(u||!n(i,y))&&(u=!1,i=y,r.next(m))}))})}function R5(n,e){return n===e}var N5=V(6921);function xh(n){return(0,_i.e)((e,t)=>{(0,Ko.Xf)(n).subscribe(new cr.Q(t,()=>t.complete(),N5.Z)),!t.closed&&e.subscribe(t)})}function Ha(n){return null!=n&&"false"!=`${n}`}function Pg(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Lg(n){return Array.isArray(n)?n:[n]}function Ci(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Td(n){return n instanceof h.SBq?n.nativeElement:n}let Id;try{Id="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Id=!1}let Sh,Ba=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===ed}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Id)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const O5=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Lf(){if(Sh)return Sh;if("object"!=typeof document||!document)return Sh=new Set(O5),Sh;let n=document.createElement("input");return Sh=new Set(O5.filter(e=>(n.setAttribute("type",e),n.type===e))),Sh}let Ff,v2,j4,X1;function B4(n){return function(){if(null==Ff&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ff=!0}))}finally{Ff=Ff||!1}return Ff}()?n:!!n.capture}function uC(){if(null==v2){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return v2=!1,v2;if("scrollBehavior"in document.documentElement.style)v2=!0;else{const n=Element.prototype.scrollTo;v2=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return v2}function G4(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Uu(n){return n.composedPath?n.composedPath()[0]:n.target}function zf(){return void 0!==X1.__karma__&&!!X1.__karma__||void 0!==X1.jasmine&&!!X1.jasmine||void 0!==X1.jest&&!!X1.jest||void 0!==X1.Mocha&&!!X1.Mocha}X1="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};class jg extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Zt.x,this._typeaheadSubscription=ws.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Zt.x,this.change=new Zt.x,e instanceof h.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,en.b)(t=>this._pressedLetters.push(t)),Og(e),tr(()=>this._pressedLetters.length>0),(0,Tt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const u=(this._activeItemIndex+i)%r.length,m=r[u];if(!this._skipPredicateFn(m)&&0===m.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(u);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(u=>!e[u]||this._allowedModifierKeys.indexOf(u)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||Ng(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof h.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let V5=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Wg(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),u=Wg(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==u:"video"===i?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||G5(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ba))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G5(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Wg(n){if(!G5(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class $4{constructor(e,t,r,i,u=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Ni.q)(1)).subscribe(e)}}let Yg=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new $4(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(V5),h.LFG(h.R0b),h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $5(n){return 0===n.offsetX&&0===n.offsetY}function bC(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const CC=new h.OlP("cdk-input-modality-detector-options"),wC={ignoreKeys:[18,17,224,91,16]},Th=B4({passive:!0,capture:!0});let ds=(()=>{class n{constructor(t,r,i,u){this._platform=t,this._mostRecentTarget=null,this._modality=new Dr(null),this._lastTouchMs=0,this._onKeydown=m=>{var y,w;(null==(w=null==(y=this._options)?void 0:y.ignoreKeys)?void 0:w.some(S=>S===m.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Uu(m))},this._onMousedown=m=>{Date.now()-this._lastTouchMs<650||(this._modality.next($5(m)?"keyboard":"mouse"),this._mostRecentTarget=Uu(m))},this._onTouchstart=m=>{bC(m)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Uu(m))},this._options=gt(gt({},wC),u),this.modalityDetected=this._modality.pipe(tr((e,t)=>1<=t)),this.modalityChanged=this.modalityDetected.pipe(k5()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Th),i.addEventListener("mousedown",this._onMousedown,Th),i.addEventListener("touchstart",this._onTouchstart,Th)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Th),document.removeEventListener("mousedown",this._onMousedown,Th),document.removeEventListener("touchstart",this._onTouchstart,Th))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ba),h.LFG(h.R0b),h.LFG(le),h.LFG(CC,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qg=new h.OlP("cdk-focus-monitor-default-options"),Vf=B4({passive:!0,capture:!0});let Md=(()=>{class n{constructor(t,r,i,u,m){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Zt.x,this._rootNodeFocusAndBlurListener=y=>{const w=Uu(y),S="focus"===y.type?this._onFocus:this._onBlur;for(let k=w;k;k=k.parentElement)S.call(this,y,k)},this._document=u,this._detectionMode=(null==m?void 0:m.detectionMode)||0}monitor(t,r=!1){const i=Td(t);if(!this._platform.isBrowser||1!==i.nodeType)return Ct(null);const u=function(n){if(function(){if(null==j4){const n="undefined"!=typeof document?document.head:null;j4=!(!n||!n.createShadowRoot&&!n.attachShadow)}return j4}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),m=this._elementInfo.get(i);if(m)return r&&(m.checkChildren=!0),m.subject;const y={checkChildren:r,subject:new Zt.x,rootNode:u};return this._elementInfo.set(i,y),this._registerGlobalListeners(y),y.subject}stopMonitoring(t){const r=Td(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const u=Td(t);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([y,w])=>this._originChanged(y,r,w)):(this._setOrigin(r),"function"==typeof u.focus&&u.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),u=Uu(t);!i||!i.checkChildren&&r!==u||this._originChanged(r,this._getFocusOrigin(u),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vf)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(xh(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,u)=>{(u===t||i.checkChildren&&u.contains(t))&&r.push([u,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(Ba),h.LFG(ds),h.LFG(le,8),h.LFG(Qg,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jg="cdk-high-contrast-black-on-white",Z5="cdk-high-contrast-white-on-black",K5="cdk-high-contrast-active";let Xg=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,u=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(K5),t.remove(Jg),t.remove(Z5),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(K5),t.add(Jg)):2===r&&(t.add(K5),t.add(Z5))}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ba),h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y5=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,h.f3M)(le)}});let _l=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new h.vpe,t){const i=t.documentElement?t.documentElement.dir:null,u=(t.body?t.body.dir:null)||i;this.value="ltr"===u||"rtl"===u?u:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Y5,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Wc=new h.GfV("13.0.0");class uc{}const eu="*";function Bf(n,e){return{type:7,name:n,definitions:e,options:{}}}function Uf(n,e=null){return{type:4,styles:e,timings:n}}function e7(n,e=null){return{type:2,steps:n,options:e}}function dc(n){return{type:6,styles:n,offset:null}}function ju(n,e,t){return{type:0,name:n,styles:e,options:t}}function jf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function t7(n){Promise.resolve(null).then(n)}class _2{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){t7(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class X5{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?t7(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++t==u&&this._onFinish()}),m.onDestroy(()=>{++r==u&&this._onDestroy()}),m.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((m,y)=>Math.max(m,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function qf(){return"undefined"!=typeof window&&void 0!==window.document}function Z4(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gu(n){switch(n.length){case 0:return new _2;case 1:return n[0];default:return new X5(n)}}function e6(n,e,t,r,i={},u={}){const m=[],y=[];let w=-1,S=null;if(r.forEach(k=>{const P=k.offset,j=P==w,$=j&&S||{};Object.keys(k).forEach(K=>{let ve=K,Ie=k[K];if("offset"!==K)switch(ve=e.normalizePropertyName(ve,m),Ie){case"!":Ie=i[K];break;case eu:Ie=u[K];break;default:Ie=e.normalizeStyleValue(K,ve,Ie,m)}$[ve]=Ie}),j||y.push($),S=$,w=P}),m.length){const k="\n - ";throw new Error(`Unable to animate due to the following errors:${k}${m.join(k)}`)}return y}function K4(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Y4(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Y4(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Y4(t,"destroy",n)))}}function Y4(n,e,t){const r=t.totalTime,u=Q4(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),m=n._data;return null!=m&&(u._data=m),u}function Q4(n,e,t,r,i="",u=0,m){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!m}}function Ua(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function t6(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let J4=(n,e)=>!1,n6=(n,e)=>!1,n7=(n,e,t)=>[];const r7=Z4();(r7||"undefined"!=typeof Element)&&(J4=qf()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),n6=(()=>{if(r7||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):n6}})(),n7=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let u=0;u<i.length;u++)r.push(i[u])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let y2=null,i7=!1;function r6(n){y2||(y2=("undefined"!=typeof document?document.body:null)||{},i7=!!y2.style&&"WebkitAppearance"in y2.style);let e=!0;return y2.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in y2.style,!e&&i7&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in y2.style)),e}const i6=n6,s6=J4,o6=n7;function s7(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let o7=(()=>{class n{validateStyleProperty(t){return r6(t)}matchesElement(t,r){return i6(t,r)}containsElement(t,r){return s6(t,r)}query(t,r,i){return o6(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,m,y=[],w){return new _2(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),a6=(()=>{class n{}return n.NOOP=new o7,n})();const X4="ng-enter",$f="ng-leave",Wf="ng-trigger",Zf=".ng-trigger",l6="ng-animating",e0=".ng-animating";function Dd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Kf(parseFloat(e[1]),e[2])}function Kf(n,e){return"s"===e?1e3*n:n}function Ih(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,u=0,m="";if("string"==typeof n){const y=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=Kf(parseFloat(y[1]),y[2]);const w=y[3];null!=w&&(u=Kf(parseFloat(w),y[4]));const S=y[5];S&&(m=S)}else i=n;if(!t){let y=!1,w=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),y=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),y=!0),y&&e.splice(w,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:u,easing:m}}(n,e,t)}function Mh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function yl(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Mh(n,t);return t}function PC(n,e,t){return t?e+":"+t+";":""}function t0(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=PC(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=PC(0,o0(t),n.style[t]));n.setAttribute("style",e)}function qu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=c6(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Z4()&&t0(n))}function Ad(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=c6(t);n.style[r]=""}),Z4()&&t0(n))}function Dh(n){return Array.isArray(n)?1==n.length?n[0]:e7(n):n}const Ut=new RegExp("{{\\s*(.+?)\\s*}}","g");function c7(n){let e=[];if("string"==typeof n){let t;for(;t=Ut.exec(n);)e.push(t[1]);Ut.lastIndex=0}return e}function n0(n,e,t){const r=n.toString(),i=r.replace(Ut,(u,m)=>{let y=e[m];return e.hasOwnProperty(m)||(t.push(`Please provide a value for the animation param ${m}`),y=""),y.toString()});return i==r?n:i}function r0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const s0=/-+([a-z0-9])/g;function c6(n){return n.replace(s0,(...e)=>e[1].toUpperCase())}function o0(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yf(n,e){return 0===n||0===e}function Jr(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],m=[];if(r.forEach(y=>{u.hasOwnProperty(y)||m.push(y),u[y]=t[y]}),m.length)for(var i=1;i<e.length;i++){let y=e[i];m.forEach(function(w){y[w]=a0(n,w)})}}return e}function hc(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function a0(n,e){return window.getComputedStyle(n)[e]}function LC(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const w=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof w)return void e.push(w);n=w}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],u=r[2],m=r[3];e.push(h7(i,m));"<"==u[0]&&!("*"==i&&"*"==m)&&e.push(h7(m,i))}(r,t,e)):t.push(n),t}const Qf=new Set(["true","1"]),Jf=new Set(["false","0"]);function h7(n,e){const t=Qf.has(n)||Jf.has(n),r=Qf.has(e)||Jf.has(e);return(i,u)=>{let m="*"==n||n==i,y="*"==e||e==u;return!m&&t&&"boolean"==typeof i&&(m=i?Qf.has(n):Jf.has(n)),!y&&r&&"boolean"==typeof u&&(y=u?Qf.has(e):Jf.has(e)),m&&y}}const FC=new RegExp("s*:selfs*,?","g");function C2(n,e,t){return new zC(n).build(e,t)}class zC{constructor(e){this._driver=e}build(e,t){const r=new m7(t);return this._resetContextStyleTimingState(r),hc(this,Dh(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],m=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(y=>{if(this._resetContextStyleTimingState(t),0==y.type){const w=y,S=w.name;S.toString().split(/\s*,\s*/).forEach(k=>{w.name=k,u.push(this.visitState(w,t))}),w.name=S}else if(1==y.type){const w=this.visitTransition(y,t);r+=w.queryCount,i+=w.depCount,m.push(w)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:m,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,m=i||{};if(r.styles.forEach(y=>{if(Xf(y)){const w=y;Object.keys(w).forEach(S=>{c7(w[S]).forEach(k=>{m.hasOwnProperty(k)||u.add(k)})})}}),u.size){const y=r0(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${y.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=hc(this,Dh(e.animation),t);return{type:1,matchers:LC(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Kc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>hc(this,r,t)),options:Kc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(m=>{t.currentTime=r;const y=hc(this,m,t);return i=Math.max(i,t.currentTime),y});return t.currentTime=i,{type:3,steps:u,options:Kc(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return w2(Ih(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=w2(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||Ih(r,e),w2(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:dc({});if(5==u.type)i=this.visitKeyframes(u,t);else{let m=e.styles,y=!1;if(!m){y=!0;const S={};r.easing&&(S.easing=r.easing),m=dc(S)}t.currentTime+=r.duration+r.delay;const w=this.visitStyle(m,t);w.isEmptyStep=y,i=w}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(m=>{"string"==typeof m?m==eu?r.push(m):t.errors.push(`The provided style string value ${m} is not allowed.`):r.push(m)}):r.push(e.styles);let i=!1,u=null;return r.forEach(m=>{if(Xf(m)){const y=m,w=y.easing;if(w&&(u=w,delete y.easing),!i)for(let S in y)if(y[S].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(y=>{if(!this._driver.validateStyleProperty(y))return void t.errors.push(`The provided animation property "${y}" is not a supported CSS property for animations`);const w=t.collectedStyles[t.currentQuerySelector],S=w[y];let k=!0;S&&(u!=i&&u>=S.startTime&&i<=S.endTime&&(t.errors.push(`The CSS property "${y}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${i}ms"`),k=!1),u=S.startTime),k&&(w[y]={startTime:u,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=c7(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(m[y],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let u=0;const m=[];let y=!1,w=!1,S=0;const k=e.steps.map(Ke=>{const ft=this._makeStyleAst(Ke,t);let At=null!=ft.offset?ft.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Xf(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Xf(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ft.styles),ct=0;return null!=At&&(u++,ct=ft.offset=At),w=w||ct<0||ct>1,y=y||ct<S,S=ct,m.push(ct),ft});w&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),y&&t.errors.push("Please ensure that all keyframe offsets are in order");const P=e.steps.length;let j=0;u>0&&u<P?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(j=1/(P-1));const $=P-1,K=t.currentTime,ve=t.currentAnimateTimings,Ie=ve.duration;return k.forEach((Ke,ft)=>{const At=j>0?ft==$?1:j*ft:m[ft],ct=At*Ie;t.currentTime=K+ve.delay+ct,ve.duration=ct,this._validateStyleAst(Ke,t),Ke.offset=At,r.styles.push(Ke)}),r}visitReference(e,t){return{type:8,animation:hc(this,Dh(e.animation),t),options:Kc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Kc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Kc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,m]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(FC,"")),n=n.replace(/@\*/g,Zf).replace(/@\w+/g,t=>Zf+"-"+t.substr(1)).replace(/:animating/g,e0),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Ua(t.collectedStyles,t.currentQuerySelector,{});const y=hc(this,Dh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:m,animation:y,originalSelector:e.selector,options:Kc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ih(e.timings,t.errors,!0);return{type:12,animation:hc(this,Dh(e.animation),t),timings:r,options:null}}}class m7{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Xf(n){return!Array.isArray(n)&&"object"==typeof n}function Kc(n){return n?(n=Mh(n)).params&&(n.params=function(n){return n?Mh(n):null}(n.params)):n={},n}function w2(n,e,t){return{duration:n,delay:e,easing:t}}function u6(n,e,t,r,i,u,m=null,y=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:m,subTimeline:y}}class u0{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _7=new RegExp(":enter","g"),UC=new RegExp(":leave","g");function d0(n,e,t,r,i,u={},m={},y,w,S=[]){return(new jC).buildKeyframes(n,e,t,r,i,u,m,y,w,S)}class jC{buildKeyframes(e,t,r,i,u,m,y,w,S,k=[]){S=S||new u0;const P=new b7(e,t,S,i,u,k,[]);P.options=w,P.currentTimeline.setStyles([m],null,P.errors,w),hc(this,r,P);const j=P.timelines.filter($=>$.containsAnimation());if(j.length&&Object.keys(y).length){const $=j[j.length-1];$.allowOnlyTimelineStyles()||$.setStyles([y],null,P.errors,w)}return j.length?j.map($=>$.buildKeyframes()):[u6(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,m=this._visitSubInstructions(r,i,i.options);u!=m&&t.transformIntoNewTimeline(m)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const m=null!=r.duration?Dd(r.duration):null,y=null!=r.delay?Dd(r.delay):null;return 0!==m&&e.forEach(w=>{const S=t.appendInstructionToTimeline(w,m,y);u=Math.max(u,S.duration+S.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),hc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=h0);const m=Dd(u.delay);i.delayNextStep(m)}e.steps.length&&(e.steps.forEach(m=>hc(this,m,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Dd(e.options.delay):0;e.steps.forEach(m=>{const y=t.createSubContext(e.options);u&&y.delayNextStep(u),hc(this,m,y),i=Math.max(i,y.currentTimeline.currentTime),r.push(y.currentTimeline)}),r.forEach(m=>t.currentTimeline.mergeTimelineCollectedStyles(m)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Ih(t.params?n0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,y=t.createSubContext().currentTimeline;y.easing=r.easing,e.styles.forEach(w=>{y.forwardTime((w.offset||0)*u),y.setStyles(w.styles,w.easing,t.errors,t.options),y.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(y),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Dd(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=h0);let m=r;const y=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=y.length;let w=null;y.forEach((S,k)=>{t.currentQueryIndex=k;const P=t.createSubContext(e.options,S);u&&P.delayNextStep(u),S===t.element&&(w=P.currentTimeline),hc(this,e.animation,P),P.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,P.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(m),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,m=Math.abs(u.duration),y=m*(t.currentQueryTotal-1);let w=m*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":w=y-w;break;case"full":w=r.currentStaggerTime}const k=t.currentTimeline;w&&k.delayNextStep(w);const P=k.currentTime;hc(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-P+(i.startTime-r.currentTimeline.startTime)}}const h0={};class b7{constructor(e,t,r,i,u,m,y,w){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=m,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=h0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new d6(this._driver,t,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Dd(r.duration)),null!=r.delay&&(i.delay=Dd(r.delay));const u=r.params;if(u){let m=i.params;m||(m=this.options.params={}),Object.keys(u).forEach(y=>{(!t||!m.hasOwnProperty(y))&&(m[y]=n0(u[y],m,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new b7(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=h0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new GD(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,m){let y=[];if(i&&y.push(this.element),e.length>0){e=(e=e.replace(_7,"."+this._enterClassName)).replace(UC,"."+this._leaveClassName);let S=this._driver.query(this.element,e,1!=r);0!==r&&(S=r<0?S.slice(S.length+r,S.length):S.slice(0,r)),y.push(...S)}return!u&&0==y.length&&m.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),y}}class d6{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new d6(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||eu,this._currentKeyframe[t]=eu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const u=i&&i.params||{},m=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(u=>{t[u]=eu})):yl(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(m).forEach(y=>{const w=n0(m[y],u,r);this._pendingStyles[y]=w,this._localTimelineStyles.hasOwnProperty(y)||(this._backFill[y]=this._globalTimelineStyles.hasOwnProperty(y)?this._globalTimelineStyles[y]:eu),this._updateStyle(y,w)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((y,w)=>{const S=yl(y,!0);Object.keys(S).forEach(k=>{const P=S[k];"!"==P?e.add(k):P==eu&&t.add(k)}),r||(S.offset=w/this.duration),i.push(S)});const u=e.size?r0(e.values()):[],m=t.size?r0(t.values()):[];if(r){const y=i[0],w=Mh(y);y.offset=0,w.offset=1,i=[y,w]}return u6(this.element,i,u,m,this.duration,this.startTime,this.easing,!1)}}class GD extends d6{constructor(e,t,r,i,u,m,y=!1){super(e,t,m.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=y,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],m=r+t,y=t/m,w=yl(e[0],!1);w.offset=0,u.push(w);const S=yl(e[0],!1);S.offset=GC(y),u.push(S);const k=e.length-1;for(let P=1;P<=k;P++){let j=yl(e[P],!1);j.offset=GC((t+j.offset*r)/m),u.push(j)}r=m,t=0,i="",e=u}return u6(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function GC(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class f6{}class w7 extends f6{normalizePropertyName(e,t){return c6(e)}normalizeStyleValue(e,t,r,i){let u="";const m=r.toString().trim();if(e3[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const y=r.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return m+u}}const e3=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function E7(n,e,t,r,i,u,m,y,w,S,k,P,j){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:m,timelines:y,queriedElements:w,preStyleProps:S,postStyleProps:k,totalTime:P,errors:j}}const p6={};class x7{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],u=this._stateStyles[e],m=i?i.buildStyles(t,r):{};return u?u.buildStyles(t,r):m}build(e,t,r,i,u,m,y,w,S,k){const P=[],j=this.ast.options&&this.ast.options.params||p6,K=this.buildStyles(r,y&&y.params||p6,P),ve=w&&w.params||p6,Ie=this.buildStyles(i,ve,P),Ke=new Set,ft=new Map,At=new Map,ct="void"===i,hn={params:gt(gt({},j),ve)},kn=k?[]:d0(e,t,this.ast.animation,u,m,K,Ie,hn,S,P);let zr=0;if(kn.forEach(kl=>{zr=Math.max(kl.duration+kl.delay,zr)}),P.length)return E7(t,this._triggerName,r,i,ct,K,Ie,[],[],ft,At,zr,P);kn.forEach(kl=>{const bc=kl.element,AF=Ua(ft,bc,{});kl.preStyleProps.forEach(h4=>AF[h4]=!0);const Um=Ua(At,bc,{});kl.postStyleProps.forEach(h4=>Um[h4]=!0),bc!==t&&Ke.add(bc)});const pa=r0(Ke.values());return E7(t,this._triggerName,r,i,ct,K,Ie,kn,pa,ft,At,zr)}}class S7{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Mh(this.defaultParams);return Object.keys(e).forEach(u=>{const m=e[u];null!=m&&(i[u]=m)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const m=u;Object.keys(m).forEach(y=>{let w=m[y];w.length>1&&(w=n0(w,i,t));const S=this.normalizer.normalizePropertyName(y,t);w=this.normalizer.normalizeStyleValue(y,S,w,t),r[S]=w})}}),r}}class ZC{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new S7(i.style,i.options&&i.options.params||{},r)}),T7(this.states,"true","1"),T7(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new x7(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new x7(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,y)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(m=>m.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function T7(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const I7=new u0;class KC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=C2(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,u=e6(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations[e];let m;const y=new Map;if(u?(m=d0(this._driver,t,u,X4,$f,{},{},r,I7,i),m.forEach(k=>{const P=Ua(y,k.element,{});k.postStyleProps.forEach(j=>P[j]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),m=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);y.forEach((k,P)=>{Object.keys(k).forEach(j=>{k[j]=this._driver.computeStyle(P,j,eu)})});const S=Gu(m.map(k=>{const P=y.get(k.element);return this._buildPlayer(k,{},P)}));return this._playersById[e]=S,S.onDestroy(()=>this.destroy(e)),this.players.push(S),S}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const u=Q4(t,"","","");return K4(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const m6="ng-animate-queued",g6="ng-animate-disabled",M7=".ng-animate-disabled",D7=[],_6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fc="__ng_removed";class y6{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const u=Mh(e);delete u.value,this.options=u}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const E2="void",b6=new y6(E2);class A7{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,pc(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const u=Ua(this._elementListeners,e,[]),m={name:t,phase:r,callback:i};u.push(m);const y=Ua(this._engine.statesByElement,e,{});return y.hasOwnProperty(t)||(pc(e,Wf),pc(e,Wf+"-"+t),y[t]=b6),()=>{this._engine.afterFlush(()=>{const w=u.indexOf(m);w>=0&&u.splice(w,1),this._triggers[t]||delete y[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),m=new C6(this.id,t,e);let y=this._engine.statesByElement.get(e);y||(pc(e,Wf),pc(e,Wf+"-"+t),this._engine.statesByElement.set(e,y={}));let w=y[t];const S=new y6(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&w&&S.absorbOptions(w.options),y[t]=S,w||(w=b6),S.value!==E2&&w.value===S.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(w.params,S.params)){const ve=[],Ie=u.matchStyles(w.value,w.params,ve),Ke=u.matchStyles(S.value,S.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{Ad(e,Ie),qu(e,Ke)})}return}const j=Ua(this._engine.playersByElement,e,[]);j.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==t&&ve.queued&&ve.destroy()});let $=u.matchTransition(w.value,S.value,e,S.params),K=!1;if(!$){if(!i)return;$=u.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:$,fromState:w,toState:S,player:m,isFallbackTransition:K}),K||(pc(e,m6),m.onStart(()=>{x2(e,m6)})),m.onDone(()=>{let ve=this.players.indexOf(m);ve>=0&&this.players.splice(ve,1);const Ie=this._engine.playersByElement.get(e);if(Ie){let Ke=Ie.indexOf(m);Ke>=0&&Ie.splice(Ke,1)}}),this.players.push(m),j.push(m),m}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Zf,!0);r.forEach(i=>{if(i[fc])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(m=>m.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e);if(u){const m=[];if(Object.keys(u).forEach(y=>{if(this._triggers[y]){const w=this.trigger(e,y,E2,i);w&&m.push(w)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Gu(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const m=u.name;if(i.has(m))return;i.add(m);const w=this._triggers[m].fallbackTransition,S=r[m]||b6,k=new y6(E2),P=new C6(this.id,m,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:m,transition:w,fromState:S,toState:k,player:P,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let m=e;for(;m=m.parentNode;)if(r.statesByElement.get(m)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[fc];(!u||u===_6)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){pc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,m=this._elementListeners.get(u);m&&m.forEach(y=>{if(y.name==r.triggerName){const w=Q4(u,r.triggerName,r.fromState.value,r.toState.value);w._data=e,K4(r.player,y.phase,w,y.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,m=i.transition.ast.depCount;return 0==u||0==m?u-m:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class XC{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new A7(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let u=r;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let u=0;u<i.length;u++){const m=r[i[u]].namespaceId;if(m){const y=this._fetchNamespace(m);y&&t.add(y)}}}return t}trigger(e,t,r,i){if(f0(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!f0(t))return;const u=t[fc];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const m=this.collectedLeaveElements.indexOf(t);m>=0&&this.collectedLeaveElements.splice(m,1)}if(e){const m=this._fetchNamespace(e);m&&m.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pc(e,g6)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),x2(e,g6))}removeNode(e,t,r,i){if(f0(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const m=this.namespacesByHostElement.get(t);m&&m.id!==e&&m.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[fc]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,u){return f0(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Zf,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,e0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[fc];if(t&&t.setForRemoval){if(e[fc]=_6,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,M7)&&this.markElementAsDisabled(e,!1),this.driver.query(e,M7,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)pc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Gu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new u0,i=[],u=new Map,m=[],y=new Map,w=new Map,S=new Map,k=new Set;this.disabledNodes.forEach(Nt=>{k.add(Nt);const qt=this.driver.query(Nt,".ng-animate-queued",!0);for(let fn=0;fn<qt.length;fn++)k.add(qt[fn])});const P=this.bodyNode,j=Array.from(this.statesByElement.keys()),$=w6(j,this.collectedEnterElements),K=new Map;let ve=0;$.forEach((Nt,qt)=>{const fn=X4+ve++;K.set(qt,fn),Nt.forEach(Kn=>pc(Kn,fn))});const Ie=[],Ke=new Set,ft=new Set;for(let Nt=0;Nt<this.collectedLeaveElements.length;Nt++){const qt=this.collectedLeaveElements[Nt],fn=qt[fc];fn&&fn.setForRemoval&&(Ie.push(qt),Ke.add(qt),fn.hasAnimation?this.driver.query(qt,".ng-star-inserted",!0).forEach(Kn=>Ke.add(Kn)):ft.add(qt))}const At=new Map,ct=w6(j,Array.from(Ke));ct.forEach((Nt,qt)=>{const fn=$f+ve++;At.set(qt,fn),Nt.forEach(Kn=>pc(Kn,fn))}),e.push(()=>{$.forEach((Nt,qt)=>{const fn=K.get(qt);Nt.forEach(Kn=>x2(Kn,fn))}),ct.forEach((Nt,qt)=>{const fn=At.get(qt);Nt.forEach(Kn=>x2(Kn,fn))}),Ie.forEach(Nt=>{this.processLeaveNode(Nt)})});const hn=[],kn=[];for(let Nt=this._namespaceList.length-1;Nt>=0;Nt--)this._namespaceList[Nt].drainQueuedTransitions(t).forEach(fn=>{const Kn=fn.player,Ro=fn.element;if(hn.push(Kn),this.collectedEnterElements.length){const Wd=Ro[fc];if(Wd&&Wd.setForMove)return void Kn.destroy()}const $d=!P||!this.driver.containsElement(P,Ro),c1=At.get(Ro),df=K.get(Ro),$i=this._buildInstruction(fn,r,df,c1,$d);if($i.errors&&$i.errors.length)kn.push($i);else{if($d)return Kn.onStart(()=>Ad(Ro,$i.fromStyles)),Kn.onDestroy(()=>qu(Ro,$i.toStyles)),void i.push(Kn);if(fn.isFallbackTransition)return Kn.onStart(()=>Ad(Ro,$i.fromStyles)),Kn.onDestroy(()=>qu(Ro,$i.toStyles)),void i.push(Kn);$i.timelines.forEach(Wd=>Wd.stretchStartingKeyframe=!0),r.append(Ro,$i.timelines),m.push({instruction:$i,player:Kn,element:Ro}),$i.queriedElements.forEach(Wd=>Ua(y,Wd,[]).push(Kn)),$i.preStyleProps.forEach((Wd,jm)=>{const Ly=Object.keys(Wd);if(Ly.length){let f4=w.get(jm);f4||w.set(jm,f4=new Set),Ly.forEach(LM=>f4.add(LM))}}),$i.postStyleProps.forEach((Wd,jm)=>{const Ly=Object.keys(Wd);let f4=S.get(jm);f4||S.set(jm,f4=new Set),Ly.forEach(LM=>f4.add(LM))})}});if(kn.length){const Nt=[];kn.forEach(qt=>{Nt.push(`@${qt.triggerName} has failed due to:\n`),qt.errors.forEach(fn=>Nt.push(`- ${fn}\n`))}),hn.forEach(qt=>qt.destroy()),this.reportError(Nt)}const zr=new Map,pa=new Map;m.forEach(Nt=>{const qt=Nt.element;r.has(qt)&&(pa.set(qt,qt),this._beforeAnimationBuild(Nt.player.namespaceId,Nt.instruction,zr))}),i.forEach(Nt=>{const qt=Nt.element;this._getPreviousPlayers(qt,!1,Nt.namespaceId,Nt.triggerName,null).forEach(Kn=>{Ua(zr,qt,[]).push(Kn),Kn.destroy()})});const kl=Ie.filter(Nt=>p0(Nt,w,S)),bc=new Map;R7(bc,this.driver,ft,S,eu).forEach(Nt=>{p0(Nt,w,S)&&kl.push(Nt)});const Um=new Map;$.forEach((Nt,qt)=>{R7(Um,this.driver,new Set(Nt),w,"!")}),kl.forEach(Nt=>{const qt=bc.get(Nt),fn=Um.get(Nt);bc.set(Nt,gt(gt({},qt),fn))});const h4=[],kF=[],RF={};m.forEach(Nt=>{const{element:qt,player:fn,instruction:Kn}=Nt;if(r.has(qt)){if(k.has(qt))return fn.onDestroy(()=>qu(qt,Kn.toStyles)),fn.disabled=!0,fn.overrideTotalTime(Kn.totalTime),void i.push(fn);let Ro=RF;if(pa.size>1){let c1=qt;const df=[];for(;c1=c1.parentNode;){const $i=pa.get(c1);if($i){Ro=$i;break}df.push(c1)}df.forEach($i=>pa.set($i,Ro))}const $d=this._buildAnimation(fn.namespaceId,Kn,zr,u,Um,bc);if(fn.setRealPlayer($d),Ro===RF)h4.push(fn);else{const c1=this.playersByElement.get(Ro);c1&&c1.length&&(fn.parentPlayer=Gu(c1)),i.push(fn)}}else Ad(qt,Kn.fromStyles),fn.onDestroy(()=>qu(qt,Kn.toStyles)),kF.push(fn),k.has(qt)&&i.push(fn)}),kF.forEach(Nt=>{const qt=u.get(Nt.element);if(qt&&qt.length){const fn=Gu(qt);Nt.setRealPlayer(fn)}}),i.forEach(Nt=>{Nt.parentPlayer?Nt.syncPlayerEvents(Nt.parentPlayer):Nt.destroy()});for(let Nt=0;Nt<Ie.length;Nt++){const qt=Ie[Nt],fn=qt[fc];if(x2(qt,$f),fn&&fn.hasAnimation)continue;let Kn=[];if(y.size){let $d=y.get(qt);$d&&$d.length&&Kn.push(...$d);let c1=this.driver.query(qt,e0,!0);for(let df=0;df<c1.length;df++){let $i=y.get(c1[df]);$i&&$i.length&&Kn.push(...$i)}}const Ro=Kn.filter($d=>!$d.destroyed);Ro.length?rw(this,qt,Ro):this.processLeaveNode(qt)}return Ie.length=0,h4.forEach(Nt=>{this.players.push(Nt),Nt.onDone(()=>{Nt.destroy();const qt=this.players.indexOf(Nt);this.players.splice(qt,1)}),Nt.play()}),h4}elementContainsData(e,t){let r=!1;const i=t[fc];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let m=[];if(t){const y=this.playersByQueriedElement.get(e);y&&(m=y)}else{const y=this.playersByElement.get(e);if(y){const w=!u||u==E2;y.forEach(S=>{S.queued||!w&&S.triggerName!=i||m.push(S)})}}return(r||i)&&(m=m.filter(y=>!(r&&r!=y.namespaceId||i&&i!=y.triggerName))),m}_beforeAnimationBuild(e,t,r){const u=t.element,m=t.isRemovalTransition?void 0:e,y=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const S=w.element,k=S!==u,P=Ua(r,S,[]);this._getPreviousPlayers(S,k,m,y,t.toState).forEach($=>{const K=$.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),$.destroy(),P.push($)})}Ad(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,m){const y=t.triggerName,w=t.element,S=[],k=new Set,P=new Set,j=t.timelines.map(K=>{const ve=K.element;k.add(ve);const Ie=ve[fc];if(Ie&&Ie.removedBeforeQueried)return new _2(K.duration,K.delay);const Ke=ve!==w,ft=function(n){const e=[];return N7(n,e),e}((r.get(ve)||D7).map(zr=>zr.getRealPlayer())).filter(zr=>!!zr.element&&zr.element===ve),At=u.get(ve),ct=m.get(ve),hn=e6(0,this._normalizer,0,K.keyframes,At,ct),kn=this._buildPlayer(K,hn,ft);if(K.subTimeline&&i&&P.add(ve),Ke){const zr=new C6(e,y,ve);zr.setRealPlayer(kn),S.push(zr)}return kn});S.forEach(K=>{Ua(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,K.element,K))}),k.forEach(K=>pc(K,l6));const $=Gu(j);return $.onDestroy(()=>{k.forEach(K=>x2(K,l6)),qu(w,t.toStyles)}),P.forEach(K=>{Ua(i,K,[]).push($)}),$}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _2(e.duration,e.delay)}}class C6{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new _2,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>K4(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ua(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function f0(n){return n&&1===n.nodeType}function k7(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function R7(n,e,t,r,i){const u=[];t.forEach(w=>u.push(k7(w)));const m=[];r.forEach((w,S)=>{const k={};w.forEach(P=>{const j=k[P]=e.computeStyle(S,P,i);(!j||0==j.length)&&(S[fc]=JC,m.push(S))}),n.set(S,k)});let y=0;return t.forEach(w=>k7(w,u[y++])),m}function w6(n,e){const t=new Map;if(n.forEach(y=>t.set(y,[])),0==e.length)return t;const i=new Set(e),u=new Map;function m(y){if(!y)return 1;let w=u.get(y);if(w)return w;const S=y.parentNode;return w=t.has(S)?S:i.has(S)?1:m(S),u.set(y,w),w}return e.forEach(y=>{const w=m(y);1!==w&&t.get(w).push(y)}),t}const t3="$$classes";function pc(n,e){if(n.classList)n.classList.add(e);else{let t=n[t3];t||(t=n[t3]={}),t[e]=!0}}function x2(n,e){if(n.classList)n.classList.remove(e);else{let t=n[t3];t&&delete t[e]}}function rw(n,e,t){Gu(t).onDone(()=>n.processLeaveNode(e))}function N7(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof X5?N7(r.players,e):e.push(r)}}function p0(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class n3{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new XC(e,t,r),this._timelineEngine=new KC(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const m=e+"-"+i;let y=this._triggerCache[m];if(!y){const w=[],S=C2(this._driver,u,w);if(w.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${w.join("\n - ")}`);y=function(n,e,t){return new ZC(n,e,t)}(i,S,this._normalizer),this._triggerCache[m]=y}this._transitionEngine.registerTrigger(t,i,y)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,m]=t6(r);this._timelineEngine.command(u,t,m,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[m,y]=t6(r);return this._timelineEngine.listen(m,t,y,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function m0(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=x6(e[0]),e.length>1&&(r=x6(e[e.length-1]))):e&&(t=x6(e)),t||r?new sw(n,t,r):null}let sw=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&qu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qu(this._element,this._initialStyles),this._endStyles&&(qu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ad(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ad(this._element,this._endStyles),this._endStyles=null),qu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function x6(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];S6(i)&&(e=e||{},e[i]=n[i])}return e}function S6(n){return"display"===n||"position"===n}const T6="animation",O7="animationend";class L7{constructor(e,t,r,i,u,m,y){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=u,this._fillMode=m,this._onDoneFn=y,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=w=>this._handleCallback(w)}apply(){(function(n,e){const t=M6(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),T2(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),g0(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){I6(this._element,this._name,"paused")}resume(){I6(this._element,this._name,"running")}setPosition(e){const t=S2(this._element,this._name);this._position=e*this._duration,T2(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),g0(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=M6(n,"").split(","),i=F7(r,e);i>=0&&(r.splice(i,1),T2(n,"",r.join(",")))}(this._element,this._name))}}function I6(n,e,t){T2(n,"PlayState",t,S2(n,e))}function S2(n,e){const t=M6(n,"");return t.indexOf(",")>0?F7(t.split(","),e):F7([t],e)}function F7(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function g0(n,e,t){t?n.removeEventListener(O7,e):n.addEventListener(O7,e)}function T2(n,e,t,r){const i=T6+e;if(null!=r){const u=n.style[i];if(u.length){const m=u.split(",");m[r]=t,t=m.join(",")}}n.style[i]=t}function M6(n,e){return n.style[T6+e]||""}class z7{constructor(e,t,r,i,u,m,y,w){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=u,this._finalStyles=y,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=i+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new L7(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:a0(this.element,r))})}this.currentSnapshot=e}}class tu extends _2{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=s7(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class r3{constructor(){this._count=0}validateStyleProperty(e){return r6(e)}matchesElement(e,t){return i6(e,t)}containsElement(e,t){return s6(e,t)}query(e,t,r){return o6(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(y=>s7(y));let i=`@keyframes ${t} {\n`,u="";r.forEach(y=>{u=" ";const w=parseFloat(y.offset);i+=`${u}${100*w}% {\n`,u+=" ",Object.keys(y).forEach(S=>{const k=y[S];switch(S){case"offset":return;case"easing":return void(k&&(i+=`${u}animation-timing-function: ${k};\n`));default:return void(i+=`${u}${S}: ${k};\n`)}}),i+=`${u}}\n`}),i+="}\n";const m=document.createElement("style");return m.textContent=i,m}animate(e,t,r,i,u,m=[],y){const w=m.filter(Ie=>Ie instanceof z7),S={};Yf(r,i)&&w.forEach(Ie=>{let Ke=Ie.currentSnapshot;Object.keys(Ke).forEach(ft=>S[ft]=Ke[ft])});const k=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=Jr(e,t,S));if(0==r)return new tu(e,k);const P="gen_css_kf_"+this._count++,j=this.buildKeyframeElement(e,P,t);(function(n){var t;const e=null==(t=n.getRootNode)?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(j);const K=m0(e,t),ve=new z7(e,t,P,r,i,u,k,K);return ve.onDestroy(()=>{var n;(n=j).parentNode.removeChild(n)}),ve}}class B7{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:a0(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class D6{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(v0().toString()),this._cssKeyframesDriver=new r3}validateStyleProperty(e){return r6(e)}matchesElement(e,t){return i6(e,t)}containsElement(e,t){return s6(e,t)}query(e,t,r){return o6(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,u,m=[],y){if(!y&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,u,m);const k={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(k.easing=u);const P={},j=m.filter(K=>K instanceof B7);Yf(r,i)&&j.forEach(K=>{let ve=K.currentSnapshot;Object.keys(ve).forEach(Ie=>P[Ie]=ve[Ie])});const $=m0(e,t=Jr(e,t=t.map(K=>yl(K,!1)),P));return new B7(e,t,k,$)}}function v0(){return qf()&&Element.prototype.animate||{}}let Rh=(()=>{class n extends uc{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?e7(t):t;return j7(this._renderer,null,r,"register",[i]),new _0(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class _0 extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new s3(this._id,e,t||{},this._renderer)}}class s3{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return j7(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function j7(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const A6="@.disabled";let hw=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,m)=>{m&&m.parentNode(u)&&m.removeChild(u.parentNode,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let k=this._rendererCache.get(u);return k||(k=new G7("",u,this.engine),this._rendererCache.set(u,k)),k}const m=r.id,y=r.id+"-"+this._currentId;this._currentId++,this.engine.register(y,t);const w=k=>{Array.isArray(k)?k.forEach(w):this.engine.registerTrigger(m,y,t,k.name,k)};return r.data.animation.forEach(w),new fw(this,y,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[m,y]=u;m(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(n3),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class G7{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==A6?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class fw extends G7{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==A6?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),m="";return"@"!=u.charAt(0)&&([u,m]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,m,y=>{this.factory.scheduleListenerCallback(y._data||-1,r,y)})}return this.delegate.listen(e,t,r)}}let QD=(()=>{class n extends n3{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le),h.LFG(a6),h.LFG(f6))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Yc=new h.OlP("AnimationModuleType"),M2=[{provide:uc,useClass:Rh},{provide:f6,useFactory:function(){return new w7}},{provide:n3,useClass:QD},{provide:h.FYo,useFactory:function(n,e,t){return new hw(n,e,t)},deps:[Ul,n3,h.R0b]}],vw=[{provide:a6,useFactory:function(){return"function"==typeof v0()?new D6:new r3}},{provide:Yc,useValue:"BrowserAnimations"},...M2],q7=[{provide:a6,useClass:o7},{provide:Yc,useValue:"NoopAnimations"},...M2];let _w=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?q7:vw}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:vw,imports:[Gs]}),n})();const Z7=new h.GfV("13.0.0"),ww=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Hi=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,h.X6Q)()||zf())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Z7.full!==Wc.full&&console.warn("The Angular Material version ("+Z7.full+") does not match the Angular CDK version ("+Wc.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Xg),h.LFG(ww,8),h.LFG(le))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Hf],Hf]}),n})();function Ew(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ha(e)}}}function a3(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function xw(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ha(e)}}}function Sw(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Pg(t):this.defaultTabIndex}}}function l3(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Zt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,u=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);u!==e&&(this.errorState=u,this.stateChanges.next())}}}let Nh=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c3{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Q7={enterDuration:225,exitDuration:150},R6=B4({passive:!0}),Oh=["mousedown","touchstart"],J7=["mouseup","mouseleave","touchend","touchcancel"];class Nw{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Td(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=gt(gt({},Q7),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const m=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),y=e-i.left,w=t-i.top,S=u.enterDuration,k=document.createElement("div");k.classList.add("mat-ripple-element"),k.style.left=y-m+"px",k.style.top=w-m+"px",k.style.height=2*m+"px",k.style.width=2*m+"px",null!=r.color&&(k.style.backgroundColor=r.color),k.style.transitionDuration=`${S}ms`,this._containerElement.appendChild(k),window.getComputedStyle(k).getPropertyValue("opacity"),k.style.transform="scale(1)";const P=new c3(this,k,r);return P.state=0,this._activeRipples.add(P),r.persistent||(this._mostRecentTransientRipple=P),this._runTimeoutOutsideZone(()=>{const j=P===this._mostRecentTransientRipple;P.state=1,!r.persistent&&(!j||!this._isPointerDown)&&P.fadeOut()},S),P}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=gt(gt({},Q7),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Td(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Oh))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(J7),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=$5(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!bC(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,R6)})})}_removeTriggerEvents(){this._triggerElement&&(Oh.forEach(e=>{this._triggerElement.removeEventListener(e,this,R6)}),this._pointerUpEventsRegistered&&J7.forEach(e=>{this._triggerElement.removeEventListener(e,this,R6)}))}}const Pw=new h.OlP("mat-ripple-global-options");let Lw=(()=>{class n{constructor(t,r,i,u,m){this._elementRef=t,this._animationMode=m,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new Nw(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:gt(gt(gt({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,gt(gt({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,gt(gt({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Ba),h.Y36(Pw,8),h.Y36(Yc,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&h.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Fw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Hi,H4],Hi]}),n})();const Uw=["*",[["mat-toolbar-row"]]],jw=["*","mat-toolbar-row"],Gw=a3(class{constructor(n){this._elementRef=n}});let i9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),s9=(()=>{class n extends Gw{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(Ba),h.Y36(le))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&h.Suo(i,i9,5),2&t){let u;h.iGM(u=h.CRH())&&(r._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&h.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:jw,decls:2,vars:0,template:function(t,r){1&t&&(h.F$t(Uw),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),O6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Hi],Hi]}),n})();const a9=["mat-button",""],l9=["*"],c9=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],u9=a3(Ew(xw(class{constructor(n){this._elementRef=n}})));let u3=(()=>{class n extends u9{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of c9)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(Md),h.Y36(Yc,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&h.Gf(Lw,5),2&t){let i;h.iGM(i=h.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(h.uIk("disabled",r.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:a9,ngContentSelectors:l9,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1),h._UZ(3,"span",2)),2&t&&(h.xp6(2),h.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),h.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Lw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),P6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Fw,Hi],Hi]}),n})();function ia(n,e){1&n&&(h.TgZ(0,"button",9),h._uU(1,"Write a Post"),h.qZA())}function Ph(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div"),h.YNc(1,ia,2,0,"button",7),h.TgZ(2,"button",8),h.NdJ("click",function(){return h.CHM(t),h.oxw().auth.logout()}),h._uU(3,"Logout"),h.qZA(),h.qZA()}if(2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",!t.VALID_USERID||t.auth.currentUserId==t.VALID_USERID)}}function Zw(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",8),h.NdJ("click",function(){return h.CHM(t),h.oxw().auth.login()}),h._uU(1,"Login"),h.qZA()}}let Kw=(()=>{class n{constructor(t){this.auth=t,this.VALID_USERID=Cf_userid}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(g2))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:13,vars:4,consts:[[1,"nav"],[1,"navbar"],["routerLink","/about"],[1,"spacer"],["routerLink","/posts"],[4,"ngIf","ngIfElse"],["showLogin",""],["mat-raised-button","","color","accent","routerLink","/create",4,"ngIf"],["mat-button","",3,"click"],["mat-raised-button","","color","accent","routerLink","/create"]],template:function(t,r){if(1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"mat-toolbar",1),h.TgZ(2,"mat-toolbar-row"),h.TgZ(3,"span",2),h._uU(4," About "),h.qZA(),h._UZ(5,"span",3),h.TgZ(6,"span",4),h._uU(7," Writings "),h.qZA(),h._UZ(8,"span",3),h.YNc(9,Ph,4,1,"div",5),h.ALo(10,"async"),h.YNc(11,Zw,2,0,"ng-template",null,6,h.W1O),h.qZA(),h.qZA(),h.qZA()),2&t){const i=h.MAs(12);h.xp6(9),h.Q6J("ngIf",h.lcZ(10,2,r.auth.afAuth.authState))("ngIfElse",i)}},directives:[s9,i9,Fr,pi,u3],pipes:[Nl],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}span[_ngcontent-%COMP%]:focus{outline:none;border:0}span[_ngcontent-%COMP%]{cursor:pointer}.nav[_ngcontent-%COMP%]{padding-bottom:10px;max-height:5%}.nav[_ngcontent-%COMP%]:hover{padding-bottom:100px}.navbar[_ngcontent-%COMP%]{transform:translateY(-100%);-webkit-transition:transform .5s ease-in-out;color:#78909c}.nav[_ngcontent-%COMP%]:hover   .navbar[_ngcontent-%COMP%]{transform:translateY(0);-webkit-transition:transform .5s ease-in-out}.navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#0091ea}"]}),n})(),uA=(()=>{class n{constructor(){this.title="Simple-Thoughts"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&(h._UZ(0,"app-navbar"),h._UZ(1,"router-outlet"))},directives:[Kw,l2],encapsulation:2}),n})(),d3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[g2],imports:[[vs]]}),n})(),L6=(()=>{class n{constructor(){this._listeners=[]}notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b0=0;const h3=new h.OlP("CdkAccordion");let mA=(()=>{class n{constructor(){this._stateChanges=new Zt.x,this._openCloseAllActions=new Zt.x,this.id="cdk-accordion-"+b0++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=Ha(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[h._Bn([{provide:h3,useExisting:n}]),h.TTD]}),n})(),f9=0,Jw=(()=>{class n{constructor(t,r,i){this.accordion=t,this._changeDetectorRef=r,this._expansionDispatcher=i,this._openCloseAllSubscription=ws.w0.EMPTY,this.closed=new h.vpe,this.opened=new h.vpe,this.destroyed=new h.vpe,this.expandedChange=new h.vpe,this.id="cdk-accordion-child-"+f9++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=i.listen((u,m)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===m&&this.id!==u&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Ha(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Ha(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h3,12),h.Y36(h.sBO),h.Y36(L6))},n.\u0275dir=h.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[h._Bn([{provide:h3,useValue:void 0}])]}),n})(),p9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();class z6{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class C0 extends z6{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class w0 extends z6{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class v9 extends z6{constructor(e){super(),this.element=e instanceof h.SBq?e.nativeElement:e}}class V6{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof C0?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof w0?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof v9?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _9 extends V6{constructor(e,t,r,i,u){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=m=>{const y=m.element,w=this._document.createComment("dom-portal");y.parentNode.insertBefore(w,y),this.outletElement.appendChild(y),this._attachedPortal=m,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(y,w)})},this._document=u}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let H6=(()=>{class n extends V6{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=u=>{const m=u.element,y=this._document.createComment("dom-portal");u.setAttachedHost(this),m.parentNode.insertBefore(y,m),this._getRootNode().appendChild(m),this._attachedPortal=u,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(m,y)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,u=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),m=r.createComponent(u,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(m.hostView.rootNodes[0]),super.setDisposeFn(()=>m.destroy()),this._attachedPortal=t,this._attachedRef=m,this.attached.emit(m),m}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(le))},n.\u0275dir=h.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),n})(),E0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const y9=["body"];function iE(n,e){}const sE=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],oE=["mat-expansion-panel-header","*","mat-action-row"];function b9(n,e){if(1&n&&h._UZ(0,"span",2),2&n){const t=h.oxw();h.Q6J("@indicatorRotate",t._getExpandedState())}}const bA=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],CA=["mat-panel-title","mat-panel-description","*"],C9=new h.OlP("MAT_ACCORDION"),aE="225ms cubic-bezier(0.4,0.0,0.2,1)",lE={indicatorRotate:Bf("indicatorRotate",[ju("collapsed, void",dc({transform:"rotate(0deg)"})),ju("expanded",dc({transform:"rotate(180deg)"})),jf("expanded <=> collapsed, void => collapsed",Uf(aE))]),bodyExpansion:Bf("bodyExpansion",[ju("collapsed, void",dc({height:"0px",visibility:"hidden"})),ju("expanded",dc({height:"*",visibility:"visible"})),jf("expanded <=> collapsed, void => collapsed",Uf(aE))])};let wA=(()=>{class n{constructor(t){this._template=t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),EA=0;const w9=new h.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let E9=(()=>{class n extends Jw{constructor(t,r,i,u,m,y,w){super(t,r,i),this._viewContainerRef=u,this._animationMode=y,this._hideToggle=!1,this.afterExpand=new h.vpe,this.afterCollapse=new h.vpe,this._inputChanges=new Zt.x,this._headerId="mat-expansion-panel-header-"+EA++,this._bodyAnimationDone=new Zt.x,this.accordion=t,this._document=m,this._bodyAnimationDone.pipe(k5((S,k)=>S.fromState===k.fromState&&S.toState===k.toState)).subscribe(S=>{"void"!==S.fromState&&("expanded"===S.toState?this.afterExpand.emit():"collapsed"===S.toState&&this.afterCollapse.emit())}),w&&(this.hideToggle=w.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Ha(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(ho(null),tr(()=>this.expanded&&!this._portal),(0,Ni.q)(1)).subscribe(()=>{this._portal=new w0(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,r=this._body.nativeElement;return t===r||r.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(C9,12),h.Y36(h.sBO),h.Y36(L6),h.Y36(h.s_b),h.Y36(le),h.Y36(Yc,8),h.Y36(w9,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,r,i){if(1&t&&h.Suo(i,wA,5),2&t){let u;h.iGM(u=h.CRH())&&(r._lazyContent=u.first)}},viewQuery:function(t,r){if(1&t&&h.Gf(y9,5),2&t){let i;h.iGM(i=h.CRH())&&(r._body=i.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,r){2&t&&h.ekj("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[h._Bn([{provide:C9,useValue:void 0}]),h.qOj,h.TTD],ngContentSelectors:oE,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,r){1&t&&(h.F$t(sE),h.Hsn(0),h.TgZ(1,"div",0,1),h.NdJ("@bodyExpansion.done",function(u){return r._bodyAnimationDone.next(u)}),h.TgZ(3,"div",2),h.Hsn(4,1),h.YNc(5,iE,0,0,"ng-template",3),h.qZA(),h.Hsn(6,2),h.qZA()),2&t&&(h.xp6(1),h.Q6J("@bodyExpansion",r._getExpandedState())("id",r.id),h.uIk("aria-labelledby",r._headerId),h.xp6(4),h.Q6J("cdkPortalOutlet",r._portal))},directives:[H6],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[lE.bodyExpansion]},changeDetection:0}),n})();class SA{}const TA=Sw(SA);let cE=(()=>{class n extends TA{constructor(t,r,i,u,m,y,w){super(),this.panel=t,this._element=r,this._focusMonitor=i,this._changeDetectorRef=u,this._animationMode=y,this._parentChangeSubscription=ws.w0.EMPTY;const S=t.accordion?t.accordion._stateChanges.pipe(tr(k=>!(!k.hideToggle&&!k.togglePosition))):rs.E;this.tabIndex=parseInt(w||"")||0,this._parentChangeSubscription=(0,_4.T)(t.opened,t.closed,S,t._inputChanges.pipe(tr(k=>!!(k.hideToggle||k.disabled||k.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(tr(()=>t._containsFocus())).subscribe(()=>i.focusVia(r,"program")),m&&(this.expandedHeight=m.expandedHeight,this.collapsedHeight=m.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Ng(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,r){t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(E9,1),h.Y36(h.SBq),h.Y36(Md),h.Y36(h.sBO),h.Y36(w9,8),h.Y36(Yc,8),h.$8M("tabindex"))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r._toggle()})("keydown",function(u){return r._keydown(u)}),2&t&&(h.uIk("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),h.Udp("height",r._getHeaderHeight()),h.ekj("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[h.qOj],ngContentSelectors:CA,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,r){1&t&&(h.F$t(bA),h.TgZ(0,"span",0),h.Hsn(1),h.Hsn(2,1),h.Hsn(3,2),h.qZA(),h.YNc(4,b9,1,1,"span",1)),2&t&&(h.xp6(4),h.Q6J("ngIf",r._showToggle()))},directives:[pi],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[lE.indicatorRotate]},changeDetection:0}),n})(),uE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),dE=(()=>{class n extends mA{constructor(){super(...arguments),this._ownHeaders=new h.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Ha(t)}ngAfterContentInit(){this._headers.changes.pipe(ho(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(r=>r.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new jg(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,r,i){if(1&t&&h.Suo(i,cE,5),2&t){let u;h.iGM(u=h.CRH())&&(r._headers=u)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,r){2&t&&h.ekj("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[h._Bn([{provide:C9,useExisting:n}]),h.qOj]}),n})(),hE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[vs,Hi,p9,E0]]}),n})();const fE=B4({passive:!0});let pE=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return rs.E;const r=Td(t),i=this._monitoredElements.get(r);if(i)return i.subject;const u=new Zt.x,m="cdk-text-field-autofilled",y=w=>{"cdk-text-field-autofill-start"!==w.animationName||r.classList.contains(m)?"cdk-text-field-autofill-end"===w.animationName&&r.classList.contains(m)&&(r.classList.remove(m),this._ngZone.run(()=>u.next({target:w.target,isAutofilled:!1}))):(r.classList.add(m),this._ngZone.run(()=>u.next({target:w.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",y,fE),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:u,unlisten:()=>{r.removeEventListener("animationstart",y,fE)}}),u}stopMonitoring(t){const r=Td(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ba),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[H4]]}),n})();function x0(...n){const e=(0,Ri.jO)(n),{args:t,keys:r}=uo(n),i=new Mn.y(u=>{const{length:m}=t;if(!m)return void u.complete();const y=new Array(m);let w=m,S=m;for(let k=0;k<m;k++){let P=!1;(0,Ko.Xf)(t[k]).subscribe(new cr.Q(u,j=>{P||(P=!0,S--),y[k]=j},()=>w--,void 0,()=>{(!w||!P)&&(S||u.next(r?Wo(r,y):y),u.complete())}))}});return e?i.pipe(vi(e)):i}let D2=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),kd=(()=>{class n extends D2{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Qc=new h.OlP("NgValueAccessor"),x9={provide:Qc,useExisting:(0,h.Gpc)(()=>f3),multi:!0},T9=new h.OlP("CompositionEventMode");let f3=(()=>{class n extends D2{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(T9,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([x9]),h.qOj]}),n})();function $u(n){return null==n||0===n.length}function p3(n){return null!=n&&"number"==typeof n.length}const eo=new h.OlP("NgValidators"),A2=new h.OlP("NgAsyncValidators"),DA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class AA{static min(e){return function(n){return e=>{if($u(e.value)||$u(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if($u(e.value)||$u(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return $u(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return $u(n.value)||DA.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>$u(e.value)||!p3(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return T0(e)}static pattern(e){return function(n){if(!n)return Rd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if($u(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return xE(e)}static composeAsync(e){return I0(e)}}function T0(n){return e=>p3(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Rd(n){return null}function bE(n){return null!=n}function A9(n){const e=(0,h.QGY)(n)?(0,In.D)(n):n;return(0,h.CqO)(e),e}function CE(n){let e={};return n.forEach(t=>{e=null!=t?gt(gt({},e),t):e}),0===Object.keys(e).length?null:e}function U6(n,e){return e.map(t=>t(n))}function EE(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function xE(n){if(!n)return null;const e=n.filter(bE);return 0==e.length?null:function(t){return CE(U6(t,e))}}function j6(n){return null!=n?xE(EE(n)):null}function I0(n){if(!n)return null;const e=n.filter(bE);return 0==e.length?null:function(t){return x0(U6(t,e).map(A9)).pipe((0,Tt.U)(CE))}}function G6(n){return null!=n?I0(EE(n)):null}function k9(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function R9(n){return n._rawValidators}function M0(n){return n._rawAsyncValidators}function q6(n){return n?Array.isArray(n)?n:[n]:[]}function bo(n,e){return Array.isArray(n)?n.includes(e):n===e}function N9(n,e){const t=q6(e);return q6(n).forEach(i=>{bo(t,i)||t.push(i)}),t}function D0(n,e){return q6(e).filter(t=>!bo(n,t))}class O9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=j6(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=G6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class sa extends O9{get formDirective(){return null}get path(){return null}}class Jc extends O9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Lh=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(i=null==(r=this._cd)?void 0:r.control)?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Jc,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})();function m3(n,e){O0(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&V9(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&V9(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function N0(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),P0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function K6(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function O0(n,e){const t=R9(n);null!==e.validator?n.setValidators(k9(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=M0(n);null!==e.asyncValidator?n.setAsyncValidators(k9(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();K6(e._rawValidators,i),K6(e._rawAsyncValidators,i)}function P0(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=R9(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(m=>m!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=M0(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(m=>m!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return K6(e._rawValidators,r),K6(e._rawAsyncValidators,r),t}function V9(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Y6(n,e){O0(n,e)}function F0(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function V0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const H0="VALID",Q6="INVALID",v3="PENDING",B0="DISABLED";function _3(n){return(J6(n)?n.validators:n)||null}function B9(n){return Array.isArray(n)?j6(n):n||null}function U9(n,e){return(J6(e)?e.asyncValidators:n)||null}function j9(n){return Array.isArray(n)?G6(n):n||null}function J6(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class X6{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=B9(this._rawValidators),this._composedAsyncValidatorFn=j9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===H0}get invalid(){return this.status===Q6}get pending(){return this.status==v3}get disabled(){return this.status===B0}get enabled(){return this.status!==B0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=B9(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=j9(e)}addValidators(e){this.setValidators(N9(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(N9(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(D0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(D0(e,this._rawAsyncValidators))}hasValidator(e){return bo(this._rawValidators,e)}hasAsyncValidator(e){return bo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=v3,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=B0,this.errors=null,this._forEachChild(r=>{r.disable(no(gt({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(no(gt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=H0,this._forEachChild(r=>{r.enable(no(gt({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(no(gt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===H0||this.status===v3)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?B0:H0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=v3,this._hasOwnPendingAsyncValidator=!0;const t=A9(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof G9?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof VA&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?B0:this.errors?Q6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(v3)?v3:this._anyControlsHaveStatus(Q6)?Q6:H0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){J6(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class U0 extends X6{constructor(e=null,t,r){super(_3(t),U9(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){V0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){V0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class G9 extends X6{constructor(e,t,r){super(_3(t),U9(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof U0?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class VA extends X6{constructor(e,t,r){super(_3(t),U9(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof U0?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const HA={provide:sa,useExisting:(0,h.Gpc)(()=>Fh)},y3=(()=>Promise.resolve(null))();let Fh=(()=>{class n extends sa{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.vpe,this.form=new G9({},j6(t),G6(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){y3.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),m3(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){y3.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),V0(this._directives,t)})}addFormGroup(t){y3.then(()=>{const r=this._findContainer(t.path),i=new G9({});Y6(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){y3.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){y3.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,F0(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(eo,10),h.Y36(A2,10))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([HA]),h.qOj]}),n})();const kE={provide:Jc,useExisting:(0,h.Gpc)(()=>mc)},e8=(()=>Promise.resolve(null))();let mc=(()=>{class n extends Jc{constructor(t,r,i,u){super(),this.control=new U0,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===f3?t=u:function(n){return Object.getPrototypeOf(n.constructor)===kd}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){m3(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){e8.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;e8.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(sa,9),h.Y36(eo,10),h.Y36(A2,10),h.Y36(Qc,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([kE]),h.qOj,h.TTD]}),n})(),W9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const q0={provide:sa,useExisting:(0,h.Gpc)(()=>$0)};let $0=(()=>{class n extends sa{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(P0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return m3(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){N0(t.control||null,t,!1),V0(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,F0(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(N0(r||null,t),i instanceof U0&&(m3(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Y6(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return P0(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){O0(this.form,this),this._oldForm&&P0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(eo,10),h.Y36(A2,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([q0]),h.qOj,h.TTD]}),n})();const w3={provide:eo,useExisting:(0,h.Gpc)(()=>qn),multi:!0};let qn=(()=>{class n{constructor(){this._validator=Rd}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this.enabled()?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=this.enabled()?T0(function(n){return"number"==typeof n?n:parseInt(n,10)}(this.maxlength)):Rd}enabled(){return null!=this.maxlength}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("maxlength",r.enabled()?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[h._Bn([w3]),h.TTD]}),n})(),lv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[W9]]}),n})(),c8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[lv]}),n})(),bl=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u8=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Td(t);return new Mn.y(i=>{const m=this._observeElement(r).subscribe(i);return()=>{m.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Zt.x,i=this._mutationObserverFactory.create(u=>r.next(u));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bl))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R2=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new h.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ha(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Pg(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Og(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null==(t=this._currentSubscription)||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(u8),h.Y36(h.SBq),h.Y36(h.R0b))},n.\u0275dir=h.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),cv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[bl]}),n})();var uv=V(1537);const $A=["addListener","removeListener"],ZE=["addEventListener","removeEventListener"],KE=["on","off"];function Co(n,e,t,r){if((0,Nn.m)(t)&&(r=t,t=void 0),r)return Co(n,e,t).pipe(vi(r));const[i,u]=function(n){return(0,Nn.m)(n.addEventListener)&&(0,Nn.m)(n.removeEventListener)}(n)?ZE.map(m=>y=>n[m](e,y,t)):function(n){return(0,Nn.m)(n.addListener)&&(0,Nn.m)(n.removeListener)}(n)?$A.map(qr(n,e)):function(n){return(0,Nn.m)(n.on)&&(0,Nn.m)(n.off)}(n)?KE.map(qr(n,e)):[];if(!i&&(0,uv.z)(n))return(0,Ar.z)(m=>Co(m,e,t))((0,Ko.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Mn.y(m=>{const y=(...w)=>m.next(1<w.length?w:w[0]);return i(y),()=>u(y)})}function qr(n,e){return t=>r=>n[t](e,r)}const hv=["connectionContainer"],d8=["inputContainer"],Vh=["label"];function E3(n,e){1&n&&(h.ynx(0),h.TgZ(1,"div",14),h._UZ(2,"div",15),h._UZ(3,"div",16),h._UZ(4,"div",17),h.qZA(),h.TgZ(5,"div",18),h._UZ(6,"div",15),h._UZ(7,"div",16),h._UZ(8,"div",17),h.qZA(),h.BQk())}function QE(n,e){1&n&&(h.TgZ(0,"div",19),h.Hsn(1,1),h.qZA())}function N2(n,e){if(1&n&&(h.ynx(0),h.Hsn(1,2),h.TgZ(2,"span"),h._uU(3),h.qZA(),h.BQk()),2&n){const t=h.oxw(2);h.xp6(3),h.Oqu(t._control.placeholder)}}function JE(n,e){1&n&&h.Hsn(0,3,["*ngSwitchCase","true"])}function fv(n,e){1&n&&(h.TgZ(0,"span",23),h._uU(1," *"),h.qZA())}function h8(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"label",20,21),h.NdJ("cdkObserveContent",function(){return h.CHM(t),h.oxw().updateOutlineGap()}),h.YNc(2,N2,4,1,"ng-container",12),h.YNc(3,JE,1,0,"ng-content",12),h.YNc(4,fv,2,0,"span",22),h.qZA()}if(2&n){const t=h.oxw();h.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),h.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),h.uIk("for",t._control.id)("aria-owns",t._control.id),h.xp6(2),h.Q6J("ngSwitchCase",!1),h.xp6(1),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function x3(n,e){1&n&&(h.TgZ(0,"div",24),h.Hsn(1,4),h.qZA())}function f8(n,e){if(1&n&&(h.TgZ(0,"div",25),h._UZ(1,"span",26),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function pv(n,e){if(1&n&&(h.TgZ(0,"div"),h.Hsn(1,5),h.qZA()),2&n){const t=h.oxw();h.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Hh(n,e){if(1&n&&(h.TgZ(0,"div",30),h._uU(1),h.qZA()),2&n){const t=h.oxw(2);h.Q6J("id",t._hintLabelId),h.xp6(1),h.Oqu(t.hintLabel)}}function XE(n,e){if(1&n&&(h.TgZ(0,"div",27),h.YNc(1,Hh,2,2,"div",28),h.Hsn(2,6),h._UZ(3,"div",29),h.Hsn(4,7),h.qZA()),2&n){const t=h.oxw();h.Q6J("@transitionMessages",t._subscriptAnimationState),h.xp6(1),h.Q6J("ngIf",t.hintLabel)}}const K0=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],mv=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],gv=new h.OlP("MatError"),tx={transitionMessages:Bf("transitionMessages",[ju("enter",dc({opacity:1,transform:"translateY(0%)"})),jf("void => enter",[dc({opacity:0,transform:"translateY(-5px)"}),Uf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let S3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n}),n})();const WA=new h.OlP("MatHint");let nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-label"]]}),n})(),rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const ix=new h.OlP("MatPrefix"),sx=new h.OlP("MatSuffix");let gc=0;const ax=a3(class{constructor(n){this._elementRef=n}},"primary"),lx=new h.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Bh=new h.OlP("MatFormField");let yv=(()=>{class n extends ax{constructor(t,r,i,u,m,y,w){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=u,this._platform=m,this._ngZone=y,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Zt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+gc++,this._labelId="mat-form-field-label-"+gc++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==w,this.appearance=u&&u.appearance?u.appearance:"legacy",this._hideRequiredMarker=!(!u||null==u.hideRequiredMarker)&&u.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ha(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ho(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(xh(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(xh(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,_4.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ho(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ho(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(xh(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Co(this._label.nativeElement,"transitionend").pipe((0,Ni.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(u=>"start"===u.align):null,i=this._hintChildren?this._hintChildren.find(u=>"end"===u.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const u=this._connectionContainerRef.nativeElement,m=u.querySelectorAll(".mat-form-field-outline-start"),y=u.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const w=u.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(w),k=t.children,P=this._getStartEnd(k[0].getBoundingClientRect());let j=0;for(let $=0;$<k.length;$++)j+=k[$].offsetWidth;r=Math.abs(P-S)-5,i=j>0?.75*j+10:0}for(let w=0;w<m.length;w++)m[w].style.width=`${r}px`;for(let w=0;w<y.length;w++)y[w].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(_l,8),h.Y36(lx,8),h.Y36(Ba),h.Y36(h.R0b),h.Y36(Yc,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(h.Suo(i,S3,5),h.Suo(i,S3,7),h.Suo(i,nx,5),h.Suo(i,nx,7),h.Suo(i,rx,5),h.Suo(i,gv,5),h.Suo(i,WA,5),h.Suo(i,ix,5),h.Suo(i,sx,5)),2&t){let u;h.iGM(u=h.CRH())&&(r._controlNonStatic=u.first),h.iGM(u=h.CRH())&&(r._controlStatic=u.first),h.iGM(u=h.CRH())&&(r._labelChildNonStatic=u.first),h.iGM(u=h.CRH())&&(r._labelChildStatic=u.first),h.iGM(u=h.CRH())&&(r._placeholderChild=u.first),h.iGM(u=h.CRH())&&(r._errorChildren=u),h.iGM(u=h.CRH())&&(r._hintChildren=u),h.iGM(u=h.CRH())&&(r._prefixChildren=u),h.iGM(u=h.CRH())&&(r._suffixChildren=u)}},viewQuery:function(t,r){if(1&t&&(h.Gf(hv,7),h.Gf(d8,5),h.Gf(Vh,5)),2&t){let i;h.iGM(i=h.CRH())&&(r._connectionContainerRef=i.first),h.iGM(i=h.CRH())&&(r._inputContainerRef=i.first),h.iGM(i=h.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&h.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[h._Bn([{provide:Bh,useExisting:n}]),h.qOj],ngContentSelectors:mv,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(h.F$t(K0),h.TgZ(0,"div",0),h.TgZ(1,"div",1,2),h.NdJ("click",function(u){return r._control.onContainerClick&&r._control.onContainerClick(u)}),h.YNc(3,E3,9,0,"ng-container",3),h.YNc(4,QE,2,0,"div",4),h.TgZ(5,"div",5,6),h.Hsn(7),h.TgZ(8,"span",7),h.YNc(9,h8,5,16,"label",8),h.qZA(),h.qZA(),h.YNc(10,x3,2,0,"div",9),h.qZA(),h.YNc(11,f8,2,4,"div",10),h.TgZ(12,"div",11),h.YNc(13,pv,2,1,"div",12),h.YNc(14,XE,5,2,"div",13),h.qZA(),h.qZA()),2&t&&(h.xp6(3),h.Q6J("ngIf","outline"==r.appearance),h.xp6(1),h.Q6J("ngIf",r._prefixChildren.length),h.xp6(5),h.Q6J("ngIf",r._hasFloatingLabel()),h.xp6(1),h.Q6J("ngIf",r._suffixChildren.length),h.xp6(1),h.Q6J("ngIf","outline"!=r.appearance),h.xp6(1),h.Q6J("ngSwitch",r._getDisplayedMessages()),h.xp6(1),h.Q6J("ngSwitchCase","error"),h.xp6(1),h.Q6J("ngSwitchCase","hint"))},directives:[pi,p1,ni,R2],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[tx.transitionMessages]},changeDetection:0}),n})(),bv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[vs,Hi,cv],Hi]}),n})();const QA=new h.OlP("MAT_INPUT_VALUE_ACCESSOR"),JA=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let cx=0;const wo=l3(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let Cv=(()=>{class n extends wo{constructor(t,r,i,u,m,y,w,S,k,P){super(y,u,m,i),this._elementRef=t,this._platform=r,this._autofillMonitor=S,this._formField=P,this._uid="mat-input-"+cx++,this.focused=!1,this.stateChanges=new Zt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(K=>Lf().has(K));const j=this._elementRef.nativeElement,$=j.nodeName.toLowerCase();this._inputValueAccessor=w||j,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&k.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",K=>{const ve=K.target;!ve.value&&0===ve.selectionStart&&0===ve.selectionEnd&&(ve.setSelectionRange(1,1),ve.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===$,this._isTextarea="textarea"===$,this._isInFormField=!!P,this._isNativeSelect&&(this.controlType=j.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ha(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,u;return null!=(u=null!=(i=this._required)?i:null==(r=null==(t=this.ngControl)?void 0:t.control)?void 0:r.hasValidator(AA.required))&&u}set required(t){this._required=Ha(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Lf().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ha(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var r,i;const t=(null==(i=null==(r=this._formField)?void 0:r._hideControlPlaceholder)?void 0:i.call(r))?null:this.placeholder;if(t!==this._previousPlaceholder){const u=this._elementRef.nativeElement;this._previousPlaceholder=t,t?u.setAttribute("placeholder",t):u.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){JA.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(Ba),h.Y36(Jc,10),h.Y36(Fh,8),h.Y36($0,8),h.Y36(Nh),h.Y36(QA,10),h.Y36(pE),h.Y36(h.R0b),h.Y36(Bh,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&h.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(h.Ikx("disabled",r.disabled)("required",r.required),h.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),h.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[h._Bn([{provide:S3,useExisting:n}]),h.qOj,h.TTD]}),n})(),wv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Nh],imports:[[mE,bv,Hi],mE,bv]}),n})();const m8=["primaryValueBar"],ux=a3(class{constructor(n){this._elementRef=n}},"primary"),dx=new h.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=(0,h.f3M)(le),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),fx=new h.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let px=0,mx=(()=>{class n extends ux{constructor(t,r,i,u,m){super(t),this._ngZone=r,this._animationMode=i,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new h.vpe,this._animationEndSubscription=ws.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+px++;const y=u?u.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${y}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===i,m&&(m.color&&(this.color=this.defaultColor=m.color),this.mode=m.mode||this.mode)}get value(){return this._value}set value(t){this._value=Y0(Pg(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=Y0(t||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=Co(t,"transitionend").pipe(tr(r=>r.target===t)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Yc,8),h.Y36(dx,8),h.Y36(fx,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(t,r){if(1&t&&h.Gf(m8,5),2&t){let i;h.iGM(i=h.CRH())&&(r._primaryValueBar=i.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,r){2&t&&(h.uIk("aria-valuenow","indeterminate"===r.mode||"query"===r.mode?null:r.value)("mode",r.mode),h.ekj("_mat-animation-noopable",r._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[h.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.O4$(),h.TgZ(1,"svg",1),h.TgZ(2,"defs"),h.TgZ(3,"pattern",2),h._UZ(4,"circle",3),h.qZA(),h.qZA(),h._UZ(5,"rect",4),h.qZA(),h.kcU(),h._UZ(6,"div",5),h._UZ(7,"div",6,7),h._UZ(9,"div",8),h.qZA()),2&t&&(h.xp6(3),h.Q6J("id",r.progressbarId),h.xp6(2),h.uIk("fill",r._rectangleFillValue),h.xp6(1),h.Q6J("ngStyle",r._bufferTransform()),h.xp6(1),h.Q6J("ngStyle",r._primaryTransform()))},directives:[Xi],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function Y0(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let Ev=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[vs,Hi],Hi]}),n})();const gx=["*",[["mat-card-footer"]]],xv=["*","mat-card-footer"],g8=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],vx=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let v8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),_x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),yx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),_8=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,r){2&t&&h.ekj("mat-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),J0=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Yc,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&h.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:xv,decls:2,vars:0,template:function(t,r){1&t&&(h.F$t(gx),h.Hsn(0),h.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),Cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:vx,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,r){1&t&&(h.F$t(g8),h.Hsn(0),h.TgZ(1,"div",0),h.Hsn(2,1),h.qZA(),h.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),Sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Hi],Hi]}),n})();class Tv{}class y8{}class Wu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),m=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(m):this.headers.set(u,[m])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Wu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Wu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Wu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let m=this.headers.get(t);if(!m)return;m=m.filter(y=>-1===u.indexOf(y)),0===m.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,m)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ex{encodeKey(e){return X0(e)}encodeValue(e){return X0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const sk=/%(\d[a-f0-9])/gi,ok={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function X0(n){return encodeURIComponent(n).replace(sk,(e,t)=>{var r;return null!=(r=ok[t])?r:e})}function Iv(n){return`${n}`}class Od{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ex,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[m,y]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],w=t.get(m)||[];w.push(y),t.set(m,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Od({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Iv(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Iv(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class xx{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Mv(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function b8(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ep(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Bi{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Wu),this.context||(this.context=new xx),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=t;else{const y=t.indexOf("?");this.urlWithParams=t+(-1===y?"?":y<t.length-1?"&":"")+m}}else this.params=new Od,this.urlWithParams=t}serializeBody(){return null===this.body?null:Mv(this.body)||b8(this.body)||ep(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Od?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ep(this.body)?null:b8(this.body)?this.body.type||null:Mv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Od?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var P;const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,y=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,S=e.params||this.params;const k=null!=(P=e.context)?P:this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((j,$)=>j.set($,e.setHeaders[$]),w)),e.setParams&&(S=Object.keys(e.setParams).reduce((j,$)=>j.set($,e.setParams[$]),S)),new Bi(t,r,u,{params:S,headers:w,context:k,reportProgress:y,responseType:i,withCredentials:m})}}var wi=(()=>((wi=wi||{})[wi.Sent=0]="Sent",wi[wi.UploadProgress=1]="UploadProgress",wi[wi.ResponseHeader=2]="ResponseHeader",wi[wi.DownloadProgress=3]="DownloadProgress",wi[wi.Response=4]="Response",wi[wi.User=5]="User",wi))();class Cl{constructor(e,t=200,r="OK"){this.headers=e.headers||new Wu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class I3 extends Cl{constructor(e={}){super(e),this.type=wi.ResponseHeader}clone(e={}){return new I3({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tp extends Cl{constructor(e={}){super(e),this.type=wi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new tp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class C8 extends Cl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Dv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let np=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof Bi)u=t;else{let w,S;w=i.headers instanceof Wu?i.headers:new Wu(i.headers),i.params&&(S=i.params instanceof Od?i.params:new Od({fromObject:i.params})),u=new Bi(t,r,void 0!==i.body?i.body:null,{headers:w,context:i.context,params:S,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const m=Ct(u).pipe(Pi(w=>this.handler.handle(w)));if(t instanceof Bi||"events"===i.observe)return m;const y=m.pipe(tr(w=>w instanceof tp));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return y.pipe((0,Tt.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return y.pipe((0,Tt.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return y.pipe((0,Tt.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return y.pipe((0,Tt.U)(w=>w.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Od).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Dv(i,r))}post(t,r,i={}){return this.request("POST",t,Dv(i,r))}put(t,r,i={}){return this.request("PUT",t,Dv(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Tv))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Av{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const kv=new h.OlP("HTTP_INTERCEPTORS");let M3=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Mx=/^\)\]\}',?\n/;let Nv=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Mn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(($,K)=>i.setRequestHeader($,K.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const $=t.detectContentTypeHeader();null!==$&&i.setRequestHeader("Content-Type",$)}if(t.responseType){const $=t.responseType.toLowerCase();i.responseType="json"!==$?$:"text"}const u=t.serializeBody();let m=null;const y=()=>{if(null!==m)return m;const $=1223===i.status?204:i.status,K=i.statusText||"OK",ve=new Wu(i.getAllResponseHeaders()),Ie=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return m=new I3({headers:ve,status:$,statusText:K,url:Ie}),m},w=()=>{let{headers:$,status:K,statusText:ve,url:Ie}=y(),Ke=null;204!==K&&(Ke=void 0===i.response?i.responseText:i.response),0===K&&(K=Ke?200:0);let ft=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof Ke){const At=Ke;Ke=Ke.replace(Mx,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(ct){Ke=At,ft&&(ft=!1,Ke={error:ct,text:Ke})}}ft?(r.next(new tp({body:Ke,headers:$,status:K,statusText:ve,url:Ie||void 0})),r.complete()):r.error(new C8({error:Ke,headers:$,status:K,statusText:ve,url:Ie||void 0}))},S=$=>{const{url:K}=y(),ve=new C8({error:$,status:i.status||0,statusText:i.statusText||"Unknown Error",url:K||void 0});r.error(ve)};let k=!1;const P=$=>{k||(r.next(y()),k=!0);let K={type:wi.DownloadProgress,loaded:$.loaded};$.lengthComputable&&(K.total=$.total),"text"===t.responseType&&!!i.responseText&&(K.partialText=i.responseText),r.next(K)},j=$=>{let K={type:wi.UploadProgress,loaded:$.loaded};$.lengthComputable&&(K.total=$.total),r.next(K)};return i.addEventListener("load",w),i.addEventListener("error",S),i.addEventListener("timeout",S),i.addEventListener("abort",S),t.reportProgress&&(i.addEventListener("progress",P),null!==u&&i.upload&&i.upload.addEventListener("progress",j)),i.send(u),r.next({type:wi.Sent}),()=>{i.removeEventListener("error",S),i.removeEventListener("abort",S),i.removeEventListener("load",w),i.removeEventListener("timeout",S),t.reportProgress&&(i.removeEventListener("progress",P),null!==u&&i.upload&&i.upload.removeEventListener("progress",j)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Xa))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ov=new h.OlP("XSRF_COOKIE_NAME"),w8=new h.OlP("XSRF_HEADER_NAME");class Pv{}let Ax=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ls(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le),h.LFG(h.Lbi),h.LFG(Ov))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),wl=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Pv),h.LFG(w8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ck=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(kv,[]);this.chain=r.reduceRight((i,u)=>new Av(i,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(y8),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Lv=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:wl,useClass:M3}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Ov,useValue:t.cookieName}:[],t.headerName?{provide:w8,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[wl,{provide:kv,useExisting:wl,multi:!0},{provide:Pv,useClass:Ax},{provide:Ov,useValue:"XSRF-TOKEN"},{provide:w8,useValue:"X-XSRF-TOKEN"}]}),n})(),Fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[np,{provide:Tv,useClass:ck},Nv,{provide:y8,useExisting:Nv}],imports:[[Lv.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const E8=["*"];let Uh;function Pd(n){var e;return(null==(e=function(){if(void 0===Uh&&(Uh=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Uh=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Uh}())?void 0:e.createHTML(n))||n}function x8(n){return Error(`Unable to find icon with the name "${n}"`)}function Hv(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Bv(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ld{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let ip=(()=>{class n{constructor(t,r,i,u){this._httpClient=t,this._sanitizer=r,this._errorHandler=u,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,u){return this._addSvgIconConfig(t,r,new Ld(i,null,u))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,u){const m=this._sanitizer.sanitize(h.q3G.HTML,i);if(!m)throw Bv(i);const y=Pd(m);return this._addSvgIconConfig(t,r,new Ld("",y,u))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ld(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const u=this._sanitizer.sanitize(h.q3G.HTML,r);if(!u)throw Bv(r);const m=Pd(u);return this._addSvgIconSetConfig(t,new Ld("",m,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,t);if(!r)throw Hv(t);const i=this._cachedIconsByUrl.get(r);return i?Ct(jh(i)):this._loadSvgIconFromConfig(new Ld(t,null)).pipe((0,en.b)(u=>this._cachedIconsByUrl.set(r,u)),(0,Tt.U)(u=>jh(u)))}getNamedSvgIcon(t,r=""){const i=Uv(r,t);let u=this._svgIconConfigs.get(i);if(u)return this._getSvgFromConfig(u);if(u=this._getIconConfigFromResolvers(r,t),u)return this._svgIconConfigs.set(i,u),this._getSvgFromConfig(u);const m=this._iconSetConfigs.get(r);return m?this._getSvgFromIconSetConfigs(t,m):function(n,e){const t=(0,Nn.m)(n)?n:()=>n,r=i=>i.error(t());return new Mn.y(r)}(x8(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ct(jh(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Tt.U)(r=>jh(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Ct(i):x0(r.filter(m=>!m.svgText).map(m=>this._loadSvgIconSetFromConfig(m).pipe(Oi(y=>{const S=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,m.url)} failed: ${y.message}`;return this._errorHandler.handleError(new Error(S)),Ct(null)})))).pipe((0,Tt.U)(()=>{const m=this._extractIconWithNameFromAnySet(t,r);if(!m)throw x8(t);return m}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const u=r[i];if(u.svgText&&u.svgText.toString().indexOf(t)>-1){const m=this._svgElementFromConfig(u),y=this._extractSvgIconFromSet(m,t,u.options);if(y)return y}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,en.b)(r=>t.svgText=r),(0,Tt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ct(null):this._fetchIcon(t).pipe((0,en.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const u=t.querySelector(`[id="${r}"]`);if(!u)return null;const m=u.cloneNode(!0);if(m.removeAttribute("id"),"svg"===m.nodeName.toLowerCase())return this._setSvgAttributes(m,i);if("symbol"===m.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(m),i);const y=this._svgElementFromString(Pd("<svg></svg>"));return y.appendChild(m),this._setSvgAttributes(y,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Pd("<svg></svg>")),i=t.attributes;for(let u=0;u<i.length;u++){const{name:m,value:y}=i[u];"id"!==m&&r.setAttribute(m,y)}for(let u=0;u<t.childNodes.length;u++)t.childNodes[u].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[u].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var S;const{url:r,options:i}=t,u=null!=(S=null==i?void 0:i.withCredentials)&&S;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const m=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,r);if(!m)throw Hv(r);const y=this._inProgressUrlFetches.get(m);if(y)return y;const w=this._httpClient.get(m,{responseType:"text",withCredentials:u}).pipe((0,Tt.U)(k=>Pd(k)),Ft(()=>this._inProgressUrlFetches.delete(m)),(0,cc.B)());return this._inProgressUrlFetches.set(m,w),w}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(Uv(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const u=this._resolvers[i](r,t);if(u)return oa(u)?new Ld(u.url,null,u.options):new Ld(u,null)}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(np,8),h.LFG(il),h.LFG(le,8),h.LFG(h.qLn))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jh(n){return n.cloneNode(!0)}function Uv(n,e){return n+":"+e}function oa(n){return!(!n.url||!n.options)}const D3=a3(class{constructor(n){this._elementRef=n}}),sp=new h.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,h.f3M)(le),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),A3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],S8=A3.map(n=>`[${n}]`).join(", "),Gv=/^url\(['"]?#(.*?)['"]?\)$/;let Gh=(()=>{class n extends D3{constructor(t,r,i,u,m){super(t),this._iconRegistry=r,this._location=u,this._errorHandler=m,this._inline=!1,this._currentIconFetch=ws.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ha(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let u=0;u<r.length;u++)r[u].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,u)=>{i.forEach(m=>{u.setAttribute(m.name,`url('${t}#${m.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(S8),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let u=0;u<r.length;u++)A3.forEach(m=>{const y=r[u],w=y.getAttribute(m),S=w?w.match(Gv):null;if(S){let k=i.get(y);k||(k=[],i.set(y,k)),k.push({name:m,value:S[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe((0,Ni.q)(1)).subscribe(u=>this._setSvgElement(u),u=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${u.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(ip),h.$8M("aria-hidden"),h.Y36(sp),h.Y36(h.qLn))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(h.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),h.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:E8,decls:1,vars:0,template:function(t,r){1&t&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Hi],Hi]}),n})(),$v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[P6,O6,hE,wv,Ev,Sv,qv],P6,O6,hE,wv,Ev,Sv,qv]}),n})(),Wv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[vs,$v,p2,c8],vs,$v,p2,c8]}),n})();function k3(n){return(k3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Kv(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Px(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function un(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Px(n,i,t[i])})}return n}function O2(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,i=!1,u=void 0;try{for(var y,m=n[Symbol.iterator]();!(r=(y=m.next()).done)&&(t.push(y.value),!e||t.length!==e);r=!0);}catch(w){i=!0,u=w}finally{try{!r&&null!=m.return&&m.return()}finally{if(i)throw u}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var M8={},Qv={};try{"undefined"!=typeof window&&(M8=window),"undefined"!=typeof document&&(Qv=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(n){}var P2=(M8.navigator||{}).userAgent,O3=void 0===P2?"":P2,e1=M8,Ui=Qv,iu=!!Ui.documentElement&&!!Ui.head&&"function"==typeof Ui.addEventListener&&"function"==typeof Ui.createElement,su=(~O3.indexOf("MSIE")||O3.indexOf("Trident/"),"___FONT_AWESOME___"),t_="svg-inline--fa",$x=[1,2,3,4,5,6,7,8,9,10],Wx=$x.concat([11,12,13,14,15,16,17,18,19,20]),qh={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Zx=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",qh.GROUP,qh.SWAP_OPACITY,qh.PRIMARY,qh.SECONDARY].concat($x.map(function(n){return"".concat(n,"x")})).concat(Wx.map(function(n){return"w-".concat(n)})),e1.FontAwesomeConfig||{});Ui&&"function"==typeof Ui.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=O2(n,2),r=e[1],i=function(n){return""===n||"false"!==n&&("true"===n||n)}(function(n){var e=Ui.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(Zx[r]=i)});var g=un({},{familyPrefix:"fa",replacementClass:t_,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Zx);g.autoReplaceSvg||(g.observeMutations=!1);var _=un({},g);e1.FontAwesomeConfig=_;var C=e1||{};C[su]||(C[su]={}),C[su].styles||(C[su].styles={}),C[su].hooks||(C[su].hooks={}),C[su].shims||(C[su].shims=[]);var E=C[su],T=[];iu&&((Ui.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ui.readyState)||Ui.addEventListener("DOMContentLoaded",function n(){Ui.removeEventListener("DOMContentLoaded",n),T.map(function(e){return e()})}));var Gt,U="pending",X="settled",ae="fulfilled",Te="rejected",ge=function(){},Qe="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,Ve="undefined"==typeof setImmediate?setTimeout:setImmediate,kt=[];function Dn(){for(var n=0;n<kt.length;n++)kt[n][0](kt[n][1]);kt=[],Gt=!1}function ci(n,e){kt.push([n,e]),Gt||(Gt=!0,Ve(Dn,0))}function $h(n){var e=n.owner,t=e._state,r=e._data,i=n[t],u=n.then;if("function"==typeof i){t=ae;try{r=i(r)}catch(m){V2(u,m)}}F2(u,r)||(t===ae&&Fd(u,r),t===Te&&V2(u,r))}function F2(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===k3(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(i){t||(t=!0,e===i?z2(n,i):Fd(n,i))},function(i){t||(t=!0,V2(n,i))}),!0}}catch(i){return t||V2(n,i),!0}return!1}function Fd(n,e){(n===e||!F2(n,e))&&z2(n,e)}function z2(n,e){n._state===U&&(n._state=X,n._data=e,ci(k8,n))}function V2(n,e){n._state===U&&(n._state=X,n._data=e,ci(R8,n))}function ap(n){n._then=n._then.forEach($h)}function k8(n){n._state=ae,ap(n)}function R8(n){n._state=Te,ap(n),!n._handled&&Qe&&global.process.emit("unhandledRejection",n._data,n)}function N8(n){global.process.emit("rejectionHandled",n)}function t1(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof t1))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(n,e){function r(i){V2(e,i)}try{n(function(i){Fd(e,i)},r)}catch(i){r(i)}}(n,this)}t1.prototype={constructor:t1,_state:U,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(ge),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===Te&&Qe&&ci(N8,this)),this._state===ae||this._state===Te?ci($h,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},t1.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new t1(function(e,t){var r=[],i=0;function u(w){return i++,function(S){r[w]=S,--i||e(r)}}for(var y,m=0;m<n.length;m++)(y=n[m])&&"function"==typeof y.then?y.then(u(m),t):r[m]=y;i||e(r)})},t1.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new t1(function(e,t){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(e,t):e(i)})},t1.resolve=function(n){return n&&"object"===k3(n)&&n.constructor===t1?n:new t1(function(e){e(n)})},t1.reject=function(n){return new t1(function(e,t){t(n)})};var H2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function O8(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function bk(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r_(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function Yx(n){return n.size!==H2.size||n.x!==H2.x||n.y!==H2.y||n.rotate!==H2.rotate||n.flipX||n.flipY}function Ck(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},u="translate(".concat(32*e.x,", ").concat(32*e.y,") "),m="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),y="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(u," ").concat(m," ").concat(y)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var Qx={x:0,y:0,width:"100%",height:"100%"};function wk(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function _z(n){return"g"===n.tag?n.children:[n]}function Jx(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,u=n.iconName,m=n.transform,y=n.symbol,w=n.title,S=n.maskId,k=n.titleId,P=n.extra,j=n.watchable,$=void 0!==j&&j,K=r.found?r:t,ve=K.width,Ie=K.height,Ke="fak"===i,ft=Ke?"":"fa-w-".concat(Math.ceil(ve/Ie*16)),At=[_.replacementClass,u?"".concat(_.familyPrefix,"-").concat(u):"",ft].filter(function(bc){return-1===P.classes.indexOf(bc)}).filter(function(bc){return""!==bc||!!bc}).concat(P.classes).join(" "),ct={children:[],attributes:un({},P.attributes,{"data-prefix":i,"data-icon":u,class:At,role:P.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ve," ").concat(Ie)})},hn=Ke&&!~P.classes.indexOf("fa-fw")?{width:"".concat(ve/Ie*16*.0625,"em")}:{};$&&(ct.attributes["data-fa-i2svg"]=""),w&&ct.children.push({tag:"title",attributes:{id:ct.attributes["aria-labelledby"]||"title-".concat(k||O8())},children:[w]});var kn=un({},ct,{prefix:i,iconName:u,main:t,mask:r,maskId:S,transform:m,symbol:y,styles:un({},hn,P.styles)}),zr=r.found&&t.found?function(n){var e=n.children,t=n.attributes,r=n.main,i=n.mask,u=n.maskId,w=r.icon,k=i.icon,P=Ck({transform:n.transform,containerWidth:i.width,iconWidth:r.width}),j={tag:"rect",attributes:un({},Qx,{fill:"white"})},$=w.children?{children:w.children.map(wk)}:{},K={tag:"g",attributes:un({},P.inner),children:[wk(un({tag:w.tag,attributes:un({},w.attributes,P.path)},$))]},ve={tag:"g",attributes:un({},P.outer),children:[K]},Ie="mask-".concat(u||O8()),Ke="clip-".concat(u||O8()),ft={tag:"mask",attributes:un({},Qx,{id:Ie,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[j,ve]},At={tag:"defs",children:[{tag:"clipPath",attributes:{id:Ke},children:_z(k)},ft]};return e.push(At,{tag:"rect",attributes:un({fill:"currentColor","clip-path":"url(#".concat(Ke,")"),mask:"url(#".concat(Ie,")")},Qx)}),{children:e,attributes:t}}(kn):function(n){var e=n.children,t=n.attributes,r=n.main,i=n.transform,m=r_(n.styles);if(m.length>0&&(t.style=m),Yx(i)){var y=Ck({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:un({},y.outer),children:[{tag:"g",attributes:un({},y.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:un({},r.icon.attributes,y.path)}]}]})}else e.push(r.icon);return{children:e,attributes:t}}(kn),kl=zr.attributes;return kn.children=zr.children,kn.attributes=kl,y?function(n){var t=n.iconName,r=n.children,u=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:un({},n.attributes,{id:!0===u?"".concat(n.prefix,"-").concat(_.familyPrefix,"-").concat(t):u}),children:r}]}]}(kn):function(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,u=n.styles,m=n.transform;if(Yx(m)&&t.found&&!r.found){var S={x:t.width/t.height/2,y:.5};i.style=r_(un({},u,{"transform-origin":"".concat(S.x+m.x/16,"em ").concat(S.y+m.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(kn)}var tS=function(e,t,r,i){var w,S,k,u=Object.keys(e),m=u.length,y=void 0!==i?function(e,t){return function(r,i,u,m){return e.call(t,r,i,u,m)}}(t,i):t;for(void 0===r?(w=1,k=e[u[0]]):(w=0,k=r);w<m;w++)k=y(k,e[S=u[w]],S,e);return k};function Ik(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,u=Object.keys(e).reduce(function(m,y){var w=e[y];return w.icon?m[w.iconName]=w.icon:m[y]=w,m},{});"function"!=typeof E.hooks.addPack||i?E.styles[n]=un({},E.styles[n]||{},u):E.hooks.addPack(n,u),"fas"===n&&Ik("fa",e)}var Mk=E.styles,Tz=E.shims,Rk=function(){var e=function(i){return tS(Mk,function(u,m,y){return u[y]=tS(m,i,{}),u},{})};e(function(r,i,u){return i[3]&&(r[i[3]]=u),r}),e(function(r,i,u){var m=i[2];return r[u]=u,m.forEach(function(y){r[y]=u}),r});var t="far"in Mk;tS(Tz,function(r,i){var m=i[1];return"far"===m&&!t&&(m="fas"),r[i[0]]={prefix:m,iconName:i[2]},r},{})};function Ok(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function cp(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,u=void 0===i?[]:i;return"string"==typeof n?bk(n):"<".concat(e," ").concat(function(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(bk(n[t]),'" ')},"").trim()}(r),">").concat(u.map(cp).join(""),"</").concat(e,">")}Rk();function L8(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(L8.prototype=Object.create(Error.prototype)).constructor=L8;var o_={fill:"currentColor"},Hk={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},sS=(un({},o_,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),un({},Hk,{attributeName:"opacity"}));function aS(n){var e=n[0],t=n[1],u=O2(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(u)?{tag:"g",attributes:{class:"".concat(_.familyPrefix,"-").concat(qh.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_.familyPrefix,"-").concat(qh.SECONDARY),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(_.familyPrefix,"-").concat(qh.PRIMARY),fill:"currentColor",d:u[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:u}}}}un({},o_,{cx:"256",cy:"364",r:"28"}),un({},Hk,{attributeName:"r",values:"28;14;28;28;14;28;"}),un({},sS,{values:"1;0;1;1;0;1;"}),un({},o_,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),un({},sS,{values:"1;0;0;0;0;1;"}),un({},o_,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),un({},sS,{values:"0;0;1;1;0;0;"});var tV=function(){function n(){(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function(n,e,t){e&&Kv(n.prototype,e)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];var m=i.reduce(this._pullDefinitions,{});Object.keys(m).forEach(function(y){t.definitions[y]=un({},t.definitions[y]||{},m[y]),Ik(y,m[y]),Rk()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(u){var m=i[u],y=m.prefix,w=m.iconName,S=m.icon;t[y]||(t[y]={}),t[y][w]=S}),t}}]),n}();function F8(){_.autoAddCss&&!l_&&(function(n){if(n&&iu){var e=Ui.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Ui.head.childNodes,r=null,i=t.length-1;i>-1;i--){var u=t[i],m=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(m)>-1&&(r=u)}Ui.head.insertBefore(e,r)}}(function(){var n="fa",e=t_,t=_.familyPrefix,r=_.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==n||r!==e){var u=new RegExp("\\.".concat(n,"\\-"),"g"),m=new RegExp("\\--".concat(n,"\\-"),"g"),y=new RegExp("\\.".concat(e),"g");i=i.replace(u,".".concat(t,"-")).replace(m,"--".concat(t,"-")).replace(y,".".concat(r))}return i}()),l_=!0)}function a_(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return cp(r)})}}),Object.defineProperty(n,"node",{get:function(){if(iu){var r=Ui.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function uS(n){var e=n.prefix,t=void 0===e?"fa":e,r=n.iconName;if(r)return Ok(qk.definitions,t,r)||Ok(E.styles,t,r)}var n,qk=new tV,l_=!1,$k_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,i){var u=i.toLowerCase().split("-"),m=u[0],y=u.slice(1).join("-");if(m&&"h"===y)return r.flipX=!0,r;if(m&&"v"===y)return r.flipY=!0,r;if(y=parseFloat(y),isNaN(y))return r;switch(m){case"grow":r.size=r.size+y;break;case"shrink":r.size=r.size-y;break;case"left":r.x=r.x-y;break;case"right":r.x=r.x+y;break;case"up":r.y=r.y-y;break;case"down":r.y=r.y+y;break;case"rotate":r.rotate=r.rotate+y}return r},t):t}(e)},Wk=(n=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,r=void 0===t?H2:t,i=e.symbol,u=void 0!==i&&i,m=e.mask,y=void 0===m?null:m,w=e.maskId,S=void 0===w?null:w,k=e.title,P=void 0===k?null:k,j=e.titleId,$=void 0===j?null:j,K=e.classes,ve=void 0===K?[]:K,Ie=e.attributes,Ke=void 0===Ie?{}:Ie,ft=e.styles,At=void 0===ft?{}:ft;if(n){var ct=n.prefix,hn=n.iconName,kn=n.icon;return a_(un({type:"icon"},n),function(){return F8(),_.autoA11y&&(P?Ke["aria-labelledby"]="".concat(_.replacementClass,"-title-").concat($||O8()):(Ke["aria-hidden"]="true",Ke.focusable="false")),Jx({icons:{main:aS(kn),mask:y?aS(y.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ct,iconName:hn,transform:un({},H2,r),symbol:u,title:P,maskId:S,titleId:$,extra:{attributes:Ke,styles:At,classes:ve}})})}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:uS(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:uS(i||{})),n(r,un({},t,{mask:i}))});const uV=["*"],fV=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let gV=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zk=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(u=>r[u]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vV=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[h.TTD]}),n})(),_V=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275cmp=h.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[h.TTD],ngContentSelectors:uV,decls:1,vars:0,template:function(t,r){1&t&&(h.F$t(),h.Hsn(0))},encapsulation:2}),n})(),yV=(()=>{class n{constructor(t,r,i,u,m){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=u,this.classes=[],null!=m&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,t){const i=this.findIconDefinition(r);if(null!=i){const u=this.buildParams();this.renderIcon(i,u)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=i?i:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?$k_transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...fV(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=Wk(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(il),h.Y36(gV),h.Y36(Zk),h.Y36(vV,8),h.Y36(_V,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(h.Ikx("innerHTML",r.renderedIconHTML,h.oJD),h.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[h.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function dS(){return(0,_i.e)((n,e)=>{let t,r=!1;n.subscribe(new cr.Q(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}V(1171);var Dt,Yk=V(6293),bV="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},B2={},hS=hS||{},dn=bV||self;function c_(){}function fS(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function z8(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var pS="closure_uid_"+(1e9*Math.random()>>>0),wV=0;function EV(n,e,t){return n.call.apply(n.bind,arguments)}function xV(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function aa(n,e,t){return(aa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EV:xV).apply(null,arguments)}function u_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function la(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var m=Array(arguments.length-2),y=2;y<arguments.length;y++)m[y-2]=arguments[y];return e.prototype[i].apply(r,m)}}function Zh(){this.s=this.s,this.o=this.o}var TV={};Zh.prototype.s=!1,Zh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,pS)&&n[pS]||(n[pS]=++wV)}(this);delete TV[n]}},Zh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Jk=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function Xk(n){return Array.prototype.concat.apply([],arguments)}function mS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function d_(n){return/^[\s\xa0]*$/.test(n)}var xl,eR=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function El(n,e){return-1!=n.indexOf(e)}function gS(n,e){return n<e?-1:n>e?1:0}e:{var tR=dn.navigator;if(tR){var nR=tR.userAgent;if(nR){xl=nR;break e}}xl=""}function vS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function rR(n){const e={};for(const t in n)e[t]=n[t];return e}var iR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sR(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<iR.length;u++)t=iR[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function _S(n){return _S[" "](n),n}_S[" "]=c_;var h_,DV=El(xl,"Opera"),up=El(xl,"Trident")||El(xl,"MSIE"),oR=El(xl,"Edge"),yS=oR||up,aR=El(xl,"Gecko")&&!(El(xl.toLowerCase(),"webkit")&&!El(xl,"Edge"))&&!(El(xl,"Trident")||El(xl,"MSIE"))&&!El(xl,"Edge"),AV=El(xl.toLowerCase(),"webkit")&&!El(xl,"Edge");function lR(){var n=dn.document;return n?n.documentMode:void 0}e:{var bS="",CS=function(){var n=xl;return aR?/rv:([^\);]+)(\)|;)/.exec(n):oR?/Edge\/([\d\.]+)/.exec(n):up?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):AV?/WebKit\/(\S+)/.exec(n):DV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(CS&&(bS=CS?CS[1]:""),up){var wS=lR();if(null!=wS&&wS>parseFloat(bS)){h_=String(wS);break e}}h_=bS}var kV={};function RV(){return e=kV,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=eR(String(h_)).split("."),t=eR("9").split("."),r=Math.max(e.length,t.length);for(let m=0;0==n&&m<r;m++){var i=e[m]||"",u=t[m]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=gS(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||gS(0==i[2].length,0==u[2].length)||gS(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n}();var e}var NV=dn.document&&up&&(lR()||parseInt(h_,10))||void 0,OV=function(){if(!dn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{dn.addEventListener("test",c_,e),dn.removeEventListener("test",c_,e)}catch(t){}return n}();function Ga(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function V8(n,e){if(Ga.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(aR){e:{try{_S(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:PV[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&V8.Z.h.call(this)}}Ga.prototype.h=function(){this.defaultPrevented=!0},la(V8,Ga);var PV={2:"touch",3:"pen",4:"mouse"};V8.prototype.h=function(){V8.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var H8="closure_listenable_"+(1e6*Math.random()|0),LV=0;function FV(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++LV,this.ca=this.fa=!1}function f_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function p_(n){this.src=n,this.g={},this.h=0}function xS(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Qk(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(f_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function SS(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}p_.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var m=SS(n,e,r,i);return-1<m?(e=n[m],t||(e.fa=!1)):((e=new FV(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var TS="closure_lm_"+(1e6*Math.random()|0),IS={};function uR(n,e,t,r,i){if(r&&r.once)return hR(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)uR(n,e[u],t,r,i);return null}return t=kS(t),n&&n[H8]?n.N(e,t,z8(r)?!!r.capture:!!r,i):dR(n,e,t,!1,r,i)}function dR(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var m=z8(i)?!!i.capture:!!i,y=DS(n);if(y||(n[TS]=y=new p_(n)),(t=y.add(e,t,r,m,u)).proxy)return t;if(r=function(){var e=VV;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)OV||(i=m),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(pR(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hR(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)hR(n,e[u],t,r,i);return null}return t=kS(t),n&&n[H8]?n.O(e,t,z8(r)?!!r.capture:!!r,i):dR(n,e,t,!0,r,i)}function fR(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)fR(n,e[u],t,r,i);else r=z8(r)?!!r.capture:!!r,t=kS(t),n&&n[H8]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=SS(u=n.g[e],t,r,i))&&(f_(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=DS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=SS(e,t,r,i)),(t=-1<n?e[n]:null)&&MS(t))}function MS(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[H8])xS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(pR(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=DS(e))?(xS(t,n),0==t.h&&(t.src=null,e[TS]=null)):f_(n)}}}function pR(n){return n in IS?IS[n]:IS[n]="on"+n}function VV(n,e){if(n.ca)n=!0;else{e=new V8(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&MS(n),n=t.call(r,e)}return n}function DS(n){return(n=n[TS])instanceof p_?n:null}var AS="__closure_events_fn_"+(1e9*Math.random()>>>0);function kS(n){return"function"==typeof n?n:(n[AS]||(n[AS]=function(e){return n.handleEvent(e)}),n[AS])}function Eo(){Zh.call(this),this.i=new p_(this),this.P=this,this.I=null}function ca(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ga(e,n);else if(e instanceof Ga)e.target=e.target||n;else{var i=e;sR(e=new Ga(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var m=e.g=t[u];i=m_(m,r,!0,e)&&i}if(i=m_(m=e.g=n,r,!0,e)&&i,i=m_(m,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=m_(m=e.g=t[u],r,!1,e)&&i}function m_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.ca&&m.capture==t){var y=m.listener,w=m.ia||m.src;m.fa&&xS(n.i,m),i=!1!==y.call(w,r)&&i}}return i&&!r.defaultPrevented}la(Eo,Zh),Eo.prototype[H8]=!0,Eo.prototype.removeEventListener=function(n,e,t,r){fR(this,n,e,t,r)},Eo.prototype.M=function(){if(Eo.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)f_(t[r]);delete n.g[e],n.h--}}this.I=null},Eo.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Eo.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var RS=dn.JSON.stringify;function HV(){var n=gR;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var OS,mR=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new UV,n=>n.reset());class UV{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jV(n){dn.setTimeout(()=>{throw n},0)}function NS(n,e){OS||function(){var n=dn.Promise.resolve(void 0);OS=function(){n.then(qV)}}(),PS||(OS(),PS=!0),gR.add(n,e)}var PS=!1,gR=new class{constructor(){this.h=this.g=null}add(e,t){const r=mR.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function qV(){for(var n;n=HV();){try{n.h.call(n.g)}catch(t){jV(t)}var e=mR;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}PS=!1}function g_(n,e){Eo.call(this),this.h=n||1,this.g=e||dn,this.j=aa(this.kb,this),this.l=Date.now()}function LS(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function FS(n,e,t){if("function"==typeof n)t&&(n=aa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=aa(n.handleEvent,n)}return 2147483647<Number(e)?-1:dn.setTimeout(n,e||0)}function vR(n){n.g=FS(()=>{n.g=null,n.i&&(n.i=!1,vR(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}la(g_,Eo),(Dt=g_.prototype).da=!1,Dt.S=null,Dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ca(this,"tick"),this.da&&(LS(this),this.start()))}},Dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){g_.Z.M.call(this),LS(this),delete this.g};class $V extends Zh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vR(this)}M(){super.M(),this.g&&(dn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function B8(n){Zh.call(this),this.h=n,this.g={}}la(B8,Zh);var _R=[];function yR(n,e,t,r){Array.isArray(t)||(t&&(_R[0]=t.toString()),t=_R);for(var i=0;i<t.length;i++){var u=uR(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function bR(n){vS(n.g,function(e,t){this.g.hasOwnProperty(t)&&MS(e)},n),n.g={}}function v_(){this.g=!0}function dp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<i.length;m++)i[m]=""}}}return RS(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}B8.prototype.M=function(){B8.Z.M.call(this),bR(this)},B8.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},v_.prototype.Aa=function(){this.g=!1},v_.prototype.info=function(){};var L3={},CR=null;function __(){return CR=CR||new Eo}function wR(n){Ga.call(this,L3.Ma,n)}function U8(n){const e=__();ca(e,new wR(e,n))}function ER(n,e){Ga.call(this,L3.STAT_EVENT,n),this.stat=e}function Sl(n){const e=__();ca(e,new ER(e,n))}function xR(n,e){Ga.call(this,L3.Na,n),this.size=e}function j8(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return dn.setTimeout(function(){n()},e)}L3.Ma="serverreachability",la(wR,Ga),L3.STAT_EVENT="statevent",la(ER,Ga),L3.Na="timingevent",la(xR,Ga);var y_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},SR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zS(){}function IR(){}zS.prototype.h=null;var BS,G8={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function VS(){Ga.call(this,"d")}function HS(){Ga.call(this,"c")}function b_(){}function q8(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new B8(this),this.P=QV,this.W=new g_(n=yS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new MR}function MR(){this.i=null,this.g="",this.h=!1}la(VS,Ga),la(HS,Ga),la(b_,zS),b_.prototype.g=function(){return new XMLHttpRequest},b_.prototype.i=function(){return{}},BS=new b_;var QV=45e3,US={},C_={};function jS(n,e,t){n.K=1,n.v=T_(U2(e)),n.s=t,n.U=!0,DR(n,null)}function DR(n,e){n.F=Date.now(),$8(n),n.A=U2(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),zR(t.h,"t",r),n.C=0,t=n.l.H,n.h=new MR,n.g=aN(n.l,t?e:null,!n.s),0<n.O&&(n.L=new $V(aa(n.Ia,n,n.g),n.O)),yR(n.V,n.g,"readystatechange",n.gb),e=n.H?rR(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),U8(1),function(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var m="",y=u.split("&"),w=0;w<y.length;w++){var S=y[w].split("=");if(1<S.length){var k=S[0];S=S[1];var P=k.split("_");m=2<=P.length&&"type"==P[1]?m+(k+"=")+S+"&":m+(k+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+m})}(n.j,n.u,n.A,n.m,n.X,n.s)}function AR(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function kR(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=JV(n,t),i==C_){4==e&&(n.o=4,Sl(14),r=!1),dp(n.j,n.m,null,"[Incomplete Response]");break}if(i==US){n.o=4,Sl(15),dp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}dp(n.j,n.m,i,null),GS(n,i)}AR(n)&&i!=C_&&i!=US&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Sl(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),tT(e),e.L=!0,Sl(11))):(dp(n.j,n.m,t,"[Invalid Chunked Response]"),F3(n),W8(n))}function JV(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?C_:(t=Number(e.substring(t,r)),isNaN(t)?US:(r+=1)+t>e.length?C_:(e=e.substr(r,t),n.C=r+t,e))}function $8(n){n.Y=Date.now()+n.P,RR(n,n.P)}function RR(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=j8(aa(n.eb,n),e)}function w_(n){n.B&&(dn.clearTimeout(n.B),n.B=null)}function W8(n){0==n.l.G||n.I||rN(n.l,n)}function F3(n){w_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,LS(n.W),bR(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function GS(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||WS(t.i,n)))if(t.I=n.N,!n.J&&WS(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(S){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=j8(aa(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;R_(t),A_(t)}eT(t),Sl(18)}if(1>=BR(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else H3(t,11)}else if((n.J||t.g==n)&&R_(t),!d_(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let S=i[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const k=S[3];null!=k&&(t.ma=k,t.h.info("VER="+t.ma));const P=S[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const j=S[5];null!=j&&"number"==typeof j&&0<j&&(t.K=r=1.5*j,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const K=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var u=r.i;!u.g&&(El(K,"spdy")||El(K,"quic")||El(K,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(ZS(u,u.h),u.h=null))}if(r.D){const ve=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.sa=ve,ui(r.F,r.D,ve))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=n;if((r=t).oa=oN(r,r.H?r.la:null,r.W),m.J){UR(r.i,m);var y=m,w=r.K;w&&y.setTimeout(w),y.B&&(w_(y),$8(y)),r.g=m}else tN(r);0<t.l.length&&k_(t)}else"stop"!=S[0]&&"close"!=S[0]||H3(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?H3(t,7):JS(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}U8(4)}catch(S){}}function qS(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fS(n)||"string"==typeof n)Jk(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(fS(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(fS(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function hp(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof hp)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function $S(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];z3(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)z3(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function z3(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Dt=q8.prototype).setTimeout=function(n){this.P=n},Dt.gb=function(n){n=n.target;const e=this.L;e&&3==j2(n)?e.l():this.Ia(n)},Dt.Ia=function(n){try{if(n==this.g)e:{const k=j2(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>k)&&(3!=k||yS||this.g&&(this.h.h||this.g.ga()||YR(this.g)))){this.I||4!=k||7==e||U8(8==e||0>=P?3:2),w_(this);var t=this.g.ba();this.N=t;t:if(AR(this)){var r=YR(this.g);n="";var i=r.length,u=4==j2(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){F3(this),W8(this);var m="";break t}this.h.i=new dn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,u,m){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.X,k,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,w=this.g;if((y=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!d_(y)){var S=y;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Sl(12),F3(this),W8(this);break e}dp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GS(this,t)}this.U?(kR(this,k,m),yS&&this.i&&3==k&&(yR(this.V,this.W,"tick",this.fb),this.W.start())):(dp(this.j,this.m,m,null),GS(this,m)),4==k&&F3(this),this.i&&!this.I&&(4==k?rN(this.l,this):(this.i=!1,$8(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,Sl(12)):(this.o=0,Sl(13)),F3(this),W8(this)}}}catch(k){}},Dt.fb=function(){if(this.g){var n=j2(this.g),e=this.g.ga();this.C<e.length&&(w_(this),kR(this,n,e),this.i&&4!=n&&$8(this))}},Dt.cancel=function(){this.I=!0,F3(this)},Dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(U8(3),Sl(17)),F3(this),this.o=2,W8(this)):RR(this,this.Y-n)},(Dt=hp.prototype).R=function(){$S(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Dt.T=function(){return $S(this),this.g.concat()},Dt.get=function(n,e){return z3(this.h,n)?this.h[n]:e},Dt.set=function(n,e){z3(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var NR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function V3(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof V3){this.g=void 0!==e?e:n.g,E_(this,n.j),this.s=n.s,x_(this,n.i),S_(this,n.m),this.l=n.l,e=n.h;var t=new Y8;t.i=e.i,e.g&&(t.g=new hp(e.g),t.h=e.h),OR(this,t),this.o=n.o}else n&&(t=String(n).match(NR))?(this.g=!!e,E_(this,t[1]||"",!0),this.s=Z8(t[2]||""),x_(this,t[3]||"",!0),S_(this,t[4]),this.l=Z8(t[5]||"",!0),OR(this,t[6]||"",!0),this.o=Z8(t[7]||"")):(this.g=!!e,this.h=new Y8(null,this.g))}function U2(n){return new V3(n)}function E_(n,e,t){n.j=t?Z8(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function x_(n,e,t){n.i=t?Z8(e,!0):e}function S_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function OR(n,e,t){e instanceof Y8?(n.h=e,function(n,e){e&&!n.j&&(Kh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(LR(this,r),zR(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=K8(e,oH)),n.h=new Y8(e,n.g))}function ui(n,e,t){n.h.set(e,t)}function T_(n){return ui(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Z8(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function K8(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rH),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}V3.prototype.toString=function(){var n=[],e=this.j;e&&n.push(K8(e,PR,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(K8(e,PR,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(K8(t,"/"==t.charAt(0)?sH:iH,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",K8(t,aH)),n.join("")};var PR=/[#\/\?@]/g,iH=/[#\?:]/g,sH=/[#\?]/g,oH=/[#\?@]/g,aH=/#/g;function Y8(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Kh(n){n.g||(n.g=new hp,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function LR(n,e){Kh(n),e=fp(n,e),z3(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,z3((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&$S(n)))}function FR(n,e){return Kh(n),e=fp(n,e),z3(n.g.h,e)}function zR(n,e,t){LR(n,e),0<t.length&&(n.i=null,n.g.set(fp(n,e),mS(t)),n.h+=t.length)}function fp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VR(n){this.l=n||uH,n=dn.PerformanceNavigationTiming?0<(n=dn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(dn.g&&dn.g.Ea&&dn.g.Ea()&&dn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=Y8.prototype).add=function(n,e){Kh(this),this.i=null,n=fp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){Kh(this),this.g.forEach(function(t,r){Jk(t,function(i){n.call(e,i,r,this)},this)},this)},Dt.T=function(){Kh(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},Dt.R=function(n){Kh(this);var e=[];if("string"==typeof n)FR(this,n)&&(e=Xk(e,this.g.get(fp(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Xk(e,n[t])}return e},Dt.set=function(n,e){return Kh(this),this.i=null,FR(this,n=fp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var m=i;""!==r[u]&&(m+="="+encodeURIComponent(String(r[u]))),n.push(m)}}return this.i=n.join("&")};var uH=10;function HR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function BR(n){return n.h?1:n.g?n.g.size:0}function WS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ZS(n,e){n.g?n.g.add(e):n.h=e}function UR(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jR(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return mS(n.i)}function KS(){}function dH(){this.g=new KS}function hH(n,e,t){const r=t||"";try{qS(n,function(i,u){let m=i;z8(i)&&(m=RS(i)),e.push(r+u+"="+encodeURIComponent(m))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function I_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function Q8(n){this.l=n.$b||null,this.j=n.ib||!1}function M_(n,e){Eo.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=YS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}VR.prototype.cancel=function(){if(this.i=jR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},KS.prototype.stringify=function(n){return dn.JSON.stringify(n,void 0)},KS.prototype.parse=function(n){return dn.JSON.parse(n,void 0)},la(Q8,zS),Q8.prototype.g=function(){return new M_(this.l,this.j)},Q8.prototype.i=function(n){return function(){return n}}({}),la(M_,Eo);var YS=0;function GR(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function J8(n){n.readyState=4,n.l=null,n.j=null,n.A=null,X8(n)}function X8(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=M_.prototype).open=function(n,e){if(this.readyState!=YS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,X8(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||dn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,J8(this)),this.readyState=YS},Dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,X8(this)),this.g&&(this.readyState=3,X8(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==dn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GR(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?J8(this):X8(this),3==this.readyState&&GR(this)}},Dt.Ua=function(n){this.g&&(this.response=this.responseText=n,J8(this))},Dt.Ta=function(n){this.g&&(this.response=n,J8(this))},Dt.ha=function(){this.g&&J8(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(M_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pH=dn.JSON.parse;function As(n){Eo.call(this),this.headers=new hp,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qR,this.K=this.L=!1}la(As,Eo);var qR="",mH=/^https?$/i,gH=["POST","PUT"];function _H(n){return"content-type"==n.toLowerCase()}function $R(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,WR(n),D_(n)}function WR(n){n.D||(n.D=!0,ca(n,"complete"),ca(n,"error"))}function ZR(n){if(n.h&&void 0!==hS&&(!n.C[1]||4!=j2(n)||2!=n.ba()))if(n.v&&4==j2(n))FS(n.Fa,0,n);else if(ca(n,"readystatechange"),4==j2(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var i=String(n.H).match(NR)[1]||null;if(!i&&dn.self&&dn.self.location){var u=dn.self.location.protocol;i=u.substr(0,u.length-1)}r=!mH.test(i?i.toLowerCase():"")}t=r}if(t)ca(n,"complete"),ca(n,"success");else{n.m=6;try{var m=2<j2(n)?n.g.statusText:""}catch(w){m=""}n.j=m+" ["+n.ba()+"]",WR(n)}}finally{D_(n)}}}function D_(n,e){if(n.g){KR(n);const t=n.g,r=n.C[0]?c_:null;n.g=null,n.C=null,e||ca(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function KR(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(dn.clearTimeout(n.A),n.A=null)}function j2(n){return n.g?n.g.readyState:0}function YR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case qR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function QS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return vS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ui(n,e,t))}function em(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function QR(n){this.za=0,this.l=[],this.h=new v_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=em("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=em("baseRetryDelayMs",5e3,n),this.$a=em("retryDelaySeedMs",1e4,n),this.Ya=em("forwardChannelMaxRetries",2,n),this.ra=em("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new VR(n&&n.concurrentRequestLimit),this.Ca=new dH,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function JS(n){if(JR(n),3==n.G){var e=n.V++,t=U2(n.F);ui(t,"SID",n.J),ui(t,"RID",e),ui(t,"TYPE","terminate"),tm(n,t),(e=new q8(n,n.h,e,void 0)).K=2,e.v=T_(U2(t)),t=!1,dn.navigator&&dn.navigator.sendBeacon&&(t=dn.navigator.sendBeacon(e.v.toString(),"")),!t&&dn.Image&&((new Image).src=e.v,t=!0),t||(e.g=aN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$8(e)}sN(n)}function A_(n){n.g&&(tT(n),n.g.cancel(),n.g=null)}function JR(n){A_(n),n.u&&(dn.clearTimeout(n.u),n.u=null),R_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&dn.clearTimeout(n.m),n.m=null)}function XS(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&k_(n)}function k_(n){HR(n.i)||n.m||(n.m=!0,NS(n.Ha,n),n.C=0)}function XR(n,e){var t;t=e?e.m:n.V++;const r=U2(n.F);ui(r,"SID",n.J),ui(r,"RID",t),ui(r,"AID",n.U),tm(n,r),n.o&&n.s&&QS(r,n.o,n.s),t=new q8(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=eN(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),ZS(n.i,t),jS(t,r,e)}function tm(n,e){n.j&&qS({},function(t,r){ui(e,r,t)})}function eN(n,e,t){t=Math.min(n.l.length,t);var r=n.j?aa(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const m=["count="+t];-1==u?0<t?(u=i[0].h,m.push("ofs="+u)):u=0:m.push("ofs="+u);let y=!0;for(let w=0;w<t;w++){let S=i[w].h;const k=i[w].g;if(S-=u,0>S)u=Math.max(0,i[w].h-100),y=!1;else try{hH(k,m,"req"+S+"_")}catch(P){r&&r(k)}}if(y){r=m.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function tN(n){n.g||n.u||(n.Y=1,NS(n.Ga,n),n.A=0)}function eT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=j8(aa(n.Ga,n),iN(n,n.A)),n.A++,0))}function tT(n){null!=n.B&&(dn.clearTimeout(n.B),n.B=null)}function nN(n){n.g=new q8(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=U2(n.oa);ui(e,"RID","rpc"),ui(e,"SID",n.J),ui(e,"CI",n.N?"0":"1"),ui(e,"AID",n.U),tm(n,e),ui(e,"TYPE","xmlhttp"),n.o&&n.s&&QS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=T_(U2(e)),t.s=null,t.U=!0,DR(t,n)}function R_(n){null!=n.v&&(dn.clearTimeout(n.v),n.v=null)}function rN(n,e){var t=null;if(n.g==e){R_(n),tT(n),n.g=null;var r=2}else{if(!WS(n.i,e))return;t=e.D,UR(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ca(r=__(),new xR(r,t,e,i)),k_(n)}else tN(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(BR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=j8(aa(n.Ha,n,e),iN(n,n.C)),n.C++,0)))}(n,e)||2==r&&eT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:H3(n,5);break;case 4:H3(n,10);break;case 3:H3(n,6);break;default:H3(n,2)}}function iN(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function H3(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=aa(n.jb,n);t||(t=new V3("//www.google.com/images/cleardot.gif"),dn.location&&"http"==dn.location.protocol||E_(t,"https"),T_(t)),function(n,e){const t=new v_;if(dn.Image){const r=new Image;r.onload=u_(I_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=u_(I_,t,r,"TestLoadImage: error",!1,e),r.onabort=u_(I_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=u_(I_,t,r,"TestLoadImage: timeout",!1,e),dn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Sl(2);n.G=0,n.j&&n.j.va(e),sN(n),JR(n)}function sN(n){n.G=0,n.I=-1,n.j&&((0!=jR(n.i).length||0!=n.l.length)&&(n.i.i.length=0,mS(n.l),n.l.length=0),n.j.ua())}function oN(n,e,t){let r=function(n){return n instanceof V3?U2(n):new V3(n,void 0)}(t);if(""!=r.i)e&&x_(r,e+"."+r.i),S_(r,r.m);else{const i=dn.location;r=function(n,e,t,r){var i=new V3(null,void 0);return n&&E_(i,n),e&&x_(i,e),t&&S_(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&vS(n.aa,function(i,u){ui(r,u,i)}),t=n.sa,(e=n.D)&&t&&ui(r,e,t),ui(r,"VER",n.ma),tm(n,r),r}function aN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new As(t&&n.Ba&&!n.qa?new Q8({ib:!0}):n.qa)).L=n.H,e}function lN(){}function N_(){if(up&&!(10<=Number(NV)))throw Error("Environmental error: no available transport.")}function n1(n,e){Eo.call(this),this.g=new QR(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!d_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!d_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new pp(this)}function cN(n){VS.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uN(){HS.call(this),this.status=1}function pp(n){this.g=n}(Dt=As.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():BS.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:BS),this.g.onreadystatechange=aa(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void $R(this,u)}n=t||"";const i=new hp(this.headers);r&&qS(r,function(u,m){i.set(m,u)}),r=function(n){e:{var e=_H;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=dn.FormData&&n instanceof dn.FormData,!(0<=Qk(gH,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,m){this.g.setRequestHeader(m,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{KR(this),0<this.B&&((this.K=function(n){return up&&RV()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=aa(this.pa,this)):this.A=FS(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){$R(this,u)}},Dt.pa=function(){void 0!==hS&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ca(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ca(this,"complete"),ca(this,"abort"),D_(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),D_(this,!0)),As.Z.M.call(this)},Dt.Fa=function(){this.s||(this.F||this.v||this.l?ZR(this):this.cb())},Dt.cb=function(){ZR(this)},Dt.ba=function(){try{return 2<j2(this)?this.g.status:-1}catch(n){return-1}},Dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pH(e)}},Dt.Da=function(){return this.m},Dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=QR.prototype).ma=8,Dt.G=1,Dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new q8(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=rR(u),sR(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eN(this,i,e),ui(t=U2(this.F),"RID",n),ui(t,"CVER",22),this.D&&ui(t,"X-HTTP-Session-Id",this.D),tm(this,t),this.o&&u&&QS(t,this.o,u),ZS(this.i,i),this.Ra&&ui(t,"TYPE","init"),this.ja?(ui(t,"$req",e),ui(t,"SID","null"),i.$=!0,jS(i,t,null)):jS(i,t,e),this.G=2}}else 3==this.G&&(n?XR(this,n):0==this.l.length||HR(this.i)||XR(this))},Dt.Ga=function(){if(this.u=null,nN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=j8(aa(this.bb,this),n)}},Dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sl(10),A_(this),nN(this))},Dt.ab=function(){null!=this.v&&(this.v=null,A_(this),eT(this),Sl(19))},Dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Sl(2)):(this.h.info("Failed to ping google.com"),Sl(1))},(Dt=lN.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Oa=function(){},N_.prototype.g=function(n,e){return new n1(n,e)},la(n1,Eo),n1.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),NS(aa(n.hb,n,e))),Sl(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=oN(n,null,n.W),k_(n)},n1.prototype.close=function(){JS(this.g)},n1.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,XS(this.g,e)}else this.v?((e={}).__data__=RS(n),XS(this.g,e)):XS(this.g,n)},n1.prototype.M=function(){this.g.j=null,delete this.j,JS(this.g),delete this.g,n1.Z.M.call(this)},la(cN,VS),la(uN,HS),la(pp,lN),pp.prototype.xa=function(){ca(this.g,"a")},pp.prototype.wa=function(n){ca(this.g,new cN(n))},pp.prototype.va=function(n){ca(this.g,new uN(n))},pp.prototype.ua=function(){ca(this.g,"b")},N_.prototype.createWebChannel=N_.prototype.g,n1.prototype.send=n1.prototype.u,n1.prototype.open=n1.prototype.m,n1.prototype.close=n1.prototype.close,y_.NO_ERROR=0,y_.TIMEOUT=8,y_.HTTP_ERROR=6,SR.COMPLETE="complete",IR.EventType=G8,G8.OPEN="a",G8.CLOSE="b",G8.ERROR="c",G8.MESSAGE="d",Eo.prototype.listen=Eo.prototype.N,As.prototype.listenOnce=As.prototype.O,As.prototype.getLastError=As.prototype.La,As.prototype.getLastErrorCode=As.prototype.Da,As.prototype.getStatus=As.prototype.ba,As.prototype.getResponseJson=As.prototype.Qa,As.prototype.getResponseText=As.prototype.ga,As.prototype.send=As.prototype.ea;var CH=B2.createWebChannelTransport=function(){return new N_},wH=B2.getStatEventTarget=function(){return __()},nT=B2.ErrorCode=y_,EH=B2.EventType=SR,xH=B2.Event=L3,dN=B2.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},SH=B2.FetchXmlHttpFactory=Q8,O_=B2.WebChannel=IR,TH=B2.XhrIo=As;const hN="@firebase/firestore";class ua{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ua.UNAUTHENTICATED=new ua(null),ua.GOOGLE_CREDENTIALS=new ua("google-credentials-uid"),ua.FIRST_PARTY=new ua("first-party-uid"),ua.MOCK_USER=new ua("mock-user");let mp="9.6.7";const Yh=new jc.Yd("@firebase/firestore");function rT(){return Yh.logLevel}function st(n,...e){if(Yh.logLevel<=jc.in.DEBUG){const t=e.map(iT);Yh.debug(`Firestore (${mp}): ${n}`,...t)}}function ks(n,...e){if(Yh.logLevel<=jc.in.ERROR){const t=e.map(iT);Yh.error(`Firestore (${mp}): ${n}`,...t)}}function nm(n,...e){if(Yh.logLevel<=jc.in.WARN){const t=e.map(iT);Yh.warn(`Firestore (${mp}): ${n}`,...t)}}function iT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Ht(n="Unexpected state"){const e=`FIRESTORE (${mp}) INTERNAL ASSERTION FAILED: `+n;throw ks(e),new Error(e)}function sn(n,e){n||Ht()}function mt(n,e){return n}const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends jt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ua.UNAUTHENTICATED))}shutdown(){}}class AH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kH{constructor(e){this.t=e,this.currentUser=ua.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=S=>this.i!==i?(i=this.i,t(S)):Promise.resolve();let m=new xo;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new xo,e.enqueueRetryable(()=>u(this.currentUser))};const y=()=>{const S=m;e.enqueueRetryable((0,Ne.Z)(function*(){yield S.promise,yield u(r.currentUser)}))},w=S=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(S=>w(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?w(S):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new xo)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sn("string"==typeof r.accessToken),new fN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return sn(null===e||"string"==typeof e),new ua(e)}}class RH{constructor(e,t,r){this.type="FirstParty",this.user=ua.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class NH{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new RH(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ua.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OH{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.p;return this.p=u.token,st("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(sn("string"==typeof t.token),this.p=t.token,new pN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class r1{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function PH(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}r1.A=-1;class mN{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PH(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Ln(n,e){return n<e?-1:n>e?1:0}function gp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function gN(n){return n+"\0"}class So{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return So.fromMillis(Date.now())}static fromDate(e){return So.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new So(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new So(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function vN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function B3(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _N(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rm{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ht(),void 0===r?r=e.length-t:r>e.length-t&&Ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),m=t.get(i);if(u<m)return-1;if(u>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sr extends rm{construct(e,t,r){return new sr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new sr(t)}static emptyPath(){return new sr([])}}const LH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class To extends rm{construct(e,t,r){return new To(e,t,r)}static isValidIdentifier(e){return LH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),To.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new To(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new We(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let m=!1;for(;i<e.length;){const y=e[i];if("\\"===y){if(i+1===e.length)throw new We(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[i+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new We(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,i+=2}else"`"===y?(m=!m,i++):"."!==y||m?(r+=y,i++):(u(),i++)}if(u(),m)throw new We(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new To(t)}static emptyPath(){return new To([])}}class vp{constructor(e){this.fields=e,e.sort(To.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class to{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new to(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new to(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}to.EMPTY_BYTE_STRING=new to("");const zH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qh(n){if(sn(!!n),"string"==typeof n){let e=0;const t=zH.exec(n);if(sn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ji(n.seconds),nanos:ji(n.nanos)}}function ji(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function U3(n){return"string"==typeof n?to.fromBase64String(n):to.fromUint8Array(n)}function sT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function yN(n){const e=n.mapValue.fields.__previous_value__;return sT(e)?yN(e):e}function im(n){const e=Qh(n.mapValue.fields.__local_write_time__.timestampValue);return new So(e.seconds,e.nanos)}class VH{constructor(e,t,r,i,u,m,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.useFetchStreams=w}}class j3{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new j3("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof j3&&e.projectId===this.projectId&&e.database===this.database}}function G3(n){return null==n}function sm(n){return 0===n&&1/n==-1/0}function bN(n){return"number"==typeof n&&Number.isInteger(n)&&!sm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class St{constructor(e){this.path=e}static fromPath(e){return new St(sr.fromString(e))}static fromName(e){return new St(sr.fromString(e).popFirst(5))}static empty(){return new St(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new sr(e.slice()))}}const HH={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function q3(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sT(n)?4:10:Ht()}function Yu(n,e){if(n===e)return!0;const t=q3(n);if(t!==q3(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return im(n).isEqual(im(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Qh(r.timestampValue),m=Qh(i.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,U3(n.bytesValue).isEqual(U3(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ji(r.geoPointValue.latitude)===ji(i.geoPointValue.latitude)&&ji(r.geoPointValue.longitude)===ji(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ji(r.integerValue)===ji(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=ji(r.doubleValue),m=ji(i.doubleValue);return u===m?sm(u)===sm(m):isNaN(u)&&isNaN(m)}return!1}(n,e);case 9:return gp(n.arrayValue.values||[],e.arrayValue.values||[],Yu);case 10:return function(r,i){const u=r.mapValue.fields||{},m=i.mapValue.fields||{};if(vN(u)!==vN(m))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(void 0===m[y]||!Yu(u[y],m[y])))return!1;return!0}(n,e);default:return Ht()}var i}function om(n,e){return void 0!==(n.values||[]).find(t=>Yu(t,e))}function _p(n,e){if(n===e)return 0;const t=q3(n),r=q3(e);if(t!==r)return Ln(t,r);switch(t){case 0:return 0;case 1:return Ln(n.booleanValue,e.booleanValue);case 2:return function(i,u){const m=ji(i.integerValue||i.doubleValue),y=ji(u.integerValue||u.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(n,e);case 3:return CN(n.timestampValue,e.timestampValue);case 4:return CN(im(n),im(e));case 5:return Ln(n.stringValue,e.stringValue);case 6:return function(i,u){const m=U3(i),y=U3(u);return m.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const m=i.split("/"),y=u.split("/");for(let w=0;w<m.length&&w<y.length;w++){const S=Ln(m[w],y[w]);if(0!==S)return S}return Ln(m.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const m=Ln(ji(i.latitude),ji(u.latitude));return 0!==m?m:Ln(ji(i.longitude),ji(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const m=i.values||[],y=u.values||[];for(let w=0;w<m.length&&w<y.length;++w){const S=_p(m[w],y[w]);if(S)return S}return Ln(m.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){const m=i.fields||{},y=Object.keys(m),w=u.fields||{},S=Object.keys(w);y.sort(),S.sort();for(let k=0;k<y.length&&k<S.length;++k){const P=Ln(y[k],S[k]);if(0!==P)return P;const j=_p(m[y[k]],w[S[k]]);if(0!==j)return j}return Ln(y.length,S.length)}(n.mapValue,e.mapValue);default:throw Ht()}}function CN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ln(n,e);const t=Qh(n),r=Qh(e),i=Ln(t.seconds,r.seconds);return 0!==i?i:Ln(t.nanos,r.nanos)}function yp(n){return oT(n)}function oT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Qh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?U3(n.bytesValue).toBase64():"referenceValue"in n?St.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const m of r.values||[])u?u=!1:i+=",",i+=oT(m);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",m=!0;for(const y of i)m?m=!1:u+=",",u+=`${y}:${oT(r.fields[y])}`;return u+"}"}(n.mapValue):Ht();var e}function P_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function aT(n){return!!n&&"integerValue"in n}function L_(n){return!!n&&"arrayValue"in n}function wN(n){return!!n&&"nullValue"in n}function EN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function F_(n){return!!n&&"mapValue"in n}function am(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return B3(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=am(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=am(n.arrayValue.values[t]);return e}return Object.assign({},n)}class qa{constructor(e){this.value=e}static empty(){return new qa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!F_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=am(t)}setAll(e){let t=To.emptyPath(),r={},i=[];e.forEach((m,y)=>{if(!t.isImmediateParentOf(y)){const w=this.getFieldsMap(t);this.applyChanges(w,r,i),r={},i=[],t=y.popLast()}m?r[y.lastSegment()]=am(m):i.push(y.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());F_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];F_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){B3(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new qa(am(this.value))}}function xN(n){const e=[];return B3(n.fields,(t,r)=>{const i=new To([t]);if(F_(r)){const u=xN(r.mapValue).fields;if(0===u.length)e.push(i);else for(const m of u)e.push(i.child(m))}else e.push(i)}),new vp(e)}class Ei{constructor(e,t,r,i,u,m){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Ei(e,0,Xt.min(),Xt.min(),qa.empty(),0)}static newFoundDocument(e,t,r){return new Ei(e,1,t,Xt.min(),r,0)}static newNoDocument(e,t){return new Ei(e,2,t,Xt.min(),qa.empty(),0)}static newUnknownDocument(e,t){return new Ei(e,3,t,Xt.min(),qa.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let lT=(()=>{class n{constructor(t,r,i,u){this.indexId=t,this.collectionGroup=r,this.fields=i,this.indexState=u}}return n.UNKNOWN_ID=-1,n})();class z_{constructor(e,t){this.fieldPath=e,this.kind=t}}class lm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new lm(0,V_.min())}}class V_{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new V_(Xt.min(),St.empty(),-1)}}class BH{constructor(e,t=null,r=[],i=[],u=null,m=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=m,this.endAt=y,this.P=null}}function SN(n,e=null,t=[],r=[],i=null,u=null,m=null){return new BH(n,e,t,r,i,u,m)}function cm(n){const e=mt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+yp(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),G3(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>yp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>yp(r)).join(",")),e.P=t}return e.P}function H_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!YH(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Yu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MN(n.startAt,e.startAt)&&MN(n.endAt,e.endAt)}function B_(n){return St.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Tl extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new jH(e,t,r):"array-contains"===t?new $H(e,r):"in"===t?new WH(e,r):"not-in"===t?new ZH(e,r):"array-contains-any"===t?new KH(e,r):new Tl(e,t,r)}static v(e,t,r){return"in"===t?new GH(e,r):new qH(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(_p(t,this.value)):null!==t&&q3(this.value)===q3(t)&&this.V(_p(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ht()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jH extends Tl{constructor(e,t,r){super(e,t,r),this.key=St.fromName(r.referenceValue)}matches(e){const t=St.comparator(e.key,this.key);return this.V(t)}}class GH extends Tl{constructor(e,t){super(e,"in",t),this.keys=TN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qH extends Tl{constructor(e,t){super(e,"not-in",t),this.keys=TN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>St.fromName(r.referenceValue))}class $H extends Tl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return L_(t)&&om(t.arrayValue,this.value)}}class WH extends Tl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&om(this.value.arrayValue,t)}}class ZH extends Tl{constructor(e,t){super(e,"not-in",t)}matches(e){if(om(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!om(this.value.arrayValue,t)}}class KH extends Tl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!L_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>om(this.value.arrayValue,r))}}class bp{constructor(e,t){this.position=e,this.inclusive=t}}class Cp{constructor(e,t="asc"){this.field=e,this.dir=t}}function YH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function IN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],m=n.position[i];if(r=u.field.isKeyField()?St.comparator(St.fromName(m.referenceValue),t.key):_p(m,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function MN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yu(n.position[t],e.position[t]))return!1;return!0}class G2{constructor(e,t=null,r=[],i=[],u=null,m="F",y=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=m,this.startAt=y,this.endAt=w,this.D=null,this.C=null}}function DN(n,e,t,r,i,u,m,y){return new G2(n,e,t,r,i,u,m,y)}function wp(n){return new G2(n)}function U_(n){return!G3(n.limit)&&"F"===n.limitType}function j_(n){return!G3(n.limit)&&"L"===n.limitType}function cT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function uT(n){for(const e of n.filters)if(e.S())return e.field;return null}function dT(n){return null!==n.collectionGroup}function Ep(n){const e=mt(n);if(null===e.D){e.D=[];const t=uT(e),r=cT(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Cp(t)),e.D.push(new Cp(To.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Cp(To.keyField(),u))}}}return e.D}function ou(n){const e=mt(n);if(!e.C)if("F"===e.limitType)e.C=SN(e.path,e.collectionGroup,Ep(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ep(e))t.push(new Cp(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new bp(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new bp(e.startAt.position,!e.startAt.inclusive):null;e.C=SN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function AN(n,e,t){return new G2(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function um(n,e){return H_(ou(n),ou(e))&&n.limitType===e.limitType}function kN(n){return`${cm(ou(n))}|lt:${n.limitType}`}function hT(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${yp(r.value)}`;var r}).join(", ")}]`),G3(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>yp(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>yp(t)).join(",")),`Target(${e})`}(ou(n))}; limitType=${n.limitType})`}function fT(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):St.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,m){const y=IN(i,u,m);return i.inclusive?y<=0:y<0}(t.startAt,Ep(t),r)||t.endAt&&!function(i,u,m){const y=IN(i,u,m);return i.inclusive?y>=0:y>0}(t.endAt,Ep(t),r)));var t,r}function RN(n){return(e,t)=>{let r=!1;for(const i of Ep(n)){const u=QH(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function QH(n,e,t){const r=n.field.isKeyField()?St.comparator(e.key,t.key):function(i,u,m){const y=u.data.field(i),w=m.data.field(i);return null!==y&&null!==w?_p(y,w):Ht()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ht()}}function NN(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function ON(n){return{integerValue:""+n}}function PN(n,e){return bN(e)?ON(e):NN(n,e)}class G_{constructor(){this._=void 0}}function JH(n,e,t){return n instanceof xp?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof $3?FN(n,e):n instanceof W3?zN(n,e):function(r,i){const u=LN(r,i),m=VN(u)+VN(r.k);return aT(u)&&aT(r.k)?ON(m):NN(r.O,m)}(n,e)}function XH(n,e,t){return n instanceof $3?FN(n,e):n instanceof W3?zN(n,e):t}function LN(n,e){return n instanceof Sp?aT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class xp extends G_{}class $3 extends G_{constructor(e){super(),this.elements=e}}function FN(n,e){const t=HN(e);for(const r of n.elements)t.some(i=>Yu(i,r))||t.push(r);return{arrayValue:{values:t}}}class W3 extends G_{constructor(e){super(),this.elements=e}}function zN(n,e){let t=HN(e);for(const r of n.elements)t=t.filter(i=>!Yu(i,r));return{arrayValue:{values:t}}}class Sp extends G_{constructor(e,t){super(),this.O=e,this.k=t}}function VN(n){return ji(n.integerValue||n.doubleValue)}function HN(n){return L_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dm{constructor(e,t){this.field=e,this.transform=t}}class tB{constructor(e,t){this.version=e,this.transformResults=t}}class Rs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function q_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class $_{}function nB(n,e,t){n instanceof hm?function(r,i,u){const m=r.value.clone(),y=GN(r.fieldTransforms,i,u.transformResults);m.setAll(y),i.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Z3?function(r,i,u){if(!q_(r.precondition,i))return void i.convertToUnknownDocument(u.version);const m=GN(r.fieldTransforms,i,u.transformResults),y=i.data;y.setAll(jN(r)),y.setAll(m),i.convertToFoundDocument(u.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pT(n,e,t){var i;n instanceof hm?function(r,i,u){if(!q_(r.precondition,i))return;const m=r.value.clone(),y=qN(r.fieldTransforms,u,i);m.setAll(y),i.convertToFoundDocument(UN(i),m).setHasLocalMutations()}(n,e,t):n instanceof Z3?function(r,i,u){if(!q_(r.precondition,i))return;const m=qN(r.fieldTransforms,u,i),y=i.data;y.setAll(jN(r)),y.setAll(m),i.convertToFoundDocument(UN(i),y).setHasLocalMutations()}(n,e,t):q_(n.precondition,i=e)&&i.convertToNoDocument(Xt.min())}function rB(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=LN(r.transform,i||null);null!=u&&(null==t&&(t=qa.empty()),t.set(r.field,u))}return t||null}function BN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&gp(t,r,(i,u)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof $3&&r instanceof $3||t instanceof W3&&r instanceof W3?gp(t.elements,r.elements,Yu):t instanceof Sp&&r instanceof Sp?Yu(t.k,r.k):t instanceof xp&&r instanceof xp);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function UN(n){return n.isFoundDocument()?n.version:Xt.min()}class hm extends $_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Z3 extends $_{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function jN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function GN(n,e,t){const r=new Map;sn(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],m=u.transform,y=e.data.field(u.field);r.set(u.field,XH(m,y,t[i]))}return r}function qN(n,e,t){const r=new Map;for(const i of n){const u=i.transform,m=t.data.field(i.field);r.set(i.field,JH(u,m,e))}return r}class fm extends $_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class mT extends $_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class iB{constructor(e){this.count=e}}var Ns,$n;function $N(n){switch(n){default:return Ht();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function WN(n){if(void 0===n)return ks("GRPC error has no .code"),ke.UNKNOWN;switch(n){case Ns.OK:return ke.OK;case Ns.CANCELLED:return ke.CANCELLED;case Ns.UNKNOWN:return ke.UNKNOWN;case Ns.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Ns.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Ns.INTERNAL:return ke.INTERNAL;case Ns.UNAVAILABLE:return ke.UNAVAILABLE;case Ns.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Ns.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Ns.NOT_FOUND:return ke.NOT_FOUND;case Ns.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Ns.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Ns.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Ns.ABORTED:return ke.ABORTED;case Ns.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Ns.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Ns.DATA_LOSS:return ke.DATA_LOSS;default:return Ht()}}($n=Ns||(Ns={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";class fs{constructor(e,t){this.comparator=e,this.root=t||da.EMPTY}insert(e,t){return new fs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,da.BLACK,null,null))}remove(e){return new fs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,da.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new W_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new W_(this.root,e,this.comparator,!1)}getReverseIterator(){return new W_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new W_(this.root,e,this.comparator,!0)}}class W_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class da{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:da.RED,this.left=null!=i?i:da.EMPTY,this.right=null!=u?u:da.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new da(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return da.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return da.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,da.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,da.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const e=this.left.check();if(e!==this.right.check())throw Ht();return e+(this.isRed()?0:1)}}da.EMPTY=null,da.RED=!0,da.BLACK=!1,da.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(n,e,t,r,i){return this}insert(n,e,t){return new da(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new fs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZN(this.data.getIterator())}getIteratorFrom(e){return new ZN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class ZN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tp(n){return n.hasNext()?n.getNext():void 0}const sB=new fs(St.comparator);function au(){return sB}const oB=new fs(St.comparator);function gT(){return oB}const aB=new fs(St.comparator),lB=new di(St.comparator);function _r(...n){let e=lB;for(const t of n)e=e.add(t);return e}const cB=new di(Ln);function Z_(){return cB}class pm{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,mm.createSynthesizedTargetChangeForCurrentChange(e,t)),new pm(Xt.min(),r,Z_(),au(),_r())}}class mm{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new mm(to.EMPTY_BYTE_STRING,t,_r(),_r(),_r())}}class K_{constructor(e,t,r,i){this.M=e,this.removedTargetIds=t,this.key=r,this.$=i}}class KN{constructor(e,t){this.targetId=e,this.F=t}}class YN{constructor(e,t,r=to.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class QN{constructor(){this.B=0,this.L=XN(),this.U=to.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=_r(),t=_r(),r=_r();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ht()}}),new mm(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=XN()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class uB{constructor(e){this.nt=e,this.st=new Map,this.it=au(),this.rt=JN(),this.ot=new di(Ln)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.F.count,i=this.wt(t);if(i){const u=i.target;if(B_(u))if(0===r){const m=new St(u.path);this.at(t,m,Ei.newNoDocument(m,Xt.min()))}else sn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,m)=>{const y=this.wt(m);if(y){if(u.current&&B_(y.target)){const w=new St(y.target.path);null!==this.it.get(w)||this.It(m,w)||this.at(m,w,Ei.newNoDocument(w,e))}u.j&&(t.set(m,u.H()),u.J())}});let r=_r();this.rt.forEach((u,m)=>{let y=!0;m.forEachWhile(w=>{const S=this.wt(w);return!S||2===S.purpose||(y=!1,!1)}),y&&(r=r.add(u))}),this.it.forEach((u,m)=>m.setReadTime(e));const i=new pm(e,t,this.ot,this.it,r);return this.it=au(),this.rt=JN(),this.ot=new di(Ln),i}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new QN,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new di(Ln),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||st("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new QN),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function JN(){return new fs(St.comparator)}function XN(){return new fs(St.comparator)}const dB={asc:"ASCENDING",desc:"DESCENDING"},hB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fB{constructor(e,t){this.databaseId=e,this.N=t}}function gm(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eO(n,e){return n.N?e.toBase64():e.toUint8Array()}function pB(n,e){return gm(n,e.toTimestamp())}function Io(n){return sn(!!n),Xt.fromTimestamp(function(e){const t=Qh(e);return new So(t.seconds,t.nanos)}(n))}function vT(n,e){return(t=n,new sr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function tO(n){const e=sr.fromString(n);return sn(uO(e)),e}function vm(n,e){return vT(n.databaseId,e.path)}function zd(n,e){const t=tO(e);if(t.get(1)!==n.databaseId.projectId)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new St(rO(t))}function _T(n,e){return vT(n.databaseId,e)}function nO(n){const e=tO(n);return 4===e.length?sr.emptyPath():rO(e)}function _m(n){return new sr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rO(n){return sn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iO(n,e,t){return{name:vm(n,e),fields:t.value.mapValue.fields}}function sO(n,e,t){const r=zd(n,e.name),i=Io(e.updateTime),u=new qa({mapValue:{fields:e.fields}}),m=Ei.newFoundDocument(r,i,u);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function ym(n,e){let t;if(e instanceof hm)t={update:iO(n,e.key,e.value)};else if(e instanceof fm)t={delete:vm(n,e.key)};else if(e instanceof Z3)t={update:iO(n,e.key,e.data),updateMask:EB(e.fieldMask)};else{if(!(e instanceof mT))return Ht();t={verify:vm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const m=u.transform;if(m instanceof xp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $3)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof W3)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sp)return{fieldPath:u.field.canonicalString(),increment:m.k};throw Ht()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:pB(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ht()),t;var i}function yT(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Rs.updateTime(Io(i.updateTime)):void 0!==i.exists?Rs.exists(i.exists):Rs.none():Rs.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,m){let y=null;"setToServerValue"in m?(sn("REQUEST_TIME"===m.setToServerValue),y=new xp):"appendMissingElements"in m?y=new $3(m.appendMissingElements.values||[]):"removeAllFromArray"in m?y=new W3(m.removeAllFromArray.values||[]):"increment"in m?y=new Sp(u,m.increment):Ht();const w=To.fromServerFormat(m.fieldPath);return new dm(w,y)}(n,i)):[];var i;if(e.update){const i=zd(n,e.update.name),u=new qa({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new vp((e.updateMask.fieldPaths||[]).map(S=>To.fromServerFormat(S)));return new Z3(i,u,m,t,r)}return new hm(i,u,t,r)}if(e.delete){const i=zd(n,e.delete);return new fm(i,t)}if(e.verify){const i=zd(n,e.verify);return new mT(i,t)}return Ht()}function oO(n,e){return{documents:[_T(n,e.path)]}}function aO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=_T(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_T(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(w){if(0===w.length)return;const S=w.map(k=>function(P){if("=="===P.op){if(EN(P.value))return{unaryFilter:{field:Ip(P.field),op:"IS_NAN"}};if(wN(P.value))return{unaryFilter:{field:Ip(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(EN(P.value))return{unaryFilter:{field:Ip(P.field),op:"IS_NOT_NAN"}};if(wN(P.value))return{unaryFilter:{field:Ip(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ip(P.field),op:bB(P.op),value:P.value}}}(k));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(w){if(0!==w.length)return w.map(S=>{return{field:Ip((k=S).field),direction:yB(k.dir)};var k})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=(S=e.limit,n.N||G3(S)?S:{value:S});var S,y,w;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(y=e.startAt).inclusive,values:y.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function lO(n){let e=nO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){sn(1===r);const k=t.from[0];k.allDescendants?i=k.collectionId:e=e.child(k.collectionId)}let u=[];t.where&&(u=cO(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(k=>{return new Cp(Mp((P=k).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let y=null;t.limit&&(y=function(k){let P;return P="object"==typeof k?k.value:k,G3(P)?null:P}(t.limit));let w=null;var k;t.startAt&&(w=new bp((k=t.startAt).values||[],!!k.before));let S=null;return t.endAt&&(S=function(k){return new bp(k.values||[],!k.before)}(t.endAt)),DN(e,i,m,u,y,"F",w,S)}function cO(n){return n?void 0!==n.unaryFilter?[wB(n)]:void 0!==n.fieldFilter?[CB(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>cO(e)).reduce((e,t)=>e.concat(t)):Ht():[]}function yB(n){return dB[n]}function bB(n){return hB[n]}function Ip(n){return{fieldPath:n.canonicalString()}}function Mp(n){return To.fromServerFormat(n.fieldPath)}function CB(n){return Tl.create(Mp(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(n.fieldFilter.op),n.fieldFilter.value)}function wB(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Mp(n.unaryFilter.field);return Tl.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Mp(n.unaryFilter.field);return Tl.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mp(n.unaryFilter.field);return Tl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Mp(n.unaryFilter.field);return Tl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}function EB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Mo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dO(e)),e=xB(n.get(t),e);return dO(e)}function xB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function dO(n){return n+"\x01\x01"}function Vd(n){const e=n.length;if(sn(e>=2),2===e)return sn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sr.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const m=n.indexOf("\x01",u);switch((m<0||m>t)&&Ht(),n.charAt(m+1)){case"\x01":const y=n.substring(u,m);let w;0===i.length?w=y:(i+=y,w=i,i=""),r.push(w);break;case"\x10":i+=n.substring(u,m),i+="\0";break;case"\x11":i+=n.substring(u,m+1);break;default:Ht()}u=m+2}return new sr(r)}class SB{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class s1{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}s1.store="owner",s1.key="owner";class Jh{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Jh.store="mutationQueues",Jh.keyPath="userId";class Xr{constructor(e,t,r,i,u){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=u}}Xr.store="mutations",Xr.keyPath="batchId",Xr.userMutationsIndex="userMutationsIndex",Xr.userMutationsKeyPath=["userId","batchId"];class $a{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Mo(t)]}static key(e,t,r){return[e,Mo(t),r]}}$a.store="documentMutations",$a.PLACEHOLDER=new $a;class TB{constructor(e,t){this.path=e,this.readTime=t}}class IB{constructor(e,t){this.path=e,this.version=t}}class Gi{constructor(e,t,r,i,u,m){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=u,this.parentPath=m}}Gi.store="remoteDocuments",Gi.readTimeIndex="readTimeIndex",Gi.readTimeIndexPath="readTime",Gi.collectionReadTimeIndex="collectionReadTimeIndex",Gi.collectionReadTimeIndexPath=["parentPath","readTime"];class Hd{constructor(e){this.byteSize=e}}Hd.store="remoteDocumentGlobal",Hd.key="remoteDocumentGlobalKey";class _c{constructor(e,t,r,i,u,m,y){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=m,this.query=y}}_c.store="targets",_c.keyPath="targetId",_c.queryTargetsIndexName="queryTargetsIndex",_c.queryTargetsKeyPath=["canonicalId","targetId"];class ha{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}ha.store="targetDocuments",ha.keyPath=["targetId","path"],ha.documentTargetsIndex="documentTargetsIndex",ha.documentTargetsKeyPath=["path","targetId"];class o1{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}o1.key="targetGlobalKey",o1.store="targetGlobal";class K3{constructor(e,t){this.collectionId=e,this.parent=t}}K3.store="collectionParents",K3.keyPath=["collectionId","parent"];class q2{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}q2.store="clientMetadata",q2.keyPath="clientId";class Dp{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Dp.store="bundles",Dp.keyPath="bundleId";class Ap{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Ap.store="namedQueries",Ap.keyPath="name";class a1{constructor(e,t,r){this.indexId=e,this.collectionGroup=t,this.fields=r}}a1.store="indexConfiguration",a1.keyPath="indexId",a1.collectionGroupIndex="collectionGroupIndex",a1.collectionGroupIndexPath="collectionGroup";class lu{constructor(e,t,r,i,u,m){this.indexId=e,this.uid=t,this.sequenceNumber=r,this.readTime=i,this.documentKey=u,this.largestBatchId=m}}lu.store="indexState",lu.keyPath=["indexId","uid"],lu.sequenceNumberIndex="sequenceNumberIndex",lu.sequenceNumberIndexPath=["uid","sequenceNumber"];class cu{constructor(e,t,r,i,u){this.indexId=e,this.uid=t,this.arrayValue=r,this.directionalValue=i,this.documentKey=u}}cu.store="indexEntries",cu.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],cu.documentKeyIndex="documentKeyIndex",cu.documentKeyIndexPath=["indexId","uid","documentKey"];class Do{constructor(e,t,r,i,u,m){this.userId=e,this.collectionPath=t,this.documentId=r,this.collectionGroup=i,this.largestBatchId=u,this.overlayMutation=m}}Do.store="documentOverlays",Do.keyPath=["userId","collectionPath","documentId"],Do.collectionPathOverlayIndex="collectionPathOverlayIndex",Do.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Do.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Do.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const hO=[Jh.store,Xr.store,$a.store,Gi.store,_c.store,s1.store,o1.store,ha.store,q2.store,Hd.store,K3.store,Dp.store,Ap.store],fO=[...hO,Do.store],MB=[...fO,a1.store,lu.store,cu.store],pO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Le((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Le?t:Le.resolve(t)}catch(t){return Le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Le.reject(t)}static resolve(e){return new Le((t,r)=>{t(e)})}static reject(e){return new Le((t,r)=>{r(e)})}static waitFor(e){return new Le((t,r)=>{let i=0,u=0,m=!1;e.forEach(y=>{++i,y.next(()=>{++u,m&&u===i&&t()},w=>r(w))}),m=!0,u===i&&t()})}static or(e){let t=Le.resolve(!1);for(const r of e)t=t.next(i=>i?Le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class Y_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new xo,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new bm(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=bT(r.target.error);this.At.reject(new bm(e,i))}}static open(e,t,r,i){try{return new Y_(t,e.transaction(i,r))}catch(u){throw new bm(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(st("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new AB(t)}}class Qu{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Qu.vt((0,jt.z$)())&&ks("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return st("SimpleDb","Removing database:",e),Q3(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,jt.hl)())return!1;if(Qu.St())return!0;const e=(0,jt.z$)(),t=Qu.vt(e),r=0<t&&t<10,i=Qu.Dt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}xt(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(st("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=m=>{r(m.target.result)},u.onblocked=()=>{i(new bm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const y=m.target.error;i("VersionError"===y.name?new We(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new We(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new bm(e,y))},u.onupgradeneeded=m=>{st("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.bt.kt(m.target.result,u.transaction,m.oldVersion,t.version).next(()=>{st("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=r=>t.Ot(r)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,Ne.Z)(function*(){const m="readonly"===t;let y=0;for(;;){++y;try{u.db=yield u.xt(e);const w=Y_.open(u.db,e,m?"readonly":"readwrite",r),S=i(w).next(k=>(w.Pt(),k)).catch(k=>(w.abort(k),Le.reject(k))).toPromise();return S.catch(()=>{}),yield w.Rt,S}catch(w){const S="FirebaseError"!==w.name&&y<3;if(st("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),u.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class DB{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return Q3(this.$t.delete())}}class bm extends We{constructor(e,t){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Y3(n){return"IndexedDbTransactionError"===n.name}class AB{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(st("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(st("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Q3(r)}add(e){return st("SimpleDb","ADD",this.store.name,e,e),Q3(this.store.add(e))}get(e){return Q3(this.store.get(e)).next(t=>(void 0===t&&(t=null),st("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return st("SimpleDb","DELETE",this.store.name,e),Q3(this.store.delete(e))}count(){return st("SimpleDb","COUNT",this.store.name),Q3(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.Kt(i,(m,y)=>{u.push(y)}).next(()=>u)}{const i=this.store.getAll(r.range);return new Le((u,m)=>{i.onerror=y=>{m(y.target.error)},i.onsuccess=y=>{u(y.target.result)}})}}Gt(e,t){st("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(u,m,y)=>y.delete())}Qt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}Wt(e){const t=this.cursor({});return new Le((r,i)=>{t.onerror=u=>{const m=bT(u.target.error);i(m)},t.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(y=>{y?m.continue():r()}):r()}})}Kt(e,t){const r=[];return new Le((i,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const y=m.target.result;if(!y)return void i();const w=new DB(y),S=t(y.primaryKey,y.value,w);if(S instanceof Le){const k=S.catch(P=>(w.done(),Le.reject(P)));r.push(k)}w.isDone?i():null===w.Lt?y.continue():y.continue(w.Lt)}}).next(()=>Le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Q3(n){return new Le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=bT(r.target.error);t(i)}})}let gO=!1;function bT(n){const e=Qu.vt((0,jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new We("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gO||(gO=!0,setTimeout(()=>{throw r},0)),r}}return n}class vO extends mO{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function Ao(n,e){const t=mt(n);return Qu.Nt(t.zt,e)}class CT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&nB(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&pT(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&pT(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Xt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_r())}isEqual(e){return this.batchId===e.batchId&&gp(this.mutations,e.mutations,(t,r)=>BN(t,r))&&gp(this.baseMutations,e.baseMutations,(t,r)=>BN(t,r))}}class wT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){sn(e.mutations.length===r.length);let i=aB;const u=e.mutations;for(let m=0;m<u.length;m++)i=i.insert(u[m].key,r[m].version);return new wT(e,t,r,i)}}class ET{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xh{constructor(e,t,r,i,u=Xt.min(),m=Xt.min(),y=to.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y}withSequenceNumber(e){return new Xh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _O{constructor(e){this.Ht=e}}function yO(n,e){let t;if(e.document)t=sO(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=St.fromSegments(e.noDocument.path),i=X3(e.noDocument.readTime);t=Ei.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ht();{const r=St.fromSegments(e.unknownDocument.path),i=X3(e.unknownDocument.version);t=Ei.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(ST(e.readTime)),t}function bO(n,e){const t=xT(e.readTime),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const i={name:vm(m=n.Ht,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:gm(m,y.version.toTimestamp())};return new Gi(null,null,i,e.hasCommittedMutations,t,r)}var m,y;if(e.isNoDocument()){const i=e.key.path.toArray(),u=J3(e.version),m=e.hasCommittedMutations;return new Gi(null,new TB(i,u),null,m,t,r)}if(e.isUnknownDocument()){const i=e.key.path.toArray(),u=J3(e.version);return new Gi(new IB(i,u),null,null,!0,t,r)}return Ht()}function xT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ST(n){const e=new So(n[0],n[1]);return Xt.fromTimestamp(e)}function J3(n){const e=n.toTimestamp();return new SB(e.seconds,e.nanoseconds)}function X3(n){const e=new So(n.seconds,n.nanoseconds);return Xt.fromTimestamp(e)}function kp(n,e){const t=(e.baseMutations||[]).map(u=>yT(n.Ht,u));for(let u=0;u<e.mutations.length-1;++u){const m=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(m.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>yT(n.Ht,u)),i=So.fromMillis(e.localWriteTimeMs);return new CT(e.batchId,i,t,r)}function Cm(n){const e=X3(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?X3(n.lastLimboFreeSnapshotVersion):Xt.min();let r;var i;return void 0!==n.query.documents?(sn(1===(i=n.query).documents.length),r=ou(wp(nO(i.documents[0])))):r=ou(lO(n.query)),new Xh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,to.fromBase64String(n.resumeToken))}function CO(n,e){const t=J3(e.snapshotVersion),r=J3(e.lastLimboFreeSnapshotVersion);let i;i=B_(e.target)?oO(n.Ht,e.target):aO(n.Ht,e.target);const u=e.resumeToken.toBase64();return new _c(e.targetId,cm(e.target),t,u,e.sequenceNumber,r,i)}function TT(n){const e=lO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?AN(e,e.limit,"L"):e}function IT(n,e){return new ET(e.largestBatchId,yT(n.Ht,e.overlayMutation))}function wO(n,e){const t=e.path.lastSegment();return[n,Mo(e.path.popLast()),t]}class kB{getBundleMetadata(e,t){return EO(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:X3(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return EO(e).put({bundleId:(r=t).id,createTime:J3(Io(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return xO(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:TT(i.bundledQuery),readTime:X3(i.readTime)};var i})}saveNamedQuery(e,t){return xO(e).put({name:(r=t).name,readTime:J3(Io(r.readTime)),bundledQuery:r.bundledQuery});var r}}function EO(n){return Ao(n,Dp.store)}function xO(n){return Ao(n,Ap.store)}class MT{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new MT(e,t.uid||"")}getOverlay(e,t){return wm(e).get(wO(this.userId,t)).next(r=>r?IT(this.O,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach(u=>{const m=new ET(t,u);i.push(this.Yt(e,m))}),Le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(m=>i.add(Mo(m.getCollectionPath())));const u=[];return i.forEach(m=>{const y=IDBKeyRange.bound([this.userId,m,r],[this.userId,m,r+1],!1,!0);u.push(wm(e).Gt(Do.collectionPathOverlayIndex,y))}),Le.waitFor(u)}getOverlaysForCollection(e,t,r){const i=new Map,u=Mo(t),m=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return wm(e).qt(Do.collectionPathOverlayIndex,m).next(y=>{for(const w of y){const S=IT(this.O,w);i.set(S.getKey(),S)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=new Map;let m;const y=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wm(e).Qt({index:Do.collectionGroupOverlayIndex,range:y},(w,S,k)=>{const P=IT(this.O,S);u.size<i||P.largestBatchId===m?(u.set(P.getKey(),P),m=P.largestBatchId):k.done()}).next(()=>u)}Yt(e,t){return wm(e).put(function(r,i,u){const[m,y,w]=wO(i,u.mutation.key);return new Do(i,y,w,u.mutation.key.getCollectionGroup(),u.largestBatchId,ym(r.Ht,u.mutation))}(this.O,this.userId,t))}}function wm(n){return Ao(n,Do.store)}class Q_{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(ji(e.integerValue));else if("doubleValue"in e){const r=ji(e.doubleValue);isNaN(r)?this.ee(t,13):(this.ee(t,15),sm(r)?t.ne(0):t.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se(`${r.seconds||""}`),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(U3(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(t,45),t.ne(r.latitude||0),t.ne(r.longitude||0)}else"mapValue"in e?Yu(e,HH)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Ht()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const r=e.fields||{};this.ee(t,55);for(const i of Object.keys(r))this.ie(i,t),this.Zt(r[i],t)}ae(e,t){const r=e.values||[];this.ee(t,50);for(const i of r)this.Zt(i,t)}ce(e,t){this.ee(t,37),St.fromName(e).path.forEach(r=>{this.ee(t,60),this.he(r,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function RB(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function SO(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=RB(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Q_.le=new Q_;class NB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.de(r.value),r=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.me(r.value),r=t.next();this.ge()}ye(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.de(r);else if(r<2048)this.de(960|r>>>6),this.de(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.de(480|r>>>12),this.de(128|63&r>>>6),this.de(128|63&r);else{const i=t.codePointAt(0);this.de(240|i>>>18),this.de(128|63&i>>>12),this.de(128|63&i>>>6),this.de(128|63&i)}}this._e()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.me(r);else if(r<2048)this.me(960|r>>>6),this.me(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.me(480|r>>>12),this.me(128|63&r>>>6),this.me(128|63&r);else{const i=t.codePointAt(0);this.me(240|i>>>18),this.me(128|63&i>>>12),this.me(128|63&i>>>6),this.me(128|63&i)}}this.ge()}Ie(e){const t=this.Ee(e),r=SO(t);this.Te(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ae(e){const t=this.Ee(e),r=SO(t);this.Te(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class OB{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class PB{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class TO{constructor(){this.Se=new NB,this.De=new OB(this.Se),this.Ce=new PB(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class DT{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}}function AT(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=St.comparator(n.documentKey,e.documentKey),0!==t?t:(t=IO(n.arrayValue,e.arrayValue),0!==t?t:IO(n.directionalValue,e.directionalValue)))}function IO(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class LB{constructor(){this.xe=new kT}addToCollectionParentIndex(e,t){return this.xe.add(t),Le.resolve()}getCollectionParents(e,t){return Le.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return Le.resolve()}deleteFieldIndex(e,t){return Le.resolve()}getDocumentsMatchingTarget(e,t,r){return Le.resolve(_r())}getFieldIndex(e,t){return Le.resolve(null)}getFieldIndexes(e,t){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}updateCollectionGroup(e,t,r){return Le.resolve()}updateIndexEntries(e,t){return Le.resolve()}}class kT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new di(sr.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new di(sr.comparator)).toArray()}}class FB{constructor(e){this.user=e,this.ke=new kT,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const u={collectionId:r,parent:Mo(i)};return MO(e).put(u)}return Le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[gN(t),""],!1,!0);return MO(e).qt(i).next(u=>{for(const m of u){if(m.collectionId!==t)break;r.push(Vd(m.parent))}return r})}addFieldIndex(e,t){const r=X_(e),i=new a1((u=t).indexId,u.collectionGroup,u.fields.map(m=>[m.fieldPath.canonicalString(),m.kind]));var u;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=X_(e),i=ey(e),u=J_(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,r){return Le.resolve(_r())}getFieldIndex(e,t){return Le.resolve(null)}Oe(e,t){const r=new TO;for(const i of e.fields.filter(m=>2!==m.kind)){const u=t.data.field(i.fieldPath);if(null==u)return null;const m=r.Ne(i.kind);Q_.le.Xt(u,m)}return r.Ve()}Me(e){const t=new TO;return Q_.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const r=X_(e),i=ey(e);return(t?r.qt(a1.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const m=[];return Le.forEach(u,y=>i.get([y.indexId,this.uid]).next(w=>{m.push(function(S,k){const P=k?new lm(k.sequenceNumber,new V_(X3(k.readTime),new St(Vd(k.documentKey)),k.largestBatchId)):lm.empty(),j=S.fields.map(([$,K])=>new z_(To.fromServerFormat($),K));return new lT(S.indexId,S.collectionGroup,j,P)}(y,w))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>r.indexState.sequenceNumber-i.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=X_(e),u=ey(e);return this.$e(e).next(m=>i.qt(a1.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(y=>Le.forEach(y,w=>{return u.put(new lu(w.indexId,this.user.uid||"",m,J3((j=r).readTime),Mo(j.documentKey.path),j.largestBatchId));var j})))}updateIndexEntries(e,t){const r=new Map;return Le.forEach(t,(i,u)=>{const m=r.get(i.collectionGroup);return(m?Le.resolve(m):this.getFieldIndexes(e,i.collectionGroup)).next(y=>(r.set(i.collectionGroup,y),Le.forEach(y,w=>this.Fe(e,i,w).next(S=>{const k=this.Be(u,w);return S.isEqual(k)?Le.resolve():this.Le(e,u,S,k)}))))})}Ue(e,t,r){return J_(e).put(new cu(r.indexId,this.uid,r.arrayValue,r.directionalValue,Mo(t.key.path)))}qe(e,t,r){return J_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Mo(t.key.path)])}Fe(e,t,r){const i=J_(e);let u=new di(AT);return i.Qt({index:cu.documentKeyIndex,range:IDBKeyRange.only([r.indexId,this.uid,Mo(t.path)])},(m,y)=>{u=u.add(new DT(r.indexId,t,y.arrayValue,y.directionalValue))}).next(()=>u)}Be(e,t){let r=new di(AT);const i=this.Oe(t,e);if(null==i)return r;const u=t.fields.find(y=>2===y.kind);if(null!=u){const m=e.data.field(u.fieldPath);if(L_(m))for(const y of m.arrayValue.values||[])r=r.add(new DT(t.indexId,e.key,this.Me(y),i))}else r=r.add(new DT(t.indexId,e.key,new Uint8Array,i));return r}Le(e,t,r,i){st("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(m,y,w,S,k){const P=m.getIterator(),j=y.getIterator();let $=Tp(P),K=Tp(j);for(;$||K;){let ve=!1,Ie=!1;if($&&K){const Ke=w($,K);Ke<0?Ie=!0:Ke>0&&(ve=!0)}else null!=$?Ie=!0:ve=!0;ve?(S(K),K=Tp(j)):Ie?(k($),$=Tp(P)):($=Tp(P),K=Tp(j))}}(r,i,AT,m=>{u.push(this.Ue(e,t,m))},m=>{u.push(this.qe(e,t,m))}),Le.waitFor(u)}$e(e){let t=1;return ey(e).Qt({index:lu.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}}function MO(n){return Ao(n,K3.store)}function J_(n){return Ao(n,cu.store)}function X_(n){return Ao(n,a1.store)}function ey(n){return Ao(n,lu.store)}const DO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yc{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yc(e,yc.DEFAULT_COLLECTION_PERCENTILE,yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function AO(n,e,t){const r=n.store(Xr.store),i=n.store($a.store),u=[],m=IDBKeyRange.only(t.batchId);let y=0;const w=r.Qt({range:m},(k,P,j)=>(y++,j.delete()));u.push(w.next(()=>{sn(1===y)}));const S=[];for(const k of t.mutations){const P=$a.key(e,k.key.path,t.batchId);u.push(i.delete(P)),S.push(k.key)}return Le.waitFor(u).next(()=>S)}function ty(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ht();e=n.noDocument}return JSON.stringify(e).length}yc.DEFAULT_COLLECTION_PERCENTILE=10,yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yc.DEFAULT=new yc(41943040,yc.DEFAULT_COLLECTION_PERCENTILE,yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yc.DISABLED=new yc(-1,0,0);class RT{constructor(e,t,r,i){this.userId=e,this.O=t,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}static Jt(e,t,r,i){sn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new RT(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ef(e).Qt({index:Xr.userMutationsIndex,range:r},(i,u,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Rp(e),m=ef(e);return m.add({}).next(y=>{sn("number"==typeof y);const w=new CT(y,t,r,i),S=function(j,$,K){const ve=K.baseMutations.map(Ke=>ym(j.Ht,Ke)),Ie=K.mutations.map(Ke=>ym(j.Ht,Ke));return new Xr($,K.batchId,K.localWriteTime.toMillis(),ve,Ie)}(this.O,this.userId,w),k=[];let P=new di((j,$)=>Ln(j.canonicalString(),$.canonicalString()));for(const j of i){const $=$a.key(this.userId,j.key.path,y);P=P.add(j.key.path.popLast()),k.push(m.put(S)),k.push(u.put($,$a.PLACEHOLDER))}return P.forEach(j=>{k.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Ke[y]=w.keys()}),Le.waitFor(k).next(()=>w)})}lookupMutationBatch(e,t){return ef(e).get(t).next(r=>r?(sn(r.userId===this.userId),kp(this.O,r)):null)}Ge(e,t){return this.Ke[t]?Le.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Ke[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return ef(e).Qt({index:Xr.userMutationsIndex,range:i},(m,y,w)=>{y.userId===this.userId&&(sn(y.batchId>=r),u=kp(this.O,y)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ef(e).Qt({index:Xr.userMutationsIndex,range:t,reverse:!0},(i,u,m)=>{r=u.batchId,m.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ef(e).qt(Xr.userMutationsIndex,t).next(r=>r.map(i=>kp(this.O,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=$a.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Rp(e).Qt({range:i},(m,y,w)=>{const[S,k,P]=m,j=Vd(k);if(S===this.userId&&t.path.isEqual(j))return ef(e).get(P).next($=>{if(!$)throw Ht();sn($.userId===this.userId),u.push(kp(this.O,$))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new di(Ln);const i=[];return t.forEach(u=>{const m=$a.prefixForPath(this.userId,u.path),y=IDBKeyRange.lowerBound(m),w=Rp(e).Qt({range:y},(S,k,P)=>{const[j,$,K]=S,ve=Vd($);j===this.userId&&u.path.isEqual(ve)?r=r.add(K):P.done()});i.push(w)}),Le.waitFor(i).next(()=>this.je(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=$a.prefixForPath(this.userId,r),m=IDBKeyRange.lowerBound(u);let y=new di(Ln);return Rp(e).Qt({range:m},(w,S,k)=>{const[P,j,$]=w,K=Vd(j);P===this.userId&&r.isPrefixOf(K)?K.length===i&&(y=y.add($)):k.done()}).next(()=>this.je(e,y))}je(e,t){const r=[],i=[];return t.forEach(u=>{i.push(ef(e).get(u).next(m=>{if(null===m)throw Ht();sn(m.userId===this.userId),r.push(kp(this.O,m))}))}),Le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return AO(e.zt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),Le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Le.resolve();const r=IDBKeyRange.lowerBound($a.prefixForUser(this.userId)),i=[];return Rp(e).Qt({range:r},(u,m,y)=>{if(u[0]===this.userId){const w=Vd(u[1]);i.push(w)}else y.done()}).next(()=>{sn(0===i.length)})})}containsKey(e,t){return kO(e,this.userId,t)}We(e){return RO(e).get(this.userId).next(t=>t||new Jh(this.userId,-1,""))}}function kO(n,e,t){const r=$a.prefixForPath(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let m=!1;return Rp(n).Qt({range:u,jt:!0},(y,w,S)=>{const[k,P,j]=y;k===e&&P===i&&(m=!0),S.done()}).next(()=>m)}function ef(n){return Ao(n,Xr.store)}function Rp(n){return Ao(n,$a.store)}function RO(n){return Ao(n,Jh.store)}class e4{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new e4(0)}static Je(){return new e4(-1)}}class zB{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const r=new e4(t.highestTargetId);return t.highestTargetId=r.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>Xt.fromTimestamp(new So(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Ye(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Xe(e,i)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(r=>(r.targetCount+=1,this.tn(t,r),this.Xe(e,r))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Np(e).delete(t.targetId)).next(()=>this.Ye(e)).next(r=>(sn(r.targetCount>0),r.targetCount-=1,this.Xe(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return Np(e).Qt((m,y)=>{const w=Cm(y);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(i++,u.push(this.removeTargetData(e,w)))}).next(()=>Le.waitFor(u)).next(()=>i)}forEachTarget(e,t){return Np(e).Qt((r,i)=>{const u=Cm(i);t(u)})}Ye(e){return NO(e).get(o1.key).next(t=>(sn(null!==t),t))}Xe(e,t){return NO(e).put(o1.key,t)}Ze(e,t){return Np(e).put(CO(this.O,t))}tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cm(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Np(e).Qt({range:i,index:_c.queryTargetsIndexName},(m,y,w)=>{const S=Cm(y);H_(t,S.target)&&(u=S,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=tf(e);return t.forEach(m=>{const y=Mo(m.path);i.push(u.put(new ha(r,y))),i.push(this.referenceDelegate.addReference(e,r,m))}),Le.waitFor(i)}removeMatchingKeys(e,t,r){const i=tf(e);return Le.forEach(t,u=>{const m=Mo(u.path);return Le.waitFor([i.delete([r,m]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=tf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=tf(e);let u=_r();return i.Qt({range:r,jt:!0},(m,y,w)=>{const S=Vd(m[1]),k=new St(S);u=u.add(k)}).next(()=>u)}containsKey(e,t){const r=Mo(t.path),i=IDBKeyRange.bound([r],[gN(r)],!1,!0);let u=0;return tf(e).Qt({index:ha.documentTargetsIndex,jt:!0,range:i},([m,y],w,S)=>{0!==m&&(u++,S.done())}).next(()=>u>0)}Tt(e,t){return Np(e).get(t).next(r=>r?Cm(r):null)}}function Np(n){return Ao(n,_c.store)}function NO(n){return Ao(n,o1.store)}function tf(n){return Ao(n,ha.store)}function t4(n){return NT.apply(this,arguments)}function NT(){return NT=(0,Ne.Z)(function*(n){if(n.code!==ke.FAILED_PRECONDITION||n.message!==pO)throw n;st("LocalStore","Unexpectedly lost primary lease")}),NT.apply(this,arguments)}function OO([n,e],[t,r]){const i=Ln(n,t);return 0===i?Ln(e,r):i}class VB{constructor(e){this.en=e,this.buffer=new di(OO),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();OO(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HB{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const r=this.on?3e5:6e4;st("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ne.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Y3(i)?st("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield t4(i)}yield t.un(e)}))}}class BB{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Le.resolve(r1.A);const r=new VB(t);return this.an.forEachTarget(e,i=>r.rn(i.sequenceNumber)).next(()=>this.an.ln(e,i=>r.rn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.an.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(DO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DO):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let r,i,u,m,y,w,S;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),i=this.params.maximumSequenceNumbersToCollect):i=P,m=Date.now(),this.nthSequenceNumber(e,i))).next(P=>(r=P,y=Date.now(),this.removeTargets(e,r,t))).next(P=>(u=P,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(S=Date.now(),rT()<=jc.in.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-k}ms\n\tDetermined least recently used ${i} in `+(y-m)+`ms\n\tRemoved ${u} targets in `+(w-y)+`ms\n\tRemoved ${P} documents in `+(S-w)+`ms\nTotal Duration: ${S-k}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:P})))}}class UB{constructor(e,t){this.db=e,this.garbageCollector=new BB(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}dn(e){let t=0;return this.ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(r,i)=>t(i))}addReference(e,t,r){return ny(e,r)}removeReference(e,t,r){return ny(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ny(e,t)}wn(e,t){return function(r,i){let u=!1;return RO(r).Wt(m=>kO(r,m,i).next(y=>(y&&(u=!0),Le.resolve(!y)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this._n(e,(m,y)=>{if(y<=t){const w=this.wn(e,m).next(S=>{if(!S)return u++,r.getEntry(e,m).next(()=>(r.removeEntry(m,Xt.min()),tf(e).delete([0,Mo(m.path)])))});i.push(w)}}).next(()=>Le.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ny(e,t)}_n(e,t){const r=tf(e);let i,u=r1.A;return r.Qt({index:ha.documentTargetsIndex},([m,y],{path:w,sequenceNumber:S})=>{0===m?(u!==r1.A&&t(new St(Vd(i)),u),u=S,i=w):u=r1.A}).next(()=>{u!==r1.A&&t(new St(Vd(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ny(n,e){return tf(n).put((r=n.currentSequenceNumber,new ha(0,Mo(e.path),r)));var r}class Op{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){B3(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return _N(this.inner)}}class PO{constructor(){this.changes=new Op(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jB{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return nf(e).put(ry(t),r)}removeEntry(e,t){const r=nf(e),i=ry(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.mn(e,r)))}getEntry(e,t){return nf(e).get(ry(t)).next(r=>this.gn(t,r))}yn(e,t){return nf(e).get(ry(t)).next(r=>({document:this.gn(t,r),size:ty(r)}))}getEntries(e,t){let r=au();return this.pn(e,t,(i,u)=>{const m=this.gn(i,u);r=r.insert(i,m)}).next(()=>r)}In(e,t){let r=au(),i=new fs(St.comparator);return this.pn(e,t,(u,m)=>{const y=this.gn(u,m);r=r.insert(u,y),i=i.insert(u,ty(m))}).next(()=>({documents:r,En:i}))}pn(e,t,r){if(t.isEmpty())return Le.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),u=t.getIterator();let m=u.getNext();return nf(e).Qt({range:i},(y,w,S)=>{const k=St.fromSegments(y);for(;m&&St.comparator(m,k)<0;)r(m,null),m=u.getNext();m&&m.isEqual(k)&&(r(m,w),m=u.hasNext()?u.getNext():null),m?S.Ut(m.path.toArray()):S.done()}).next(()=>{for(;m;)r(m,null),m=u.hasNext()?u.getNext():null})}getAll(e,t,r){let i=au();const u=t.length+1,m={};if(r.isEqual(Xt.min())){const y=t.toArray();m.range=IDBKeyRange.lowerBound(y)}else{const y=t.toArray(),w=xT(r);m.range=IDBKeyRange.lowerBound([y,w],!0),m.index=Gi.collectionReadTimeIndex}return nf(e).Qt(m,(y,w,S)=>{if(y.length!==u)return;const k=this.gn(St.fromSegments(y),w);t.isPrefixOf(k.key.path)?i=i.insert(k.key,k):S.done()}).next(()=>i)}newChangeBuffer(e){return new GB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return LO(e).get(Hd.key).next(t=>(sn(!!t),t))}mn(e,t){return LO(e).put(Hd.key,t)}gn(e,t){if(t){const r=yO(this.O,t);if(!r.isNoDocument()||!r.version.isEqual(Xt.min()))return r}return Ei.newInvalidDocument(e)}}class GB extends PO{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Op(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new di((u,m)=>Ln(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const y=this.An.get(u);if(m.isValidDocument()){const w=bO(this.Tn.O,m);i=i.add(u.path.popLast()),r+=ty(w)-y,t.push(this.Tn.addEntry(e,u,w))}else if(r-=y,this.trackRemovals){const w=bO(this.Tn.O,m.convertToNoDocument(Xt.min()));t.push(this.Tn.addEntry(e,u,w))}else t.push(this.Tn.removeEntry(e,u))}),i.forEach(u=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Tn.updateMetadata(e,r)),Le.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(r=>(this.An.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:r,En:i})=>(i.forEach((u,m)=>{this.An.set(u,m)}),r))}}function LO(n){return Ao(n,Hd.store)}function nf(n){return Ao(n,Gi.store)}function ry(n){return n.path.toArray()}class qB{constructor(e){this.O=e}kt(e,t,r,i){const u=new Y_("createOrUpgrade",t);var y;r<1&&i>=1&&(e.createObjectStore(s1.store),(y=e).createObjectStore(Jh.store,{keyPath:Jh.keyPath}),y.createObjectStore(Xr.store,{keyPath:Xr.keyPath,autoIncrement:!0}).createIndex(Xr.userMutationsIndex,Xr.userMutationsKeyPath,{unique:!0}),y.createObjectStore($a.store),FO(e),function(y){y.createObjectStore(Gi.store)}(e));let m=Le.resolve();return r<3&&i>=3&&(0!==r&&(function(y){y.deleteObjectStore(ha.store),y.deleteObjectStore(_c.store),y.deleteObjectStore(o1.store)}(e),FO(e)),m=m.next(()=>function(y){const w=y.store(o1.store),S=new o1(0,0,Xt.min().toTimestamp(),0);return w.put(o1.key,S)}(u))),r<4&&i>=4&&(0!==r&&(m=m.next(()=>function(y,w){return w.store(Xr.store).qt().next(S=>{y.deleteObjectStore(Xr.store),y.createObjectStore(Xr.store,{keyPath:Xr.keyPath,autoIncrement:!0}).createIndex(Xr.userMutationsIndex,Xr.userMutationsKeyPath,{unique:!0});const k=w.store(Xr.store),P=S.map(j=>k.put(j));return Le.waitFor(P)})}(e,u))),m=m.next(()=>{!function(y){y.createObjectStore(q2.store,{keyPath:q2.keyPath})}(e)})),r<5&&i>=5&&(m=m.next(()=>this.Rn(u))),r<6&&i>=6&&(m=m.next(()=>(function(y){y.createObjectStore(Hd.store)}(e),this.Pn(u)))),r<7&&i>=7&&(m=m.next(()=>this.bn(u))),r<8&&i>=8&&(m=m.next(()=>this.vn(e,u))),r<9&&i>=9&&(m=m.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const w=y.objectStore(Gi.store);w.createIndex(Gi.readTimeIndex,Gi.readTimeIndexPath,{unique:!1}),w.createIndex(Gi.collectionReadTimeIndex,Gi.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(m=m.next(()=>this.Vn(u))),r<11&&i>=11&&(m=m.next(()=>{(function(y){y.createObjectStore(Dp.store,{keyPath:Dp.keyPath})})(e),function(y){y.createObjectStore(Ap.store,{keyPath:Ap.keyPath})}(e)})),r<12&&i>=12&&(m=m.next(()=>{!function(y){const w=y.createObjectStore(Do.store,{keyPath:Do.keyPath});w.createIndex(Do.collectionPathOverlayIndex,Do.collectionPathOverlayIndexPath,{unique:!1}),w.createIndex(Do.collectionGroupOverlayIndex,Do.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),r<13&&i>=13&&(m=m.next(()=>{!function(y){y.createObjectStore(a1.store,{keyPath:a1.keyPath,autoIncrement:!0}).createIndex(a1.collectionGroupIndex,a1.collectionGroupIndexPath,{unique:!1}),y.createObjectStore(lu.store,{keyPath:lu.keyPath}).createIndex(lu.sequenceNumberIndex,lu.sequenceNumberIndexPath,{unique:!1}),y.createObjectStore(cu.store,{keyPath:cu.keyPath}).createIndex(cu.documentKeyIndex,cu.documentKeyIndexPath,{unique:!1})}(e)})),m}Pn(e){let t=0;return e.store(Gi.store).Qt((r,i)=>{t+=ty(i)}).next(()=>{const r=new Hd(t);return e.store(Hd.store).put(Hd.key,r)})}Rn(e){const t=e.store(Jh.store),r=e.store(Xr.store);return t.qt().next(i=>Le.forEach(i,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt(Xr.userMutationsIndex,m).next(y=>Le.forEach(y,w=>{sn(w.userId===u.userId);const S=kp(this.O,w);return AO(e,u.userId,S).next(()=>{})}))}))}bn(e){const t=e.store(ha.store),r=e.store(Gi.store);return e.store(o1.store).get(o1.key).next(i=>{const u=[];return r.Qt((m,y)=>{const w=new sr(m),S=[0,Mo(w)];u.push(t.get(S).next(k=>k?Le.resolve():t.put(new ha(0,Mo(w),i.highestListenSequenceNumber))))}).next(()=>Le.waitFor(u))})}vn(e,t){e.createObjectStore(K3.store,{keyPath:K3.keyPath});const r=t.store(K3.store),i=new kT,u=m=>{if(i.add(m)){const y=m.lastSegment(),w=m.popLast();return r.put({collectionId:y,parent:Mo(w)})}};return t.store(Gi.store).Qt({jt:!0},(m,y)=>{const w=new sr(m);return u(w.popLast())}).next(()=>t.store($a.store).Qt({jt:!0},([m,y,w],S)=>{const k=Vd(y);return u(k.popLast())}))}Vn(e){const t=e.store(_c.store);return t.Qt((r,i)=>{const u=Cm(i),m=CO(this.O,u);return t.put(m)})}}function FO(n){n.createObjectStore(ha.store,{keyPath:ha.keyPath}).createIndex(ha.documentTargetsIndex,ha.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(_c.store,{keyPath:_c.keyPath}).createIndex(_c.queryTargetsIndexName,_c.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(o1.store)}const OT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class PT{constructor(e,t,r,i,u,m,y,w,S,k,P=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Sn=u,this.window=m,this.document=y,this.Dn=S,this.Cn=k,this.schemaVersion=P,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=j=>Promise.resolve(),!PT.Vt())throw new We(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UB(this,i),this.Bn=t+"main",this.O=new _O(w),this.Ln=new Qu(this.Bn,this.schemaVersion,new qB(this.O)),this.Un=new zB(this.referenceDelegate,this.O),this.qn=new jB(this.O),this.Kn=new kB,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===k&&ks("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new We(ke.FAILED_PRECONDITION,OT);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new r1(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var r=(0,Ne.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,Ne.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>iy(e).put(new q2(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(Y3(e))return st("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return st("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return Em(e).get(s1.key).next(t=>Le.resolve(this.ts(t)))}es(e){return iy(e).delete(this.clientId)}ns(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ao(r,q2.store);return i.qt().next(u=>{const m=e.rs(u,18e5),y=u.filter(w=>-1===m.indexOf(w));return Le.forEach(y,w=>i.delete(w.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Gn)for(const r of t)e.Gn.removeItem(e.os(r.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?Le.resolve(!0):Em(e).get(s1.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new We(ke.FAILED_PRECONDITION,OT);return!1}}return!(!this.networkEnabled||!this.inForeground)||iy(e).qt().next(r=>void 0===this.rs(r,5e3).find(i=>{if(this.clientId!==i.clientId){const m=!this.inForeground&&i.inForeground,y=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||m&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&st("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[s1.store,q2.store],t=>{const r=new vO(t,r1.A);return e.Xn(r).next(()=>e.es(r))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>iy(e).qt().next(t=>this.rs(t,18e5).map(r=>r.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return RT.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new FB(e)}getDocumentOverlayCache(e){return MT.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,r){st("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=13===(m=this.schemaVersion)?MB:12===m?fO:11===m?hO:void Ht();var m;let y;return this.Ln.runTransaction(e,i,u,w=>(y=new vO(w,this.Nn?this.Nn.next():r1.A),"readwrite-primary"===t?this.Jn(y).next(S=>!!S||this.Yn(y)).next(S=>{if(!S)throw ks(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new We(ke.FAILED_PRECONDITION,pO);return r(y)}).next(S=>this.Zn(y).next(()=>S)):this._s(y).next(()=>r(y)))).then(w=>(y.raiseOnCommittedEvent(),w))}_s(e){return Em(e).get(s1.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new We(ke.FAILED_PRECONDITION,OT)})}Zn(e){const t=new s1(this.clientId,this.allowTabSynchronization,Date.now());return Em(e).put(s1.key,t)}static Vt(){return Qu.Vt()}Xn(e){const t=Em(e);return t.get(s1.key).next(r=>this.ts(r)?(st("IndexedDbPersistence","Releasing primary lease."),t.delete(s1.key)):Le.resolve())}ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(ks(`Detected an update time that is in the future: ${e} > ${r}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const r=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return st("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ks("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){ks("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Em(n){return Ao(n,s1.store)}function iy(n){return Ao(n,q2.store)}function LT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class $B{constructor(e,t){this.progress=e,this.ws=t}}class WB{constructor(e,t,r){this.qn=e,this.gs=t,this.indexManager=r}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.ps(e,t,r))}ps(e,t,r){return this.qn.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}Is(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}Es(e,t){return this.qn.getEntries(e,t).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Is(t,r))}As(e,t,r){return St.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Rs(e,t.path):dT(t)?this.Ps(e,t,r):this.bs(e,t,r);var i}Rs(e,t){return this.ys(e,new St(t)).next(r=>{let i=gT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ps(e,t,r){const i=t.collectionGroup;let u=gT();return this.indexManager.getCollectionParents(e,i).next(m=>Le.forEach(m,y=>{const w=(S=t,k=y.child(i),new G2(k,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,k;return this.bs(e,w,r).next(S=>{S.forEach((k,P)=>{u=u.insert(k,P)})})}).next(()=>u))}bs(e,t,r){let i;return this.qn.getAll(e,t.path,r).next(u=>(i=u,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const m of u)for(const y of m.mutations){const w=y.key;let S=i.get(w);null==S&&(S=Ei.newInvalidDocument(w),i=i.insert(w,S)),pT(y,S,m.localWriteTime),S.isFoundDocument()||(i=i.remove(w))}}).next(()=>(i.forEach((u,m)=>{fT(t,m)||(i=i.remove(u))}),i))}}class FT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.vs=r,this.Vs=i}static Ss(e,t){let r=_r(),i=_r();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new FT(e,t.fromCache,r,i)}}class zO{Ds(e){this.Cs=e}As(e,t,r,i){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Xt.min())?this.Ns(e,t):this.Cs.Es(e,i).next(u=>{const m=this.xs(t,u);return(U_(t)||j_(t))&&this.ks(t.limitType,m,i,r)?this.Ns(e,t):(rT()<=jc.in.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hT(t)),this.Cs.As(e,t,r).next(y=>(m.forEach(w=>{y=y.insert(w.key,w)}),y)))});var u}xs(e,t){let r=new di(RN(e));return t.forEach((i,u)=>{fT(e,u)&&(r=r.add(u))}),r}ks(e,t,r,i){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Ns(e,t){return rT()<=jc.in.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",hT(t)),this.Cs.As(e,t,Xt.min())}}class ZB{constructor(e,t,r,i){this.persistence=e,this.Os=t,this.O=i,this.Ms=new fs(Ln),this.$s=new Op(u=>cm(u),H_),this.Fs=Xt.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new WB(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function VO(n,e,t,r){return new ZB(n,e,t,r)}function HO(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,Ne.Z)(function*(n,e){const t=mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.gs.getAllMutationBatches(r).next(u=>(i=u,t.Ls(e),t.gs.getAllMutationBatches(r))).next(u=>{const m=[],y=[];let w=_r();for(const S of i){m.push(S.batchId);for(const k of S.mutations)w=w.add(k.key)}for(const S of u){y.push(S.batchId);for(const k of S.mutations)w=w.add(k.key)}return t.Us.Es(r,w).next(S=>({qs:S,removedBatchIds:m,addedBatchIds:y}))})})}),zT.apply(this,arguments)}function KB(n,e){const t=mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(m,y,w,S){const k=w.batch,P=k.keys();let j=Le.resolve();return P.forEach($=>{j=j.next(()=>S.getEntry(y,$)).next(K=>{const ve=w.docVersions.get($);sn(null!==ve),K.version.compareTo(ve)<0&&(k.applyToRemoteDocument(K,w),K.isValidDocument()&&(K.setReadTime(w.commitVersion),S.addEntry(K)))})}),j.next(()=>m.gs.removeMutationBatch(y,k))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.gs.performConsistencyCheck(r)).next(()=>t.Us.Es(r,i))})}function BO(n){const e=mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function YB(n,e){const t=mt(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.Ms;const y=[];e.targetChanges.forEach((S,k)=>{const P=i.get(k);if(!P)return;y.push(t.Un.removeMatchingKeys(u,S.removedDocuments,k).next(()=>t.Un.addMatchingKeys(u,S.addedDocuments,k)));let j=P.withSequenceNumber(u.currentSequenceNumber);var $,K,ve;e.targetMismatches.has(k)?j=j.withResumeToken(to.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,r)),i=i.insert(k,j),K=j,ve=S,(0===($=P).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&y.push(t.Un.updateTargetData(u,j))});let w=au();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),y.push(UO(u,m,e.documentUpdates).next(S=>{w=S})),!r.isEqual(Xt.min())){const S=t.Un.getLastRemoteSnapshotVersion(u).next(k=>t.Un.setTargetsMetadata(u,u.currentSequenceNumber,r));y.push(S)}return Le.waitFor(y).next(()=>m.apply(u)).next(()=>t.Us.Ts(u,w)).next(()=>w)}).then(u=>(t.Ms=i,u))}function UO(n,e,t){let r=_r();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let u=au();return t.forEach((m,y)=>{const w=i.get(m);y.isNoDocument()&&y.version.isEqual(Xt.min())?(e.removeEntry(m,y.readTime),u=u.insert(m,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),u=u.insert(m,y)):st("LocalStore","Ignoring outdated watch update for ",m,". Current version:",w.version," Watch version:",y.version)}),u})}function QB(n,e){const t=mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(r,e)))}function Pp(n,e){const t=mt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Un.getTargetData(r,e).next(u=>u?(i=u,Le.resolve(i)):t.Un.allocateTargetId(r).next(m=>(i=new Xh(e,m,0,r.currentSequenceNumber),t.Un.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.$s.set(e,r.targetId)),r})}function Lp(n,e,t){return VT.apply(this,arguments)}function VT(){return VT=(0,Ne.Z)(function*(n,e,t){const r=mt(n),i=r.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,m=>r.persistence.referenceDelegate.removeTarget(m,i)))}catch(m){if(!Y3(m))throw m;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}r.Ms=r.Ms.remove(e),r.$s.delete(i.target)}),VT.apply(this,arguments)}function sy(n,e,t){const r=mt(n);let i=Xt.min(),u=_r();return r.persistence.runTransaction("Execute query","readonly",m=>function(y,w,S){const k=mt(y),P=k.$s.get(S);return void 0!==P?Le.resolve(k.Ms.get(P)):k.Un.getTargetData(w,S)}(r,m,ou(e)).next(y=>{if(y)return i=y.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(m,y.targetId).next(w=>{u=w})}).next(()=>r.Os.As(m,e,t?i:Xt.min(),t?u:_r())).next(y=>({documents:y,Ks:u})))}function jO(n,e){const t=mt(n),r=mt(t.Un),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Tt(u,e).next(m=>m?m.target:null))}function GO(n){const e=mt(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,u){const m=mt(r);let y=au(),w=xT(u);const S=nf(i),k=IDBKeyRange.lowerBound(w,!0);return S.Qt({index:Gi.readTimeIndex,range:k},(P,j)=>{const $=yO(m.O,j);y=y.insert($.key,$),w=j.readTime}).next(()=>({ws:y,readTime:ST(w)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:r})=>(e.Fs=r,t))}function HT(){return HT=(0,Ne.Z)(function*(n){const e=mt(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=nf(r);let u=Xt.min();return i.Qt({index:Gi.readTimeIndex,reverse:!0},(m,y,w)=>{y.readTime&&(u=ST(y.readTime)),w.done()}).next(()=>u)}(t)).then(t=>{e.Fs=t})}),HT.apply(this,arguments)}function BT(){return BT=(0,Ne.Z)(function*(n,e,t,r){const i=mt(n);let u=_r(),m=au();for(const S of t){const k=e.Gs(S.metadata.name);S.document&&(u=u.add(k));const P=e.js(S);P.setReadTime(e.Qs(S.metadata.readTime)),m=m.insert(k,P)}const y=i.Bs.newChangeBuffer({trackRemovals:!0}),w=yield Pp(i,(S=r,ou(wp(sr.fromString(`__bundle__/docs/${S}`)))));var S;return i.persistence.runTransaction("Apply bundle documents","readwrite",S=>UO(S,y,m).next(k=>(y.apply(S),k)).next(k=>i.Un.removeMatchingKeysForTargetId(S,w.targetId).next(()=>i.Un.addMatchingKeys(S,u,w.targetId)).next(()=>i.Us.Ts(S,k)).next(()=>k)))}),BT.apply(this,arguments)}function eU(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,Ne.Z)(function*(n,e,t=_r()){const r=yield Pp(n,ou(TT(e.bundledQuery))),i=mt(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const m=Io(e.readTime);if(r.snapshotVersion.compareTo(m)>=0)return i.Kn.saveNamedQuery(u,e);const y=r.withResumeToken(to.EMPTY_BYTE_STRING,m);return i.Ms=i.Ms.insert(y.targetId,y),i.Un.updateTargetData(u,y).next(()=>i.Un.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Un.addMatchingKeys(u,t,r.targetId)).next(()=>i.Kn.saveNamedQuery(u,e))})}),UT.apply(this,arguments)}class tU{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return Le.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var r;return this.Ws.set(t.id,{id:(r=t).id,version:r.version,createTime:Io(r.createTime)}),Le.resolve()}getNamedQuery(e,t){return Le.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(r=t).name,query:TT(r.bundledQuery),readTime:Io(r.readTime)}),Le.resolve();var r}}class nU{constructor(){this.overlays=new fs(St.comparator),this.Hs=new Map}getOverlay(e,t){return Le.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach(i=>{this.Yt(e,t,i)}),Le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Hs.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.Hs.delete(r)),Le.resolve()}getOverlaysForCollection(e,t,r){const i=new Map,u=t.length+1,m=new St(t.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const w=y.getNext().value,S=w.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===u&&w.largestBatchId>r&&i.set(w.getKey(),w)}return Le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new fs((S,k)=>S-k);const m=this.overlays.getIterator();for(;m.hasNext();){const S=m.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let k=u.get(S.largestBatchId);null===k&&(k=new Map,u=u.insert(S.largestBatchId,k)),k.set(S.getKey(),S)}}const y=new Map,w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((S,k)=>y.set(k,S)),!(y.size>=i)););return Le.resolve(y)}Yt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);null!==i&&this.Hs.get(i.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new ET(t,r));let u=this.Hs.get(t);void 0===u&&(u=new Set,this.Hs.set(t,u)),u.add(r.key)}}class jT{constructor(){this.Js=new di(ko.Ys),this.Xs=new di(ko.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const r=new ko(e,t);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ei(new ko(e,t))}ni(e,t){e.forEach(r=>this.removeReference(r,t))}si(e){const t=new St(new sr([])),r=new ko(t,e),i=new ko(t,e+1),u=[];return this.Xs.forEachInRange([r,i],m=>{this.ei(m),u.push(m.key)}),u}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new St(new sr([])),r=new ko(t,e),i=new ko(t,e+1);let u=_r();return this.Xs.forEachInRange([r,i],m=>{u=u.add(m.key)}),u}containsKey(e){const t=new ko(e,0),r=this.Js.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ko{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return St.comparator(e.key,t.key)||Ln(e.oi,t.oi)}static Zs(e,t){return Ln(e.oi,t.oi)||St.comparator(e.key,t.key)}}class rU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new di(ko.Ys)}checkEmpty(e){return Le.resolve(0===this.gs.length)}addMutationBatch(e,t,r,i){const u=this.ci;this.ci++;const m=new CT(u,t,r,i);this.gs.push(m);for(const y of i)this.ui=this.ui.add(new ko(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Le.resolve(m)}lookupMutationBatch(e,t){return Le.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.hi(t+1),u=i<0?0:i;return Le.resolve(this.gs.length>u?this.gs[u]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return Le.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ko(t,0),i=new ko(t,Number.POSITIVE_INFINITY),u=[];return this.ui.forEachInRange([r,i],m=>{const y=this.ai(m.oi);u.push(y)}),Le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new di(Ln);return t.forEach(i=>{const u=new ko(i,0),m=new ko(i,Number.POSITIVE_INFINITY);this.ui.forEachInRange([u,m],y=>{r=r.add(y.oi)})}),Le.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;St.isDocumentKey(u)||(u=u.child(""));const m=new ko(new St(u),0);let y=new di(Ln);return this.ui.forEachWhile(w=>{const S=w.key.path;return!!r.isPrefixOf(S)&&(S.length===i&&(y=y.add(w.oi)),!0)},m),Le.resolve(this.li(y))}li(e){const t=[];return e.forEach(r=>{const i=this.ai(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){sn(0===this.fi(t.batchId,"removed")),this.gs.shift();let r=this.ui;return Le.forEach(t.mutations,i=>{const u=new ko(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,t){const r=new ko(t,0),i=this.ui.firstAfterOrEqual(r);return Le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Le.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class iU{constructor(e){this.di=e,this.docs=new fs(St.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,m=this.di(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Le.resolve(r?r.document.mutableCopy():Ei.newInvalidDocument(t))}getEntries(e,t){let r=au();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Ei.newInvalidDocument(i))}),Le.resolve(r)}getAll(e,t,r){let i=au();const u=new St(t.child("")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:y,value:{document:w}}=m.getNext();if(!t.isPrefixOf(y.path))break;y.path.length>t.length+1||w.readTime.compareTo(r)<=0||(i=i.insert(w.key,w.mutableCopy()))}return Le.resolve(i)}_i(e,t){return Le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sU(this)}getSize(e){return Le.resolve(this.size)}}class sU extends PO{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Tn.addEntry(e,i)):this.Tn.removeEntry(r)}),Le.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class oU{constructor(e){this.persistence=e,this.wi=new Op(t=>cm(t),H_),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.mi=0,this.gi=new jT,this.targetCount=0,this.yi=e4.He()}forEachTarget(e,t){return this.wi.forEach((r,i)=>t(i)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.mi&&(this.mi=t),Le.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new e4(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,Le.resolve()}updateTargetData(e,t){return this.Ze(t),Le.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.wi.forEach((m,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.wi.delete(m),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),i++)}),Le.waitFor(u).next(()=>i)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,t){const r=this.wi.get(t)||null;return Le.resolve(r)}addMatchingKeys(e,t,r){return this.gi.ti(t,r),Le.resolve()}removeMatchingKeys(e,t,r){this.gi.ni(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(m=>{u.push(i.markPotentiallyOrphaned(e,m))}),Le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),Le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.gi.ri(t);return Le.resolve(r)}containsKey(e,t){return Le.resolve(this.gi.containsKey(t))}}class aU{constructor(e,t){this.pi={},this.overlays={},this.Nn=new r1(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new oU(this),this.indexManager=new LB,this.qn=new iU(r=>this.referenceDelegate.Ii(r)),this.O=new _O(t),this.Kn=new tU(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.pi[e.toKey()];return r||(r=new rU(t,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,r){st("MemoryPersistence","Starting transaction:",e);const i=new lU(this.Nn.next());return this.referenceDelegate.Ei(),r(i).next(u=>this.referenceDelegate.Ti(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ai(e,t){return Le.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,t)))}}class lU extends mO{constructor(e){super(),this.currentSequenceNumber=e}}class GT{constructor(e){this.persistence=e,this.Ri=new jT,this.Pi=null}static bi(e){return new GT(e)}get vi(){if(this.Pi)return this.Pi;throw Ht()}addReference(e,t,r){return this.Ri.addReference(r,t),this.vi.delete(r.toString()),Le.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.vi.add(r.toString()),Le.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),Le.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(i=>this.vi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.vi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.vi,r=>{const i=St.fromPath(r);return this.Vi(e,i).next(u=>{u||t.removeEntry(i,Xt.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(r=>{r?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return Le.or([()=>Le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function qO(n,e){return`firestore_clients_${n}_${e}`}function $O(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qT(n,e){return`firestore_targets_${n}_${e}`}class oy{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Si(e,t,r){const i=JSON.parse(r);let u,m="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return m&&i.error&&(m="string"==typeof i.error.message&&"string"==typeof i.error.code,m&&(u=new We(i.error.code,i.error.message))),m?new oy(e,t,i.state,u):(ks("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Si(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new We(r.error.code,r.error.message))),u?new xm(e,r.state,i):(ks("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ay{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Z_();for(let m=0;i&&m<r.activeTargetIds.length;++m)i=bN(r.activeTargetIds[m]),u=u.add(r.activeTargetIds[m]);return i?new ay(e,u):(ks("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $T{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $T(t.clientId,t.onlineState):(ks("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WT{constructor(){this.activeTargetIds=Z_()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZT{constructor(e,t,r,i,u){this.window=e,this.Sn=t,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new fs(Ln),this.started=!1,this.$i=[];const m=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Fi=qO(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new WT),this.Li=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.ds();for(const i of t){if(i===e.xi)continue;const u=e.getItem(qO(e.persistenceKey,i));if(u){const m=ay.Si(i,u);m&&(e.Mi=e.Mi.insert(m.clientId,m))}}e.ji();const r=e.storage.getItem(e.Ki);if(r){const i=e.Qi(r);i&&e.Wi(i)}for(const i of e.$i)e.Oi(i);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,r){this.Hi(e,t,r),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qT(this.persistenceKey,e));if(r){const i=xm.Si(e,r);i&&(t=i.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Xi(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ji(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return st("SharedClientState","READ",e,t),t}setItem(e,t){st("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){st("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const r=e;if(r.storageArea===this.storage){if(st("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Fi)return void ks("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==r.key)if(t.Li.test(r.key)){if(null==r.newValue){const i=t.er(r.key);return t.nr(i,null)}{const i=t.sr(r.key,r.newValue);if(i)return t.nr(i.clientId,i)}}else if(t.Ui.test(r.key)){if(null!==r.newValue){const i=t.ir(r.key,r.newValue);if(i)return t.rr(i)}}else if(t.qi.test(r.key)){if(null!==r.newValue){const i=t.cr(r.key,r.newValue);if(i)return t.ur(i)}}else if(r.key===t.Ki){if(null!==r.newValue){const i=t.Qi(r.newValue);if(i)return t.Wi(i)}}else if(r.key===t.Bi){const i=function(u){let m=r1.A;if(null!=u)try{const y=JSON.parse(u);sn("number"==typeof y),m=y}catch(y){ks("SharedClientState","Failed to read sequence number from WebStorage",y)}return m}(r.newValue);i!==r1.A&&t.sequenceNumberHandler(i)}else if(r.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(r)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,r){const i=new oy(this.currentUser,e,t,r),u=$O(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Di())}Ji(e){const t=$O(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,r){const i=qT(this.persistenceKey,e),u=new xm(e,t,r);this.setItem(i,u.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const r=this.er(e);return ay.Si(r,t)}ir(e,t){const r=this.Ui.exec(e),i=Number(r[1]);return oy.Si(new ua(void 0!==r[2]?r[2]:null),i,t)}cr(e,t){const r=this.qi.exec(e),i=Number(r[1]);return xm.Si(i,t)}Qi(e){return $T.Si(e)}rr(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);st("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),u=this.zi(r),m=[],y=[];return u.forEach(w=>{i.has(w)||m.push(w)}),i.forEach(w=>{u.has(w)||y.push(w)}),this.syncEngine.dr(m,y).then(()=>{this.Mi=r})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Z_();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class WO{constructor(){this._r=new WT,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,r){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new WT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class cU{mr(e){}shutdown(){}}class ZO{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class dU{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class hU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,r,i,u){const m=this.$r(e,t);st("RestConnection","Sending: ",m,r);const y={};return this.Fr(y,i,u),this.Br(e,m,y,r).then(w=>(st("RestConnection","Received: ",w),w),w=>{throw nm("RestConnection",`${e} failed with error: `,w,"url: ",m,"request:",r),w})}Lr(e,t,r,i,u){return this.Mr(e,t,r,i,u)}Fr(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+mp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}$r(e,t){return`${this.kr}/v1/${t}:${uU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,r,i){return new Promise((u,m)=>{const y=new TH;y.listenOnce(EH.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case nT.NO_ERROR:const S=y.getResponseJson();st("Connection","XHR received:",JSON.stringify(S)),u(S);break;case nT.TIMEOUT:st("Connection",'RPC "'+e+'" timed out'),m(new We(ke.DEADLINE_EXCEEDED,"Request time out"));break;case nT.HTTP_ERROR:const k=y.getStatus();if(st("Connection",'RPC "'+e+'" failed with status:',k,"response text:",y.getResponseText()),k>0){const P=y.getResponseJson().error;if(P&&P.status&&P.message){const j=function($){const K=$.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(K)>=0?K:ke.UNKNOWN}(P.status);m(new We(j,P.message))}else m(new We(ke.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new We(ke.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{st("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(i);y.send(t,"POST",w,r,15)})}Ur(e,t,r){const i=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=CH(),m=wH(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new SH({})),this.Fr(y.initMessageHeaders,t,r),(0,jt.uI)()||(0,jt.b$)()||(0,jt.d)()||(0,jt.w1)()||(0,jt.Mn)()||(0,jt.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const w=i.join("");st("Connection","Creating WebChannel: "+w,y);const S=u.createWebChannel(w,y);let k=!1,P=!1;const j=new dU({Ar:K=>{P?st("Connection","Not sending because WebChannel is closed:",K):(k||(st("Connection","Opening WebChannel transport."),S.open(),k=!0),st("Connection","WebChannel sending:",K),S.send(K))},Rr:()=>S.close()}),$=(K,ve,Ie)=>{K.listen(ve,Ke=>{try{Ie(Ke)}catch(ft){setTimeout(()=>{throw ft},0)}})};return $(S,O_.EventType.OPEN,()=>{P||st("Connection","WebChannel transport opened.")}),$(S,O_.EventType.CLOSE,()=>{P||(P=!0,st("Connection","WebChannel transport closed"),j.Cr())}),$(S,O_.EventType.ERROR,K=>{P||(P=!0,nm("Connection","WebChannel transport errored:",K),j.Cr(new We(ke.UNAVAILABLE,"The operation could not be completed")))}),$(S,O_.EventType.MESSAGE,K=>{var ve;if(!P){const Ie=K.data[0];sn(!!Ie);const Ke=Ie,ft=Ke.error||(null===(ve=Ke[0])||void 0===ve?void 0:ve.error);if(ft){st("Connection","WebChannel received error:",ft);const At=ft.status;let ct=function(kn){const zr=Ns[kn];if(void 0!==zr)return WN(zr)}(At),hn=ft.message;void 0===ct&&(ct=ke.INTERNAL,hn="Unknown error status: "+At+" with message "+ft.message),P=!0,j.Cr(new We(ct,hn)),S.close()}else st("Connection","WebChannel received:",Ie),j.Nr(Ie)}}),$(m,xH.STAT_EVENT,K=>{K.stat===dN.PROXY?st("Connection","Detected buffering proxy"):K.stat===dN.NOPROXY&&st("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.Dr()},0),j}}function KO(){return"undefined"!=typeof window?window:null}function ly(){return"undefined"!=typeof document?document:null}function Sm(n){return new fB(n,!0)}class KT{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Sn=e,this.timerId=t,this.qr=r,this.Kr=i,this.Gr=u,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,t-r);i>0&&st("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class YO{constructor(e,t,r,i,u,m,y,w){this.Sn=e,this.Xr=r,this.Zr=i,this.eo=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=w,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new KT(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,Ne.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,Ne.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var r=this;return(0,Ne.Z)(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():t&&t.code===ke.RESOURCE_EXHAUSTED?(ks(t.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):t&&t.code===ke.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.no===t&&this.po(r,i)},r=>{e(()=>{const i=new We(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(i)})})}po(e,t){const r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(i=>{r(()=>this.Io(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}uo(){var e=this;this.state=5,this.ro.Hr((0,Ne.Z)(function*(){e.state=0,e.start()}))}Io(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fU extends YO{constructor(e,t,r,i,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,m),this.O=u}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Ht(),i=e.targetChange.targetIds||[],u=function(w,S){return w.N?(sn(void 0===S||"string"==typeof S),to.fromBase64String(S||"")):(sn(void 0===S||S instanceof Uint8Array),to.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),m=e.targetChange.cause,y=m&&function(w){const S=void 0===w.code?ke.UNKNOWN:WN(w.code);return new We(S,w.message||"")}(m);t=new YN(r,i,u,y||null)}else if("documentChange"in e){const r=e.documentChange,i=zd(n,r.document.name),u=Io(r.document.updateTime),m=new qa({mapValue:{fields:r.document.fields}}),y=Ei.newFoundDocument(i,u,m);t=new K_(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=zd(n,r.document),u=r.readTime?Io(r.readTime):Xt.min(),m=Ei.newNoDocument(i,u);t=new K_([],r.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const r=e.documentRemove,i=zd(n,r.document);t=new K_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ht();{const r=e.filter,u=new iB(r.count||0);t=new KN(r.targetId,u)}}var w;return t}(this.O,e),r=function(i){if(!("targetChange"in i))return Xt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Xt.min():u.readTime?Io(u.readTime):Xt.min()}(e);return this.listener.To(t,r)}Ao(e){const t={};t.database=_m(this.O),t.addTarget=function(i,u){let m;const y=u.target;return m=B_(y)?{documents:oO(i,y)}:{query:aO(i,y)},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?m.resumeToken=eO(i,u.resumeToken):u.snapshotVersion.compareTo(Xt.min())>0&&(m.readTime=gm(i,u.snapshotVersion.toTimestamp())),m}(this.O,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.fo(t)}Ro(e){const t={};t.database=_m(this.O),t.removeTarget=e,this.fo(t)}}class pU extends YO{constructor(e,t,r,i,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,m),this.O=u,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function(n,e){return n&&n.length>0?(sn(void 0!==e),n.map(t=>function(r,i){let u=Io(r.updateTime?r.updateTime:i);return u.isEqual(Xt.min())&&(u=Io(i)),new tB(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Io(e.commitTime);return this.listener.Vo(r,t)}return sn(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=_m(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ym(this.O,r))};this.fo(t)}}class mU extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=r,this.O=i,this.Co=!1}No(){if(this.Co)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.eo.Mr(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new We(ke.UNKNOWN,i.toString())})}Lr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.eo.Lr(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new We(ke.UNKNOWN,i.toString())})}terminate(){this.Co=!0}}class gU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(ks(t),this.Oo=!1):st("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class vU{constructor(e,t,r,i,u){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=u,this.jo.mr(y=>{r.enqueueAndForget((0,Ne.Z)(function*(){var w;rf(m)&&(st("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,Ne.Z)(function*(S){const k=mt(S);k.Ko.add(4),yield Fp(k),k.Qo.set("Unknown"),k.Ko.delete(4),yield Tm(k)}),function(S){return w.apply(this,arguments)})(m))}))}),this.Qo=new gU(r,i)}}function Tm(n){return YT.apply(this,arguments)}function YT(){return YT=(0,Ne.Z)(function*(n){if(rf(n))for(const e of n.Go)yield e(!0)}),YT.apply(this,arguments)}function Fp(n){return QT.apply(this,arguments)}function QT(){return QT=(0,Ne.Z)(function*(n){for(const e of n.Go)yield e(!1)}),QT.apply(this,arguments)}function cy(n,e){const t=mt(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),eI(t)?XT(t):Vp(t).co()&&JT(t,e))}function Im(n,e){const t=mt(n),r=Vp(t);t.qo.delete(e),r.co()&&QO(t,e),0===t.qo.size&&(r.co()?r.ho():rf(t)&&t.Qo.set("Unknown"))}function JT(n,e){n.Wo.Z(e.targetId),Vp(n).Ao(e)}function QO(n,e){n.Wo.Z(e),Vp(n).Ro(e)}function XT(n){n.Wo=new uB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),Vp(n).start(),n.Qo.Mo()}function eI(n){return rf(n)&&!Vp(n).oo()&&n.qo.size>0}function rf(n){return 0===mt(n).Ko.size}function JO(n){n.Wo=void 0}function _U(n){return tI.apply(this,arguments)}function tI(){return tI=(0,Ne.Z)(function*(n){n.qo.forEach((e,t)=>{JT(n,e)})}),tI.apply(this,arguments)}function yU(n,e){return nI.apply(this,arguments)}function nI(){return nI=(0,Ne.Z)(function*(n,e){JO(n),eI(n)?(n.Qo.Bo(e),XT(n)):n.Qo.set("Unknown")}),nI.apply(this,arguments)}function bU(n,e,t){return rI.apply(this,arguments)}function rI(){return rI=(0,Ne.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof YN&&2===e.state&&e.cause)try{yield(r=(0,Ne.Z)(function*(i,u){const m=u.cause;for(const y of u.targetIds)i.qo.has(y)&&(yield i.remoteSyncer.rejectListen(y,m),i.qo.delete(y),i.Wo.removeTarget(y))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uy(n,r)}else if(e instanceof K_?n.Wo.ct(e):e instanceof KN?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(Xt.min()))try{const r=yield BO(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const m=i.Wo.yt(u);return m.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const S=i.qo.get(w);S&&i.qo.set(w,S.withResumeToken(y.resumeToken,u))}}),m.targetMismatches.forEach(y=>{const w=i.qo.get(y);if(!w)return;i.qo.set(y,w.withResumeToken(to.EMPTY_BYTE_STRING,w.snapshotVersion)),QO(i,y);const S=new Xh(w.target,y,1,w.sequenceNumber);JT(i,S)}),i.remoteSyncer.applyRemoteEvent(m)}(n,t))}catch(r){st("RemoteStore","Failed to raise snapshot:",r),yield uy(n,r)}var r}),rI.apply(this,arguments)}function uy(n,e,t){return iI.apply(this,arguments)}function iI(){return iI=(0,Ne.Z)(function*(n,e,t){if(!Y3(e))throw e;n.Ko.add(1),yield Fp(n),n.Qo.set("Offline"),t||(t=()=>BO(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){st("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield Tm(n)}))}),iI.apply(this,arguments)}function XO(n,e){return e().catch(t=>uy(n,t,e))}function zp(n){return sI.apply(this,arguments)}function sI(){return sI=(0,Ne.Z)(function*(n){const e=mt(n),t=sf(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;CU(e);)try{const i=yield QB(e.localStore,r);if(null===i){0===e.Uo.length&&t.ho();break}r=i.batchId,wU(e,i)}catch(i){yield uy(e,i)}eP(e)&&tP(e)}),sI.apply(this,arguments)}function CU(n){return rf(n)&&n.Uo.length<10}function wU(n,e){n.Uo.push(e);const t=sf(n);t.co()&&t.bo&&t.vo(e.mutations)}function eP(n){return rf(n)&&!sf(n).oo()&&n.Uo.length>0}function tP(n){sf(n).start()}function EU(n){return oI.apply(this,arguments)}function oI(){return oI=(0,Ne.Z)(function*(n){sf(n).Do()}),oI.apply(this,arguments)}function xU(n){return aI.apply(this,arguments)}function aI(){return aI=(0,Ne.Z)(function*(n){const e=sf(n);for(const t of n.Uo)e.vo(t.mutations)}),aI.apply(this,arguments)}function SU(n,e,t){return lI.apply(this,arguments)}function lI(){return lI=(0,Ne.Z)(function*(n,e,t){const r=n.Uo.shift(),i=wT.from(r,e,t);yield XO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zp(n)}),lI.apply(this,arguments)}function TU(n,e){return cI.apply(this,arguments)}function cI(){return cI=(0,Ne.Z)(function*(n,e){var t;e&&sf(n).bo&&(yield(t=(0,Ne.Z)(function*(r,i){if($N(u=i.code)&&u!==ke.ABORTED){const m=r.Uo.shift();sf(r).ao(),yield XO(r,()=>r.remoteSyncer.rejectFailedWrite(m.batchId,i)),yield zp(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),eP(n)&&tP(n)}),cI.apply(this,arguments)}function nP(n,e){return uI.apply(this,arguments)}function uI(){return uI=(0,Ne.Z)(function*(n,e){const t=mt(n);t.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const r=rf(t);t.Ko.add(3),yield Fp(t),r&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield Tm(t)}),uI.apply(this,arguments)}function dI(n,e){return hI.apply(this,arguments)}function hI(){return hI=(0,Ne.Z)(function*(n,e){const t=mt(n);e?(t.Ko.delete(2),yield Tm(t)):e||(t.Ko.add(2),yield Fp(t),t.Qo.set("Unknown"))}),hI.apply(this,arguments)}function Vp(n){return n.zo||(n.zo=function(e,t,r){const i=mt(e);return i.No(),new fU(t,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(n.datastore,n.asyncQueue,{Pr:_U.bind(null,n),vr:yU.bind(null,n),To:bU.bind(null,n)}),n.Go.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.zo.ao(),eI(n)?XT(n):n.Qo.set("Unknown")):(yield n.zo.stop(),JO(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function sf(n){return n.Ho||(n.Ho=function(e,t,r){const i=mt(e);return i.No(),new pU(t,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(n.datastore,n.asyncQueue,{Pr:EU.bind(null,n),vr:TU.bind(null,n),So:xU.bind(null,n),Vo:SU.bind(null,n)}),n.Go.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Ho.ao(),yield zp(n)):(yield n.Ho.stop(),n.Uo.length>0&&(st("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class fI{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,r,i,u){const m=Date.now()+r,y=new fI(e,t,m,i,u);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(n,e){if(ks("AsyncQueue",`${e}: ${n}`),Y3(n))return new We(ke.UNAVAILABLE,`${e}: ${n}`);throw n}class Bp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||St.comparator(t.key,r.key):(t,r)=>St.comparator(t.key,r.key),this.keyedMap=gT(),this.sortedSet=new fs(this.comparator)}static emptySet(e){return new Bp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Bp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class rP{constructor(){this.Jo=new fs(St.comparator)}track(e){const t=e.doc.key,r=this.Jo.get(t);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(t):1===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Ht():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Up{constructor(e,t,r,i,u,m,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new Up(e,t,Bp.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class IU{constructor(){this.Xo=void 0,this.listeners=[]}}class MU{constructor(){this.queries=new Op(e=>kN(e),um),this.onlineState="Unknown",this.Zo=new Set}}function pI(n,e){return mI.apply(this,arguments)}function mI(){return mI=(0,Ne.Z)(function*(n,e){const t=mt(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new IU),i)try{u.Xo=yield t.onListen(r)}catch(m){const y=Hp(m,`Initialization of query '${hT(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,u),u.listeners.push(e),e.tc(t.onlineState),u.Xo&&e.ec(u.Xo)&&_I(t)}),mI.apply(this,arguments)}function gI(n,e){return vI.apply(this,arguments)}function vI(){return vI=(0,Ne.Z)(function*(n,e){const t=mt(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const m=u.listeners.indexOf(e);m>=0&&(u.listeners.splice(m,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),vI.apply(this,arguments)}function DU(n,e){const t=mt(n);let r=!1;for(const i of e){const m=t.queries.get(i.query);if(m){for(const y of m.listeners)y.ec(i)&&(r=!0);m.Xo=i}}r&&_I(t)}function AU(n,e,t){const r=mt(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function _I(n){n.Zo.forEach(e=>{e.next()})}class yI{constructor(e,t,r){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Up(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Up.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class kU{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class iP{constructor(e){this.O=e}Gs(e){return zd(this.O,e)}js(e){return e.metadata.exists?sO(this.O,e.document,!1):Ei.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return Io(e)}}class RU{constructor(e,t,r){this.hc=e,this.localStore=t,this.O=r,this.queries=[],this.documents=[],this.progress=sP(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,r=new iP(this.O);for(const i of e)if(i.metadata.queries){const u=r.Gs(i.metadata.name);for(const m of i.metadata.queries){const y=(t.get(m)||_r()).add(u);t.set(m,y)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function(n,e,t,r){return BT.apply(this,arguments)}(e.localStore,new iP(e.O),e.documents,e.hc.id),r=e.fc(e.documents);for(const i of e.queries)yield eU(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new $B(Object.assign({},e.progress),t)})()}}function sP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class oP{constructor(e){this.key=e}}class aP{constructor(e){this.key=e}}class lP{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=_r(),this.mutatedKeys=_r(),this.mc=RN(e),this.gc=new Bp(this.mc)}get yc(){return this.dc}Ic(e,t){const r=t?t.Ec:new rP,i=t?t.gc:this.gc;let u=t?t.mutatedKeys:this.mutatedKeys,m=i,y=!1;const w=U_(this.query)&&i.size===this.query.limit?i.last():null,S=j_(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((k,P)=>{const j=i.get(k),$=fT(this.query,P)?P:null,K=!!j&&this.mutatedKeys.has(j.key),ve=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Ie=!1;j&&$?j.data.isEqual($.data)?K!==ve&&(r.track({type:3,doc:$}),Ie=!0):this.Tc(j,$)||(r.track({type:2,doc:$}),Ie=!0,(w&&this.mc($,w)>0||S&&this.mc($,S)<0)&&(y=!0)):!j&&$?(r.track({type:0,doc:$}),Ie=!0):j&&!$&&(r.track({type:1,doc:j}),Ie=!0,(w||S)&&(y=!0)),Ie&&($?(m=m.add($),u=ve?u.add(k):u.delete(k)):(m=m.delete(k),u=u.delete(k)))}),U_(this.query)||j_(this.query))for(;m.size>this.query.limit;){const k=U_(this.query)?m.last():m.first();m=m.delete(k.key),u=u.delete(k.key),r.track({type:1,doc:k})}return{gc:m,Ec:r,ks:y,mutatedKeys:u}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const u=e.Ec.Yo();u.sort((S,k)=>function(P,j){const $=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return $(P)-$(j)}(S.type,k.type)||this.mc(S.doc,k.doc)),this.Ac(r);const m=t?this.Rc():[],y=0===this.wc.size&&this.current?1:0,w=y!==this._c;return this._c=y,0!==u.length||w?{snapshot:new Up(this.query,e.gc,i,u,e.mutatedKeys,0===y,w,!1),Pc:m}:{Pc:m}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new rP,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=_r(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const t=[];return e.forEach(r=>{this.wc.has(r)||t.push(new aP(r))}),this.wc.forEach(r=>{e.has(r)||t.push(new oP(r))}),t}vc(e){this.dc=e.Ks,this.wc=_r();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return Up.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class NU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OU{constructor(e){this.key=e,this.Sc=!1}}class PU{constructor(e,t,r,i,u,m){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Dc={},this.Cc=new Op(y=>kN(y),um),this.Nc=new Map,this.xc=new Set,this.kc=new fs(St.comparator),this.Oc=new Map,this.Mc=new jT,this.$c={},this.Fc=new Map,this.Bc=e4.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function LU(n,e){return bI.apply(this,arguments)}function bI(){return bI=(0,Ne.Z)(function*(n,e){const t=jI(n);let r,i;const u=t.Cc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.Vc();else{const m=yield Pp(t.localStore,ou(e));t.isPrimaryClient&&cy(t.remoteStore,m);const y=t.sharedClientState.addLocalQueryTarget(m.targetId);r=m.targetId,i=yield CI(t,e,r,"current"===y)}return i}),bI.apply(this,arguments)}function CI(n,e,t,r){return wI.apply(this,arguments)}function wI(){return wI=(0,Ne.Z)(function*(n,e,t,r){n.Uc=(k,P,j)=>{return($=(0,Ne.Z)(function*(K,ve,Ie,Ke){let ft=ve.view.Ic(Ie);ft.ks&&(ft=yield sy(K.localStore,ve.query,!1).then(({documents:hn})=>ve.view.Ic(hn,ft)));const At=Ke&&Ke.targetChanges.get(ve.targetId),ct=ve.view.applyChanges(ft,K.isPrimaryClient,At);return RI(K,ve.targetId,ct.Pc),ct.snapshot}),function(K,ve,Ie,Ke){return $.apply(this,arguments)})(n,k,P,j);var $};const i=yield sy(n.localStore,e,!0),u=new lP(e,i.Ks),m=u.Ic(i.documents),y=mm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=u.applyChanges(m,n.isPrimaryClient,y);RI(n,t,w.Pc);const S=new NU(e,t,u);return n.Cc.set(e,S),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),w.snapshot}),wI.apply(this,arguments)}function FU(n,e){return EI.apply(this,arguments)}function EI(){return EI=(0,Ne.Z)(function*(n,e){const t=mt(n),r=t.Cc.get(e),i=t.Nc.get(r.targetId);if(i.length>1)return t.Nc.set(r.targetId,i.filter(u=>!um(u,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Lp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Im(t.remoteStore,r.targetId),jp(t,r.targetId)}).catch(t4))):(jp(t,r.targetId),yield Lp(t.localStore,r.targetId,!0))}),EI.apply(this,arguments)}function xI(){return xI=(0,Ne.Z)(function*(n,e,t){const r=GI(n);try{const i=yield function(u,m){const y=mt(u),w=So.now(),S=m.reduce((P,j)=>P.add(j.key),_r());let k;return y.persistence.runTransaction("Locally write mutations","readwrite",P=>y.Us.Es(P,S).next(j=>{k=j;const $=[];for(const K of m){const ve=rB(K,k.get(K.key));null!=ve&&$.push(new Z3(K.key,ve,xN(ve.value.mapValue),Rs.exists(!0)))}return y.gs.addMutationBatch(P,w,$,m)})).then(P=>(P.applyToLocalDocumentSet(k),{batchId:P.batchId,changes:k}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,m,y){let w=u.$c[u.currentUser.toKey()];w||(w=new fs(Ln)),w=w.insert(m,y),u.$c[u.currentUser.toKey()]=w}(r,i.batchId,t),yield $2(r,i.changes),yield zp(r.remoteStore)}catch(i){const u=Hp(i,"Failed to persist write");t.reject(u)}}),xI.apply(this,arguments)}function cP(n,e){return SI.apply(this,arguments)}function SI(){return SI=(0,Ne.Z)(function*(n,e){const t=mt(n);try{const r=yield YB(t.localStore,e);e.targetChanges.forEach((i,u)=>{const m=t.Oc.get(u);m&&(sn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?m.Sc=!0:i.modifiedDocuments.size>0?sn(m.Sc):i.removedDocuments.size>0&&(sn(m.Sc),m.Sc=!1))}),yield $2(t,r,e)}catch(r){yield t4(r)}}),SI.apply(this,arguments)}function uP(n,e,t){const r=mt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Cc.forEach((u,m)=>{const y=m.view.tc(e);y.snapshot&&i.push(y.snapshot)}),function(u,m){const y=mt(u);y.onlineState=m;let w=!1;y.queries.forEach((S,k)=>{for(const P of k.listeners)P.tc(m)&&(w=!0)}),w&&_I(y)}(r.eventManager,e),i.length&&r.Dc.To(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function VU(n,e,t){return TI.apply(this,arguments)}function TI(){return TI=(0,Ne.Z)(function*(n,e,t){const r=mt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Oc.get(e),u=i&&i.key;if(u){let m=new fs(St.comparator);m=m.insert(u,Ei.newNoDocument(u,Xt.min()));const y=_r().add(u),w=new pm(Xt.min(),new Map,new di(Ln),m,y);yield cP(r,w),r.kc=r.kc.remove(u),r.Oc.delete(e),NI(r)}else yield Lp(r.localStore,e,!1).then(()=>jp(r,e,t)).catch(t4)}),TI.apply(this,arguments)}function HU(n,e){return II.apply(this,arguments)}function II(){return II=(0,Ne.Z)(function*(n,e){const t=mt(n),r=e.batch.batchId;try{const i=yield KB(t.localStore,e);kI(t,r,null),AI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield $2(t,i)}catch(i){yield t4(i)}}),II.apply(this,arguments)}function BU(n,e,t){return MI.apply(this,arguments)}function MI(){return MI=(0,Ne.Z)(function*(n,e,t){const r=mt(n);try{const i=yield function(u,m){const y=mt(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let S;return y.gs.lookupMutationBatch(w,m).next(k=>(sn(null!==k),S=k.keys(),y.gs.removeMutationBatch(w,k))).next(()=>y.gs.performConsistencyCheck(w)).next(()=>y.Us.Es(w,S))})}(r.localStore,e);kI(r,e,t),AI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield $2(r,i)}catch(i){yield t4(i)}}),MI.apply(this,arguments)}function DI(){return DI=(0,Ne.Z)(function*(n,e){const t=mt(n);rf(t.remoteStore)||st("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const m=mt(u);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>m.gs.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Fc.get(r)||[];i.push(e),t.Fc.set(r,i)}catch(r){const i=Hp(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),DI.apply(this,arguments)}function AI(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function kI(n,e,t){const r=mt(n);let i=r.$c[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.$c[r.currentUser.toKey()]=i}}function jp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Nc.get(e))n.Cc.delete(r),t&&n.Dc.qc(r,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(r=>{n.Mc.containsKey(r)||dP(n,r)})}function dP(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(Im(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),NI(n))}function RI(n,e,t){for(const r of t)r instanceof oP?(n.Mc.addReference(r.key,e),jU(n,r)):r instanceof aP?(st("SyncEngine","Document no longer in limbo: "+r.key),n.Mc.removeReference(r.key,e),n.Mc.containsKey(r.key)||dP(n,r.key)):Ht()}function jU(n,e){const t=e.key,r=t.path.canonicalString();n.kc.get(t)||n.xc.has(r)||(st("SyncEngine","New document in limbo: "+t),n.xc.add(r),NI(n))}function NI(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new St(sr.fromString(e)),r=n.Bc.next();n.Oc.set(r,new OU(t)),n.kc=n.kc.insert(t,r),cy(n.remoteStore,new Xh(ou(wp(t.path)),r,2,r1.A))}}function $2(n,e,t){return OI.apply(this,arguments)}function OI(){return OI=(0,Ne.Z)(function*(n,e,t){const r=mt(n),i=[],u=[],m=[];var y;r.Cc.isEmpty()||(r.Cc.forEach((y,w)=>{m.push(r.Uc(w,e,t).then(S=>{if(S){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,S.fromCache?"not-current":"current"),i.push(S);const k=FT.Ss(w.targetId,S);u.push(k)}}))}),yield Promise.all(m),r.Dc.To(i),yield(y=(0,Ne.Z)(function*(w,S){const k=mt(w);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Le.forEach(S,j=>Le.forEach(j.vs,$=>k.persistence.referenceDelegate.addReference(P,j.targetId,$)).next(()=>Le.forEach(j.Vs,$=>k.persistence.referenceDelegate.removeReference(P,j.targetId,$)))))}catch(P){if(!Y3(P))throw P;st("LocalStore","Failed to update sequence numbers: "+P)}for(const P of S){const j=P.targetId;if(!P.fromCache){const $=k.Ms.get(j),ve=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);k.Ms=k.Ms.insert(j,ve)}}}),function(w,S){return y.apply(this,arguments)})(r.localStore,u))}),OI.apply(this,arguments)}function GU(n,e){return PI.apply(this,arguments)}function PI(){return PI=(0,Ne.Z)(function*(n,e){const t=mt(n);if(!t.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const r=yield HO(t.localStore,e);t.currentUser=e,(i=t).Fc.forEach(m=>{m.forEach(y=>{y.reject(new We(ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Fc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $2(t,r.qs)}var i}),PI.apply(this,arguments)}function qU(n,e){const t=mt(n),r=t.Oc.get(e);if(r&&r.Sc)return _r().add(r.key);{let i=_r();const u=t.Nc.get(e);if(!u)return i;for(const m of u){const y=t.Cc.get(m);i=i.unionWith(y.view.yc)}return i}}function $U(n,e){return LI.apply(this,arguments)}function LI(){return LI=(0,Ne.Z)(function*(n,e){const t=mt(n),r=yield sy(t.localStore,e.query,!0),i=e.view.vc(r);return t.isPrimaryClient&&RI(t,e.targetId,i.Pc),i}),LI.apply(this,arguments)}function WU(n){return FI.apply(this,arguments)}function FI(){return FI=(0,Ne.Z)(function*(n){const e=mt(n);return GO(e.localStore).then(t=>$2(e,t))}),FI.apply(this,arguments)}function ZU(n,e,t,r){return zI.apply(this,arguments)}function zI(){return zI=(0,Ne.Z)(function*(n,e,t,r){const i=mt(n),u=yield function(m,y){const w=mt(m),S=mt(w.gs);return w.persistence.runTransaction("Lookup mutation documents","readonly",k=>S.Ge(k,y).next(P=>P?w.Us.Es(k,P):Le.resolve(null)))}(i.localStore,e);var y;null!==u?("pending"===t?yield zp(i.remoteStore):"acknowledged"===t||"rejected"===t?(kI(i,e,r||null),AI(i,e),y=e,mt(mt(i.localStore).gs).Qe(y)):Ht(),yield $2(i,u)):st("SyncEngine","Cannot apply mutation batch with id: "+e)}),zI.apply(this,arguments)}function VI(){return VI=(0,Ne.Z)(function*(n,e){const t=mt(n);if(jI(t),GI(t),!0===e&&!0!==t.Lc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield hP(t,r.toArray());t.Lc=!0,yield dI(t.remoteStore,!0);for(const u of i)cy(t.remoteStore,u)}else if(!1===e&&!1!==t.Lc){const r=[];let i=Promise.resolve();t.Nc.forEach((u,m)=>{t.sharedClientState.isLocalQueryTarget(m)?r.push(m):i=i.then(()=>(jp(t,m),Lp(t.localStore,m,!0))),Im(t.remoteStore,m)}),yield i,yield hP(t,r),function(u){const m=mt(u);m.Oc.forEach((y,w)=>{Im(m.remoteStore,w)}),m.Mc.ii(),m.Oc=new Map,m.kc=new fs(St.comparator)}(t),t.Lc=!1,yield dI(t.remoteStore,!1)}}),VI.apply(this,arguments)}function hP(n,e,t){return HI.apply(this,arguments)}function HI(){return HI=(0,Ne.Z)(function*(n,e,t){const r=mt(n),i=[],u=[];for(const m of e){let y;const w=r.Nc.get(m);if(w&&0!==w.length){y=yield Pp(r.localStore,ou(w[0]));for(const S of w){const k=r.Cc.get(S),P=yield $U(r,k);P.snapshot&&u.push(P.snapshot)}}else{const S=yield jO(r.localStore,m);y=yield Pp(r.localStore,S),yield CI(r,fP(S),m,!1)}i.push(y)}return r.Dc.To(u),i}),HI.apply(this,arguments)}function fP(n){return DN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YU(n){const e=mt(n);return mt(mt(e.localStore).persistence).ds()}function QU(n,e,t,r){return BI.apply(this,arguments)}function BI(){return BI=(0,Ne.Z)(function*(n,e,t,r){const i=mt(n);if(i.Lc)st("SyncEngine","Ignoring unexpected query state notification.");else if(i.Nc.has(e))switch(t){case"current":case"not-current":{const u=yield GO(i.localStore),m=pm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield $2(i,u,m);break}case"rejected":yield Lp(i.localStore,e,!0),jp(i,e,r);break;default:Ht()}}),BI.apply(this,arguments)}function JU(n,e,t){return UI.apply(this,arguments)}function UI(){return UI=(0,Ne.Z)(function*(n,e,t){const r=jI(n);if(r.Lc){for(const i of e){if(r.Nc.has(i)){st("SyncEngine","Adding an already active target "+i);continue}const u=yield jO(r.localStore,i),m=yield Pp(r.localStore,u);yield CI(r,fP(u),m.targetId,!1),cy(r.remoteStore,m)}for(const i of t)r.Nc.has(i)&&(yield Lp(r.localStore,i,!1).then(()=>{Im(r.remoteStore,i),jp(r,i)}).catch(t4))}}),UI.apply(this,arguments)}function jI(n){const e=mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VU.bind(null,e),e.Dc.To=DU.bind(null,e.eventManager),e.Dc.qc=AU.bind(null,e.eventManager),e}function GI(n){const e=mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BU.bind(null,e),e}class pP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.O=Sm(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return VO(this.persistence,new zO,e.initialUser,this.O)}jc(e){return new aU(GT.bi,this.O)}Gc(e){return new WO}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mP extends pP{constructor(e,t,r){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e),yield function(n){return HT.apply(this,arguments)}(r.localStore),yield r.zc.initialize(r,e),yield GI(r.zc.syncEngine),yield zp(r.zc.remoteStore),yield r.persistence.Hn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Wc(e){return VO(this.persistence,new zO,e.initialUser,this.O)}Qc(e){return new HB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=LT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?yc.withCacheSize(this.cacheSizeBytes):yc.DEFAULT;return new PT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,KO(),ly(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new WO}}class ej extends mP{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e);const i=r.zc.syncEngine;r.sharedClientState instanceof ZT&&(r.sharedClientState.syncEngine={hr:ZU.bind(null,i),lr:QU.bind(null,i),dr:JU.bind(null,i),ds:YU.bind(null,i),ar:WU.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Hn(function(){var u=(0,Ne.Z)(function*(m){yield function(n,e){return VI.apply(this,arguments)}(r.zc.syncEngine,m),r.gcScheduler&&(m&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):m||r.gcScheduler.stop())});return function(m){return u.apply(this,arguments)}}())})()}Gc(e){const t=KO();if(!ZT.Vt(t))throw new We(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=LT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ZT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class qI{initialize(e,t){var r=this;return(0,Ne.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>uP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=GU.bind(null,r.syncEngine),yield dI(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new MU}createDatastore(e){const t=Sm(e.databaseInfo.databaseId),r=new hU(e.databaseInfo);return new mU(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=y=>uP(this.syncEngine,y,0),m=ZO.Vt()?new ZO:new cU,new vU(t,r,i,u,m);var t,r,i,u,m}createSyncEngine(e,t){return function(r,i,u,m,y,w,S){const k=new PU(r,i,u,m,y,w);return S&&(k.Lc=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const r=mt(t);st("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield Fp(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gP(n,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class dy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tj{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new xo,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(r=>{r&&r.ac()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.tu();if(null===t)return null;const r=e.Xc.decode(t),i=Number(r);isNaN(i)&&e.eu(`length string (${r}) is not valid number`);const u=yield e.nu(i);return new kU(JSON.parse(u),t.length+i)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,Ne.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}nu(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const r=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new We(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ne.Z)(function*(u,m){const y=mt(u),w=_m(y.O)+"/documents",S={documents:m.map($=>vm(y.O,$))},k=yield y.Lr("BatchGetDocuments",w,S),P=new Map;k.forEach($=>{const K=function(n,e){return"found"in e?function(t,r){sn(!!r.found);const i=zd(t,r.found.name),u=Io(r.found.updateTime),m=new qa({mapValue:{fields:r.found.fields}});return Ei.newFoundDocument(i,u,m)}(n,e):"missing"in e?function(t,r){sn(!!r.missing),sn(!!r.readTime);const i=zd(t,r.missing),u=Io(r.readTime);return Ei.newNoDocument(i,u)}(n,e):Ht()}(y.O,$);P.set(K.key.toString(),K)});const j=[];return m.forEach($=>{const K=P.get($.toString());sn(!!K),j.push(K)}),j}),function(u,m){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=St.fromPath(i);e.mutations.push(new mT(u,e.precondition(u)))}),yield(r=(0,Ne.Z)(function*(i,u){const m=mt(i),y=_m(m.O)+"/documents",w={writes:u.map(S=>ym(m.O,S))};yield m.Mr("Commit",y,w)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ht();t=Xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new We(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Rs.updateTime(t):Rs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xt.min()))throw new We(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rs.updateTime(t)}return Rs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rj{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new KT(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,Ne.Z)(function*(){const t=new nj(e.datastore),r=e.cu(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.uu(u)}))}).catch(i=>{e.uu(i)})}))}cu(e){try{const t=this.updateFunction(e);return!G3(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!$N(t)}return!1}}class ij{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ua.UNAUTHENTICATED,this.clientId=mN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var m=(0,Ne.Z)(function*(y){st("FirestoreClient","Received user=",y.uid),yield u.authCredentialListener(y),u.user=y});return function(y){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(r,m=>(st("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Hp(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function vP(n,e){return $I.apply(this,arguments)}function $I(){return $I=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ne.Z)(function*(u){r.isEqual(u)||(yield HO(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),$I.apply(this,arguments)}function _P(n,e){return WI.apply(this,arguments)}function WI(){return WI=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZI(n);st("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>nP(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>nP(e.remoteStore,u)),n.onlineComponents=e}),WI.apply(this,arguments)}function ZI(n){return KI.apply(this,arguments)}function KI(){return KI=(0,Ne.Z)(function*(n){return n.offlineComponents||(st("FirestoreClient","Using default OfflineComponentProvider"),yield vP(n,new pP)),n.offlineComponents}),KI.apply(this,arguments)}function hy(n){return YI.apply(this,arguments)}function YI(){return YI=(0,Ne.Z)(function*(n){return n.onlineComponents||(st("FirestoreClient","Using default OnlineComponentProvider"),yield _P(n,new qI)),n.onlineComponents}),YI.apply(this,arguments)}function yP(n){return ZI(n).then(e=>e.persistence)}function QI(n){return ZI(n).then(e=>e.localStore)}function bP(n){return hy(n).then(e=>e.remoteStore)}function JI(n){return hy(n).then(e=>e.syncEngine)}function Gp(n){return XI.apply(this,arguments)}function XI(){return XI=(0,Ne.Z)(function*(n){const e=yield hy(n),t=e.eventManager;return t.onListen=LU.bind(null,e.syncEngine),t.onUnlisten=FU.bind(null,e.syncEngine),t}),XI.apply(this,arguments)}function CP(n,e,t={}){const r=new xo;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,u,m,y,w){const S=new dy({next:P=>{u.enqueueAndForget(()=>gI(i,k));const j=P.docs.has(m);!j&&P.fromCache?w.reject(new We(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&P.fromCache&&y&&"server"===y.source?w.reject(new We(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(P)},error:P=>w.reject(P)}),k=new yI(wp(m.path),S,{includeMetadataChanges:!0,uc:!0});return pI(i,k)}(yield Gp(n),n.asyncQueue,e,t,r)})),r.promise}function wP(n,e,t={}){const r=new xo;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,u,m,y,w){const S=new dy({next:P=>{u.enqueueAndForget(()=>gI(i,k)),P.fromCache&&"server"===y.source?w.reject(new We(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),k=new yI(m,S,{includeMetadataChanges:!0,uc:!0});return pI(i,k)}(yield Gp(n),n.asyncQueue,e,t,r)})),r.promise}const EP=new Map;function eM(n,e,t){if(!t)throw new We(ke.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xP(n,e,t,r){if(!0===e&&!0===r)throw new We(ke.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SP(n){if(!St.isDocumentKey(n))throw new We(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TP(n){if(St.isDocumentKey(n))throw new We(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ht()}function zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new We(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fy(n);throw new We(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function IP(n,e){if(e<=0)throw new We(ke.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class MP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new We(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new We(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,xP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MP({}),this._settingsFrozen=!1,e instanceof j3?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new We(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new j3(i.options.projectId)}(e))}get app(){if(!this._app)throw new We(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new We(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new DH;switch(t.type){case"gapi":const r=t.client;return sn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new NH(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new We(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=EP.get(e);t&&(st("ComponentProvider","Removing Datastore"),EP.delete(e),t.terminate())}(this),Promise.resolve()}}class ei{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class Wa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class Bd extends Wa{constructor(e,t,r){super(e,t,wp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new St(e))}withConverter(e){return new Bd(this.firestore,e,this._path)}}function DP(n,e,...t){if(n=(0,jt.m9)(n),eM("collection","path",e),n instanceof Mm){const r=sr.fromString(e,...t);return TP(r),new Bd(n,null,r)}{if(!(n instanceof ei||n instanceof Bd))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sr.fromString(e,...t));return TP(r),new Bd(n.firestore,null,r)}}function py(n,e,...t){if(n=(0,jt.m9)(n),1===arguments.length&&(e=mN.R()),eM("doc","path",e),n instanceof Mm){const r=sr.fromString(e,...t);return SP(r),new ei(n,null,new St(r))}{if(!(n instanceof ei||n instanceof Bd))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sr.fromString(e,...t));return SP(r),new ei(n.firestore,n instanceof Bd?n.converter:null,new St(r))}}function AP(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),(n instanceof ei||n instanceof Bd)&&(e instanceof ei||e instanceof Bd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function kP(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),n instanceof Wa&&e instanceof Wa&&n.firestore===e.firestore&&um(n._query,e._query)&&n.converter===e.converter}class mj{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new KT(this,"async_queue_retry"),this.yu=()=>{const t=ly();t&&st("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=ly();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=ly();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new xo;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!Y3(t))throw t;st("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,ks("INTERNAL UNHANDLED ERROR: ",function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const i=fI.createAndSchedule(this,e,t,r,u=>this.Tu(u));return this.du.push(i),i}pu(){this._u&&Ht()}verifyOperationInProgress(){}Au(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function tM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class gj{constructor(){this._progressObserver={},this._taskCompletionResolver=new xo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hi extends Mm{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new mj,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||RP(this),this._firestoreClient.terminate()}}function Os(n){return n._firestoreClient||RP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RP(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new VH(n._databaseId,u,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var u,y;n._firestoreClient=new ij(n._authCredentials,n._appCheckCredentials,n._queue,r)}function NP(n,e,t){const r=new xo;return n.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield vP(n,t),yield _P(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===ke.FAILED_PRECONDITION||u.code===ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function OP(n){if(n._initialized||n._terminated)throw new We(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class W2{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new We(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new To(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ud{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ud(to.fromBase64String(e))}catch(t){throw new We(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ud(to.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class n4{constructor(e){this._methodName=e}}class my{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new We(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new We(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}}const Tj=/^__.*__$/;class Ij{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Z3(e,this.data,this.fieldMask,t,this.fieldTransforms):new hm(e,this.data,t,this.fieldTransforms)}}class PP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Z3(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class gy{constructor(e,t,r,i,u,m){this.settings=e,this.databaseId=t,this.O=r,this.ignoreUndefinedProperties=i,void 0===u&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new gy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Cu:!1});return i.Nu(e),i}xu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Cu:!1});return i.vu(),i}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return yy(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(LP(this.Vu)&&Tj.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class Mj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=r||Sm(e)}Fu(e,t,r,i=!1){return new gy({Vu:e,methodName:t,$u:r,path:To.emptyPath(),Cu:!1,Mu:i},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function r4(n){const e=n._freezeSettings(),t=Sm(n._databaseId);return new Mj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vy(n,e,t,r,i,u={}){const m=n.Fu(u.merge||u.mergeFields?2:0,e,t,i);sM("Data must be an object, but it was:",m,r);const y=VP(r,m);let w,S;if(u.merge)w=new vp(m.fieldMask),S=m.fieldTransforms;else if(u.mergeFields){const k=[];for(const P of u.mergeFields){const j=oM(e,P,t);if(!m.contains(j))throw new We(ke.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);BP(k,j)||k.push(j)}w=new vp(k),S=m.fieldTransforms.filter(P=>w.covers(P.field))}else w=null,S=m.fieldTransforms;return new Ij(new qa(y),w,S)}class Dm extends n4{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dm}}function FP(n,e,t){return new gy({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class nM extends n4{_toFieldTransform(e){return new dm(e.path,new xp)}isEqual(e){return e instanceof nM}}class Dj extends n4{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=FP(this,e,!0),r=this.Bu.map(u=>i4(u,t)),i=new $3(r);return new dm(e.path,i)}isEqual(e){return this===e}}class Aj extends n4{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=FP(this,e,!0),r=this.Bu.map(u=>i4(u,t)),i=new W3(r);return new dm(e.path,i)}isEqual(e){return this===e}}class kj extends n4{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Sp(e.O,PN(e.O,this.Lu));return new dm(e.path,t)}isEqual(e){return this===e}}function rM(n,e,t,r){const i=n.Fu(1,e,t);sM("Data must be an object, but it was:",i,r);const u=[],m=qa.empty();B3(r,(w,S)=>{const k=_y(e,w,t);S=(0,jt.m9)(S);const P=i.xu(k);if(S instanceof Dm)u.push(k);else{const j=i4(S,P);null!=j&&(u.push(k),m.set(k,j))}});const y=new vp(u);return new PP(m,y,i.fieldTransforms)}function iM(n,e,t,r,i,u){const m=n.Fu(1,e,t),y=[oM(e,r,t)],w=[i];if(u.length%2!=0)throw new We(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)y.push(oM(e,u[j])),w.push(u[j+1]);const S=[],k=qa.empty();for(let j=y.length-1;j>=0;--j)if(!BP(S,y[j])){const $=y[j];let K=w[j];K=(0,jt.m9)(K);const ve=m.xu($);if(K instanceof Dm)S.push($);else{const Ie=i4(K,ve);null!=Ie&&(S.push($),k.set($,Ie))}}const P=new vp(S);return new PP(k,P,m.fieldTransforms)}function zP(n,e,t,r=!1){return i4(t,n.Fu(r?4:3,e))}function i4(n,e){if(HP(n=(0,jt.m9)(n)))return sM("Unsupported field value:",e,n),VP(n,e);if(n instanceof n4)return function(t,r){if(!LP(r.Vu))throw r.Ou(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const m of t){let y=i4(m,r.ku(u));null==y&&(y={nullValue:"NULL_VALUE"}),i.push(y),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return PN(r.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=So.fromDate(t);return{timestampValue:gm(r.O,i)}}if(t instanceof So){const i=new So(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gm(r.O,i)}}if(t instanceof my)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ud)return{bytesValue:eO(r.O,t._byteString)};if(t instanceof ei){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.Ou(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ou(`Unsupported field value: ${fy(t)}`)}(n,e)}function VP(n,e){const t={};return _N(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):B3(n,(r,i)=>{const u=i4(i,e.Du(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function HP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof So||n instanceof my||n instanceof Ud||n instanceof ei||n instanceof n4)}function sM(n,e,t){if(!HP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fy(t);throw e.Ou("an object"===r?n+" a custom object":n+" "+r)}var r}function oM(n,e,t){if((e=(0,jt.m9)(e))instanceof W2)return e._internalPath;if("string"==typeof e)return _y(n,e);throw yy("Field path arguments must be of type string or ",n,!1,void 0,t)}const Rj=new RegExp("[~\\*/\\[\\]]");function _y(n,e,t){if(e.search(Rj)>=0)throw yy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new W2(...e.split("."))._internalPath}catch(r){throw yy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yy(n,e,t,r,i){const u=r&&!r.isEmpty(),m=void 0!==i;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let w="";return(u||m)&&(w+=" (found",u&&(w+=` in field ${r}`),m&&(w+=` in document ${i}`),w+=")"),new We(ke.INVALID_ARGUMENT,y+n+w)}function BP(n,e){return n.some(t=>t.isEqual(e))}class Am{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(by("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Nj extends Am{data(){return super.data()}}function by(n,e){return"string"==typeof e?_y(n,e):e instanceof W2?e._internalPath:e._delegate._internalPath}class s4{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z2 extends Am{constructor(e,t,r,i,u,m){super(e,t,r,i,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(by("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class km extends Z2{data(e={}){return super.data(e)}}class af{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new s4(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new km(this._firestore,this._userDataWriter,r.key,r,new s4(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new We(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(m=>({type:"added",doc:new km(r._firestore,r._userDataWriter,m.doc.key,m.doc,new s4(r._snapshot.mutatedKeys.has(m.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(m=>i||3!==m.type).map(m=>{const y=new km(r._firestore,r._userDataWriter,m.doc.key,m.doc,new s4(r._snapshot.mutatedKeys.has(m.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,S=-1;return 0!==m.type&&(w=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),1!==m.type&&(u=u.add(m.doc),S=u.indexOf(m.doc.key)),{type:Oj(m.type),doc:y,oldIndex:w,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Oj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function UP(n,e){return n instanceof Z2&&e instanceof Z2?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof af&&e instanceof af&&n._firestore===e._firestore&&kP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function jP(n){if(j_(n)&&0===n.explicitOrderBy.length)throw new We(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rm{}function lf(n,...e){for(const t of e)n=t._apply(n);return n}class Pj extends Rm{constructor(e,t,r){super(),this.Uu=e,this.qu=t,this.Ku=r,this.type="where"}_apply(e){const t=r4(e.firestore),r=function(i,u,m,y,w,S,k){let P;if(w.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new We(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){KP(k,S);const $=[];for(const K of k)$.push(ZP(y,i,K));P={arrayValue:{values:$}}}else P=ZP(y,i,k)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||KP(k,S),P=zP(m,"where",k,"in"===S||"not-in"===S);const j=Tl.create(w,S,P);return function($,K){if(K.S()){const Ie=uT($);if(null!==Ie&&!Ie.isEqual(K.field))throw new We(ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ie.toString()}' and '${K.field.toString()}'`);const Ke=cT($);null!==Ke&&YP(0,K.field,Ke)}const ve=function(Ie,Ke){for(const ft of Ie.filters)if(Ke.indexOf(ft.op)>=0)return ft.op;return null}($,function(Ie){switch(Ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(K.op));if(null!==ve)throw new We(ke.INVALID_ARGUMENT,ve===K.op?`Invalid query. You cannot use more than one '${K.op.toString()}' filter.`:`Invalid query. You cannot use '${K.op.toString()}' filters with '${ve.toString()}' filters.`)}(i,j),j}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Wa(e.firestore,e.converter,function(i,u){const m=i.filters.concat([u]);return new G2(i.path,i.collectionGroup,i.explicitOrderBy.slice(),m,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Fj extends Rm{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Cp(i,u);return function(y,w){if(null===cT(y)){const S=uT(y);null!==S&&YP(0,S,w.field)}}(r,m),m}(e._query,this.Uu,this.Gu);return new Wa(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new G2(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class GP extends Rm{constructor(e,t,r){super(),this.type=e,this.ju=t,this.Qu=r}_apply(e){return new Wa(e.firestore,e.converter,AN(e._query,this.ju,this.Qu))}}class qP extends Rm{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=WP(e,this.type,this.Wu,this.zu);return new Wa(e.firestore,e.converter,(i=t,new G2((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class $P extends Rm{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=WP(e,this.type,this.Wu,this.zu);return new Wa(e.firestore,e.converter,(i=t,new G2((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function WP(n,e,t,r){if(t[0]=(0,jt.m9)(t[0]),t[0]instanceof Am)return function(i,u,m,y,w){if(!y)throw new We(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const S=[];for(const k of Ep(i))if(k.field.isKeyField())S.push(P_(u,y.key));else{const P=y.data.field(k.field);if(sT(P))throw new We(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+k.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const j=k.field.canonicalString();throw new We(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}S.push(P)}return new bp(S,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=r4(n.firestore);return function(u,m,y,w,S,k){const P=u.explicitOrderBy;if(S.length>P.length)throw new We(ke.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let $=0;$<S.length;$++){const K=S[$];if(P[$].field.isKeyField()){if("string"!=typeof K)throw new We(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof K}`);if(!dT(u)&&-1!==K.indexOf("/"))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${K}' contains a slash.`);const ve=u.path.child(sr.fromString(K));if(!St.isDocumentKey(ve))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Ie=new St(ve);j.push(P_(m,Ie))}else{const ve=zP(y,w,K);j.push(ve)}}return new bp(j,k)}(n._query,n.firestore._databaseId,i,e,t,r)}}function ZP(n,e,t){if("string"==typeof(t=(0,jt.m9)(t))){if(""===t)throw new We(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dT(e)&&-1!==t.indexOf("/"))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(sr.fromString(t));if(!St.isDocumentKey(r))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P_(n,new St(r))}if(t instanceof ei)return P_(n,t._key);throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fy(t)}.`)}function KP(n,e){if(!Array.isArray(n)||0===n.length)throw new We(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new We(ke.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function YP(n,e,t){if(!t.isEqual(e))throw new We(ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class aM{convertValue(e,t="none"){switch(q3(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ji(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(U3(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ht()}}convertObject(e,t){const r={};return B3(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new my(ji(e.latitude),ji(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=yN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(im(e));default:return null}}convertTimestamp(e){const t=Qh(e);return new So(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sr.fromString(e);sn(uO(r));const i=new j3(r.get(1),r.get(3)),u=new St(r.popFirst(5));return i.isEqual(t)||ks(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Cy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class qj extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}class QP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=r4(e)}set(e,t,r){this._verifyNotCommitted();const i=cf(e,this._firestore),u=Cy(i.converter,t,r),m=vy(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(m.toMutation(i._key,Rs.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=cf(e,this._firestore);let m;return m="string"==typeof(t=(0,jt.m9)(t))||t instanceof W2?iM(this._dataReader,"WriteBatch.update",u._key,t,r,i):rM(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(m.toMutation(u._key,Rs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=cf(e,this._firestore);return this._mutations=this._mutations.concat(new fm(t._key,Rs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cf(n,e){if((n=(0,jt.m9)(n)).firestore!==e)throw new We(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class o4 extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}function JP(n,e,t){n=zn(n,ei);const r=zn(n.firestore,hi),i=Cy(n.converter,e,t);return qp(r,[vy(r4(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Rs.none())])}function XP(n,e,t,...r){n=zn(n,ei);const i=zn(n.firestore,hi),u=r4(i);let m;return m="string"==typeof(e=(0,jt.m9)(e))||e instanceof W2?iM(u,"updateDoc",n._key,e,t,r):rM(u,"updateDoc",n._key,e),qp(i,[m.toMutation(n._key,Rs.exists(!0))])}function eL(n,...e){var t,r,i;n=(0,jt.m9)(n);let u={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||tM(e[m])||(u=e[m],m++);const y={includeMetadataChanges:u.includeMetadataChanges};if(tM(e[m])){const P=e[m];e[m]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[m+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[m+2]=null===(i=P.complete)||void 0===i?void 0:i.bind(P)}let w,S,k;if(n instanceof ei)S=zn(n.firestore,hi),k=wp(n._key.path),w={next:P=>{e[m]&&e[m](lM(S,n,P))},error:e[m+1],complete:e[m+2]};else{const P=zn(n,Wa);S=zn(P.firestore,hi),k=P._query;const j=new o4(S);w={next:$=>{e[m]&&e[m](new af(S,j,P,$))},error:e[m+1],complete:e[m+2]},jP(n._query)}return function(P,j,$,K){const ve=new dy(K),Ie=new yI(j,ve,$);return P.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return pI(yield Gp(P),Ie)})),()=>{ve.Jc(),P.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return gI(yield Gp(P),Ie)}))}}(Os(S),k,y,w)}function qp(n,e){return function(t,r){const i=new xo;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(n,e,t){return xI.apply(this,arguments)}(yield JI(t),r,i)})),i.promise}(Os(n),e)}function lM(n,e,t){const r=t.docs.get(e._key),i=new o4(n);return new Z2(n,i,e._key,r,new s4(t.hasPendingWrites,t.fromCache),e.converter)}class tG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=r4(e)}get(e){const t=cf(e,this._firestore),r=new qj(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Ht();const u=i[0];if(u.isFoundDocument())return new Am(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Am(this._firestore,r,t._key,null,t.converter);throw Ht()})}set(e,t,r){const i=cf(e,this._firestore),u=Cy(i.converter,t,r),m=vy(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,m),this}update(e,t,r,...i){const u=cf(e,this._firestore);let m;return m="string"==typeof(t=(0,jt.m9)(t))||t instanceof W2?iM(this._dataReader,"Transaction.update",u._key,t,r,i):rM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,m),this}delete(e){const t=cf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cf(e,this._firestore),r=new o4(this._firestore);return super.get(e).then(i=>new Z2(this._firestore,r,t._key,i._document,new s4(!1,!1),t.converter))}}function cM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new We("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function nL(){if("undefined"==typeof Uint8Array)throw new We("unimplemented","Uint8Arrays are not available in this environment.")}function rL(){if("undefined"==typeof atob)throw new We("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){mp=Z1.SDK_VERSION,(0,Z1._registerComponent)(new za.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new hi(i,new kH(t.getProvider("auth-internal")),new OH(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Z1.registerVersion)(hN,"3.4.5",n),(0,Z1.registerVersion)(hN,"3.4.5","esm2017")}();class Nm{constructor(e){this._delegate=e}static fromBase64String(e){return rL(),new Nm(Ud.fromBase64String(e))}static fromUint8Array(e){return nL(),new Nm(Ud.fromUint8Array(e))}toBase64(){return rL(),this._delegate.toBase64()}toUint8Array(){return nL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uM(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class dG{enableIndexedDbPersistence(e,t){return function(n,e){OP(n=zn(n,hi));const t=Os(n),r=n._freezeSettings(),i=new qI;return NP(t,i,new mP(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){OP(n=zn(n,hi));const e=Os(n),t=n._freezeSettings(),r=new qI;return NP(e,r,new ej(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new We(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(r){if(!Qu.Vt())return Promise.resolve();const i=r+"main";yield Qu.delete(i)}),function(r){return t.apply(this,arguments)})(LT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class iL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof j3||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&nm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var i;const u=(n=zn(n,Mm))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&nm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let m,y;if("string"==typeof r.mockUserToken)m=r.mockUserToken,y=ua.MOCK_USER;else{m=(0,jt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new We(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ua(w)}n._authCredentials=new AH(new fN(m,y))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield yP(n),t=yield bP(n);return e.setNetworkEnabled(!0),function(r){const i=mt(r);return i.Ko.delete(0),Tm(i)}(t)}))}(Os(n=zn(n,hi)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield yP(n),t=yield bP(n);return e.setNetworkEnabled(!1),(r=(0,Ne.Z)(function*(i){const u=mt(i);u.Ko.add(0),yield Fp(u),u.Qo.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Os(n=zn(n,hi)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,xP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new xo;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(n,e){return DI.apply(this,arguments)}(yield JI(e),t)})),t.promise}(Os(n=zn(n,hi)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new dy(e);return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield Gp(n),i=t,mt(r).Zo.add(i),void i.next();var r,i})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield Gp(n),i=t,void mt(r).Zo.delete(i);var r,i}))}}(Os(n=zn(n,hi)),tM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new We("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new $p(this,DP(this._delegate,e))}catch(t){throw Il(t,"collection()","Firestore.collection()")}}doc(e){try{return new uu(this,py(this._delegate,e))}catch(t){throw Il(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ml(this,function(n,e){if(n=zn(n,Mm),eM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new We(ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wa(n,null,(t=e,new G2(sr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Il(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new xo;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const r=yield(i=n,hy(i).then(u=>u.datastore));var i;new rj(n.asyncQueue,r,e,t).run()})),t.promise}(Os(n=zn(n,hi)),t=>e(new tG(n,t)))}(this._delegate,t=>e(new sL(this,t)))}batch(){return Os(this._delegate),new oL(new QP(this._delegate,e=>qp(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Os(n=zn(n,hi)),r=new gj;return function(n,e,t,r){const i=function(u,m){let y;return y="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,S){if(w instanceof Uint8Array)return gP(w,S);if(w instanceof ArrayBuffer)return gP(new Uint8Array(w),S);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new tj(w,m);var w}(t,Sm(e));n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function(n,e,t){const r=mt(n);var i;(i=(0,Ne.Z)(function*(u,m,y){try{const w=yield m.getMetadata();if(yield function(j,$){const K=mt(j),ve=Io($.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",Ie=>K.Kn.getBundleMetadata(Ie,$.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(ve)>=0)}(u.localStore,w))return yield m.close(),void y._completeWith((j=w,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));y._updateProgress(sP(w));const S=new RU(w,u.localStore,m.O);let k=yield m.Kc();for(;k;){const j=yield S.lc(k);j&&y._updateProgress(j),k=yield m.Kc()}const P=yield S.complete();yield $2(u,P.ws,void 0),yield function(j,$){const K=mt(j);return K.persistence.runTransaction("Save bundle","readwrite",ve=>K.Kn.saveBundleMetadata(ve,$))}(u.localStore,w),y._completeWith(P.progress)}catch(w){nm("SyncEngine",`Loading bundle failed with ${w}`),y._failWith(w)}var j}),function(u,m,y){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield JI(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,r){const i=mt(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Kn.getNamedQuery(u,r))}(yield QI(n),e)}))}(Os(n=zn(n,hi)),e).then(t=>t?new Wa(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ml(this,t):null)}}class wy extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nm(new Ud(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return uu.forKey(t,this.firestore,null)}}class sL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}get(e){const t=l4(e);return this._delegate.get(t).then(r=>new Om(this._firestore,new Z2(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=l4(e);return r?(cM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=l4(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=l4(e);return this._delegate.delete(t),this}}class oL{constructor(e){this._delegate=e}set(e,t,r){const i=l4(e);return r?(cM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=l4(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=l4(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class a4{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new km(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pm(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=a4.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new a4(e,new wy(e),t),i.set(t,u)),u}}a4.INSTANCES=new WeakMap;class uu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}static forPath(e,t,r){if(e.length%2!=0)throw new We("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new uu(t,new ei(t._delegate,r,new St(e)))}static forKey(e,t,r){return new uu(t,new ei(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new $p(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new $p(this.firestore,DP(this._delegate,e))}catch(t){throw Il(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,jt.m9)(e))instanceof ei&&AP(this._delegate,e)}set(e,t){t=cM("DocumentReference.set",t);try{return t?JP(this._delegate,e,t):JP(this._delegate,e)}catch(r){throw Il(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?XP(this._delegate,e):XP(this._delegate,e,t,...r)}catch(i){throw Il(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return qp(zn(n.firestore,hi),[new fm(n._key,Rs.none())])}(this._delegate)}onSnapshot(...e){const t=aL(e),r=lL(e,i=>new Om(this.firestore,new Z2(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return eL(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=zn(n,ei);const e=zn(n.firestore,hi),t=Os(e),r=new o4(e);return function(n,e){const t=new xo;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,u,m){try{const y=yield function(w,S){const k=mt(w);return k.persistence.runTransaction("read document","readonly",P=>k.Us.ys(P,S))}(i,u);y.isFoundDocument()?m.resolve(y):y.isNoDocument()?m.resolve(null):m.reject(new We(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const w=Hp(y,`Failed to get document '${u} from cache`);m.reject(w)}}),function(i,u,m){return r.apply(this,arguments)})(yield QI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Z2(e,r,n._key,i,new s4(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=zn(n,ei);const e=zn(n.firestore,hi);return CP(Os(e),n._key,{source:"server"}).then(t=>lM(e,n,t))}(this._delegate):function(n){n=zn(n,ei);const e=zn(n.firestore,hi);return CP(Os(e),n._key).then(t=>lM(e,n,t))}(this._delegate),t.then(r=>new Om(this.firestore,new Z2(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new uu(this.firestore,this._delegate.withConverter(e?a4.getInstance(this.firestore,e):null))}}function Il(n,e,t){return n.message=n.message.replace(e,t),n}function aL(n){for(const e of n)if("object"==typeof e&&!uM(e))return e;return{}}function lL(n,e){var t,r;let i;return i=uM(n[0])?n[0]:uM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Om{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new uu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return UP(this._delegate,e._delegate)}}class Pm extends Om{data(e){const t=this._delegate.data(e);return function(n,e){n||Ht()}(void 0!==t),t}}class Ml{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}where(e,t,r){try{return new Ml(this.firestore,lf(this._delegate,function(n,e,t){const r=e,i=by("where",n);return new Pj(i,r,t)}(e,t,r)))}catch(i){throw Il(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ml(this.firestore,lf(this._delegate,function(n,e="asc"){const t=e,r=by("orderBy",n);return new Fj(r,t)}(e,t)))}catch(r){throw Il(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ml(this.firestore,lf(this._delegate,function(n){return IP("limit",n),new GP("limit",n,"F")}(e)))}catch(t){throw Il(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ml(this.firestore,lf(this._delegate,function(n){return IP("limitToLast",n),new GP("limitToLast",n,"L")}(e)))}catch(t){throw Il(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ml(this.firestore,lf(this._delegate,function(...n){return new qP("startAt",n,!0)}(...e)))}catch(t){throw Il(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ml(this.firestore,lf(this._delegate,function(...n){return new qP("startAfter",n,!1)}(...e)))}catch(t){throw Il(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ml(this.firestore,lf(this._delegate,function(...n){return new $P("endBefore",n,!1)}(...e)))}catch(t){throw Il(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ml(this.firestore,lf(this._delegate,function(...n){return new $P("endAt",n,!0)}(...e)))}catch(t){throw Il(t,"endAt()","Query.endAt()")}}isEqual(e){return kP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=zn(n,Wa);const e=zn(n.firestore,hi),t=Os(e),r=new o4(e);return function(n,e){const t=new xo;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,u,m){try{const y=yield sy(i,u,!0),w=new lP(u,y.Ks),S=w.Ic(y.documents),k=w.applyChanges(S,!1);m.resolve(k.snapshot)}catch(y){const w=Hp(y,`Failed to execute query '${u} against cache`);m.reject(w)}}),function(i,u,m){return r.apply(this,arguments)})(yield QI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new af(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=zn(n,Wa);const e=zn(n.firestore,hi),t=Os(e),r=new o4(e);return wP(t,n._query,{source:"server"}).then(i=>new af(e,r,n,i))}(this._delegate):function(n){n=zn(n,Wa);const e=zn(n.firestore,hi),t=Os(e),r=new o4(e);return jP(n._query),wP(t,n._query).then(i=>new af(e,r,n,i))}(this._delegate),t.then(r=>new dM(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=aL(e),r=lL(e,i=>new dM(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return eL(this._delegate,t,r)}withConverter(e){return new Ml(this.firestore,this._delegate.withConverter(e?a4.getInstance(this.firestore,e):null))}}class fG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Pm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ml(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new fG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Pm(this._firestore,r))})}isEqual(e){return UP(this._delegate,e._delegate)}}class $p extends Ml{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new uu(this.firestore,e):null}doc(e){try{return new uu(this.firestore,void 0===e?py(this._delegate):py(this._delegate,e))}catch(t){throw Il(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=zn(n.firestore,hi),r=py(n),i=Cy(n.converter,e);return qp(t,[vy(r4(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Rs.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new uu(this.firestore,t))}isEqual(e){return AP(this._delegate,e._delegate)}withConverter(e){return new $p(this.firestore,this._delegate.withConverter(e?a4.getInstance(this.firestore,e):null))}}function l4(n){return zn(n,ei)}class hM{constructor(...e){this._delegate=new W2(...e)}static documentId(){return new hM(To.keyField().canonicalString())}isEqual(e){return(e=(0,jt.m9)(e))instanceof W2&&this._delegate._internalPath.isEqual(e._internalPath)}}class c4{constructor(e){this._delegate=e}static serverTimestamp(){const e=new nM("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new c4(e)}static delete(){const e=new Dm("deleteField");return e._methodName="FieldValue.delete",new c4(e)}static arrayUnion(...e){const t=function(...n){return new Dj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new c4(t)}static arrayRemove(...e){const t=function(...n){return new Aj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new c4(t)}static increment(e){const t=function(n){return new kj("increment",n)}(e);return t._methodName="FieldValue.increment",new c4(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pG={Firestore:iL,GeoPoint:my,Timestamp:So,Blob:Nm,Transaction:sL,WriteBatch:oL,DocumentReference:uu,DocumentSnapshot:Om,Query:Ml,QueryDocumentSnapshot:Pm,QuerySnapshot:dM,CollectionReference:$p,FieldPath:hM,FieldValue:c4,setLogLevel:function(n){!function(n){Yh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function cL(n,e){return function(n,e=V4.z){return new Mn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function fM(n,e){return cL(n,e).pipe((0,Tt.U)(t=>({payload:t,type:"query"})))}function Ey(n,e){return fM(n,e).pipe(ho(void 0),dS(),(0,Tt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((m,y)=>{const w=i.find(k=>k.doc.ref.isEqual(m.ref)),S=null==t?void 0:t.payload.docs.find(k=>k.ref.isEqual(m.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(m.metadata)||!w&&S&&JSON.stringify(S.metadata)===JSON.stringify(m.metadata)||u.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:m}})}),u}))}function uL(n,e,t){return Ey(n,t).pipe(Kl((r,i)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return pM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return pM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),k5(),(0,Tt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function pM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function dL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new za.wA("firestore-compat",t=>((e,t)=>new iL(e,t,new dG))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},pG)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.14")}(Yk.Z);class hL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Ey(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Tt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ho(void 0),dS(),tr(([r,i])=>i.length>0||!r),(0,Tt.U)(([r,i])=>i),jr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Kl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dL(e);return uL(this.query,t,this.afs.schedulers.outsideAngular).pipe(jr.iC)}valueChanges(e={}){return fM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),jr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(jr.iC)}add(e){return this.ref.add(e)}doc(e){return new fL(this.ref.doc(e),this.afs)}}class fL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=gL(r,t);return new hL(i,u,this.afs)}snapshotChanges(){return function(n,e){return cL(n,e).pipe(ho(void 0),dS(),(0,Tt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(jr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,In.D)(this.ref.get(e)).pipe(jr.iC)}}class CG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ey(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),tr(t=>t.length>0),jr.iC):Ey(this.query,this.afs.schedulers.outsideAngular).pipe(jr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Kl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dL(e);return uL(this.query,t,this.afs.schedulers.outsideAngular).pipe(jr.iC)}valueChanges(e={}){return fM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),jr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(jr.iC)}}const pL=new h.OlP("angularfire2.enableFirestorePersistence"),mL=new h.OlP("angularfire2.firestore.persistenceSettings"),wG=new h.OlP("angularfire2.firestore.settings"),EG=new h.OlP("angularfire2.firestore.use-emulator");function gL(n,e=(t=>t)){return{query:e(n),ref:n}}let mM=(()=>{class n{constructor(t,r,i,u,m,y,w,S,k,P,j,$,K,ve,Ie,Ke,ft){this.schedulers=w;const At=(0,na.on)(t,y,r),ct=k;P&&bh(At,y,j,K,ve,Ie,$,Ke),[this.firestore,this.persistenceEnabled$]=(0,na.cc)(`${At.name}.firestore`,"AngularFirestore",At.name,()=>{const hn=y.runOutsideAngular(()=>At.firestore());if(u&&hn.settings(u),ct&&hn.useEmulator(...ct),i&&!Tn(m)){const kn=()=>{try{return(0,In.D)(hn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(zr){return"undefined"!=typeof console&&console.warn(zr),Ct(!1)}};return[hn,y.runOutsideAngular(kn)]}return[hn,Ct(!1)]},[u,ct,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:m}=gL(i,r),y=this.schedulers.ngZone.run(()=>u);return new hL(y,m,this)}collectionGroup(t,r){const i=r||(m=>m),u=this.firestore.collectionGroup(t);return new CG(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new fL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(na.Dh),h.LFG(na.xv,8),h.LFG(pL,8),h.LFG(wG,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(jr.HU),h.LFG(mL,8),h.LFG(EG,8),h.LFG(P4,8),h.LFG(Cg,8),h.LFG(wg,8),h.LFG(_b,8),h.LFG(_h,8),h.LFG(S5,8),h.LFG(yh,8),h.LFG(vh,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xG=(()=>{class n{constructor(){ph.Z.registerVersion("angularfire",jr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:pL,useValue:!0},{provide:mL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[mM]}),n})();const vL="firebasestorage.googleapis.com",_L="storageBucket";class qi extends jt.ZR{constructor(e,t){super(gM(e),`Firebase Storage: ${t} (${gM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qi.prototype)}_codeEquals(e){return gM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function gM(n){return"storage/"+n}function vM(){return new qi("unknown","An unknown error occurred, please check the error payload for server response.")}function yL(){return new qi("canceled","User canceled the upload/download.")}function bL(){return new qi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Wp(n){return new qi("invalid-argument",n)}function CL(){return new qi("app-deleted","The Firebase app was deleted.")}function wL(n){return new qi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lm(n,e){return new qi("invalid-format","String does not match format '"+n+"': "+e)}function Fm(n){throw new qi("internal-error","Internal error: "+n)}class Za{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Za.makeFromUrl(e,t)}catch(i){return new Za(e,"")}if(""===r.path)return r;throw function(n){return new qi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",y=new RegExp("^gs://"+i+"(/(.*))?$","i");function S(ct){ct.path_=decodeURIComponent(ct.path)}const P=t.replace(/[.]/g,"\\."),At=[{regex:y,indices:{bucket:1,path:3},postModify:function(ct){"/"===ct.path.charAt(ct.path.length-1)&&(ct.path_=ct.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${P}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${t===vL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let ct=0;ct<At.length;ct++){const hn=At[ct],kn=hn.regex.exec(e);if(kn){let pa=kn[hn.indices.path];pa||(pa=""),r=new Za(kn[hn.indices.bucket],pa),hn.postModify(r);break}}if(null==r)throw function(n){return new qi("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class zG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function xy(n){return"string"==typeof n||n instanceof String}function EL(n){return _M()&&n instanceof Blob}function _M(){return"undefined"!=typeof Blob}function yM(n,e,t,r){if(r<e)throw Wp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Wp(`Invalid value for '${n}'. Expected ${t} or less.`)}function K2(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function xL(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var uf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(uf||(uf={})),uf))();class GG{constructor(e,t,r,i,u,m,y,w,S,k,P){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=m,this.callback_=y,this.errorCallback_=w,this.timeout_=S,this.progressCallback_=k,this.connectionFactory_=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,$)=>{this.resolve_=j,this.reject_=$,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,m=this.reject_,y=i.connection;if(i.wasSuccessCode)try{const w=this.callback_(y,y.getResponse());!function(n){return void 0!==n}(w)?u():u(w)}catch(w){m(w)}else if(null!==y){const w=vM();w.serverResponse=y.getErrorText(),m(this.errorCallback_?this.errorCallback_(y,w):w)}else m(i.canceled?this.appDelete_?CL():yL():new qi("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new Sy(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,i=null,u=null,m=!1,y=0;function w(){return 2===y}let S=!1;function k(...Ie){S||(S=!0,e.apply(null,Ie))}function P(Ie){i=setTimeout(()=>{i=null,n($,w())},Ie)}function j(){u&&clearTimeout(u)}function $(Ie,...Ke){if(S)return void j();if(Ie)return j(),void k.call(null,Ie,...Ke);if(w()||m)return j(),void k.call(null,Ie,...Ke);let At;r<64&&(r*=2),1===y?(y=2,At=0):At=1e3*(r+Math.random()),P(At)}let K=!1;function ve(Ie){K||(K=!0,j(),!S&&(null!==i?(Ie||(y=2),clearTimeout(i),P(0)):Ie||(y=1)))}return P(0),u=setTimeout(()=>{m=!0,ve(!0)},t),ve}((r,i)=>{if(i)return void r(!1,new Sy(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const m=y=>{null!==this.progressCallback_&&this.progressCallback_(y.loaded,y.lengthComputable?y.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(m),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(m),this.pendingConnection_=null;const y=u.getErrorCode()===uf.NO_ERROR,w=u.getStatus();if(!y||this.isRetryStatusCode_(w)){const k=u.getErrorCode()===uf.ABORT;return void r(!1,new Sy(!1,null,k))}const S=-1!==this.successCodes_.indexOf(w);r(!0,new Sy(S,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||u}}class Sy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function QG(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(_M())return new Blob(n);throw new qi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const l1={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bM{constructor(e,t){this.data=e,this.contentType=t||null}}function CM(n,e){switch(n){case l1.RAW:return new bM(SL(e));case l1.BASE64:case l1.BASE64URL:return new bM(TL(n,e));case l1.DATA_URL:return new bM(function(n){const e=new IL(n);return e.base64?TL(l1.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Lm(l1.DATA_URL,"Malformed data URL.")}return SL(e)}(e.rest)}(e),function(n){return new IL(n).contentType}(e))}throw vM()}function SL(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function TL(n,e){switch(n){case l1.BASE64:{const i=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(i||u)throw Lm(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case l1.BASE64URL:{const i=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(i||u)throw Lm(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(i){throw Lm(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class IL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Lm(l1.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class jd{constructor(e,t){let r=0,i="";EL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(EL(this.data_)){const i=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new jd(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new jd(r,!0)}}static getBlob(...e){if(_M()){const t=e.map(r=>r instanceof jd?r.data_:r);return new jd(QG.apply(null,t))}{const t=e.map(m=>xy(m)?CM(l1.RAW,m).data:m.data_);let r=0;t.forEach(m=>{r+=m.byteLength});const i=new Uint8Array(r);let u=0;return t.forEach(m=>{for(let y=0;y<m.length;y++)i[u++]=m[y]}),new jd(i,!0)}}uploadData(){return this.data_}}function wM(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function ML(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function oq(n,e){return e}class Dl{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||oq}}let Ty=null;function zm(){if(Ty)return Ty;const n=[];n.push(new Dl("bucket")),n.push(new Dl("generation")),n.push(new Dl("metageneration")),n.push(new Dl("name","fullPath",!0));const t=new Dl("name");t.xform=function(u,m){return function(n){return!xy(n)||n.length<2?n:ML(n)}(m)},n.push(t);const i=new Dl("size");return i.xform=function(u,m){return void 0!==m?Number(m):m},n.push(i),n.push(new Dl("timeCreated")),n.push(new Dl("updated")),n.push(new Dl("md5Hash",null,!0)),n.push(new Dl("cacheControl",null,!0)),n.push(new Dl("contentDisposition",null,!0)),n.push(new Dl("contentEncoding",null,!0)),n.push(new Dl("contentLanguage",null,!0)),n.push(new Dl("contentType",null,!0)),n.push(new Dl("metadata","customMetadata",!0)),Ty=n,Ty}function DL(n,e,t){const r=wM(e);return null===r?null:function(n,e,t){const r={type:"file"},i=t.length;for(let u=0;u<i;u++){const m=t[u];r[m.local]=m.xform(r,e[m.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const u=new Za(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function EM(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const u=e[i];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const AL="prefixes";class Gd{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qd(n){if(!n)throw vM()}function Iy(n,e){return function(r,i){const u=DL(n,i,e);return qd(null!==u),u}}function Zp(n){return function(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new qi("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new qi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new qi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new qi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function Vm(n){const e=Zp(n);return function(r,i){let u=e(r,i);return 404===r.getStatus()&&(u=function(n){return new qi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=i.serverResponse,u}}function RL(n,e,t){const i=K2(e.fullServerUrl(),n.host,n._protocol),m=n.maxOperationRetryTime,y=new Gd(i,"GET",Iy(n,t),m);return y.errorHandler=Vm(e),y}function mq(n,e,t,r,i){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),i&&(u.maxResults=i);const y=K2(e.bucketOnlyServerUrl(),n.host,n._protocol),S=n.maxOperationRetryTime,k=new Gd(y,"GET",function(n,e){return function(r,i){const u=function(n,e,t){const r=wM(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[AL])for(const i of t[AL]){const u=i.replace(/\/$/,""),m=n._makeStorageReference(new Za(e,u));r.prefixes.push(m)}if(t.items)for(const i of t.items){const u=n._makeStorageReference(new Za(e,i.name));r.items.push(u)}return r}(n,e,r)}(n,e,i);return qd(null!==u),u}}(n,e.bucket),S);return k.urlParams=u,k.errorHandler=Zp(e),k}function OL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class My{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function xM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){qd(!1)}return qd(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Eq={STATE_CHANGED:"state_changed"},Al={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function SM(n){switch(n){case"running":case"pausing":case"canceling":return Al.RUNNING;case"paused":return Al.PAUSED;case"success":return Al.SUCCESS;case"canceled":return Al.CANCELED;default:return Al.ERROR}}class xq{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Kp(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Tq extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Fm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const u in i)i.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,i[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Fm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ju(){return new Tq}class zL{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=zm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,u)=>{this._resolve=i,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),m=OL(e,r,i),y={name:m.fullPath},w=K2(u,n.host,n._protocol),k={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":m.contentType,"Content-Type":"application/json; charset=utf-8"},P=EM(m,t),K=new Gd(w,"POST",function(ve){let Ie;xM(ve);try{Ie=ve.getResponseHeader("X-Goog-Upload-URL")}catch(Ke){qd(!1)}return qd(xy(Ie)),Ie},n.maxUploadRetryTime);return K.urlParams=y,K.headers=k,K.body=P,K.errorHandler=Zp(e),K}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ju,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function(n,e,t,r){const w=new Gd(t,"POST",function(S){const k=xM(S,["active","final"]);let P=null;try{P=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch($){qd(!1)}P||qd(!1);const j=Number(P);return qd(!isNaN(j)),new My(j,r.size(),"final"===k)},n.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=Zp(e),w}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(i,Ju,t,r);this._request=u,u.getPromise().then(m=>{m=m,this._request=void 0,this._updateProgress(m.current),this._needToFetchStatus=!1,m.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new My(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,u)=>{let m;try{m=function(n,e,t,r,i,u,m,y){const w=new My(0,0);if(m?(w.current=m.current,w.total=m.total):(w.current=0,w.total=r.size()),r.size()!==w.total)throw new qi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const S=w.total-w.current;let k=S;i>0&&(k=Math.min(k,i));const P=w.current,K={"X-Goog-Upload-Command":k===S?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},ve=r.slice(P,P+k);if(null===ve)throw bL();const At=new Gd(t,"POST",function(ct,hn){const kn=xM(ct,["active","final"]),zr=w.current+k,pa=r.size();let kl;return kl="final"===kn?Iy(e,u)(ct,hn):null,new My(zr,pa,"final"===kn,kl)},e.maxUploadRetryTime);return At.headers=K,At.body=ve.uploadData(),At.progressCallback=y||null,At.errorHandler=Zp(n),At}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const y=this._ref.storage._makeRequest(m,Ju,i,u);this._request=y,y.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=RL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ju,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"},w=function(){let At="";for(let ct=0;ct<2;ct++)At+=Math.random().toString().slice(2);return At}();m["Content-Type"]="multipart/related; boundary="+w;const S=OL(e,r,i),k=EM(S,t),$=jd.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+k+"\r\n--"+w+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",r,"\r\n--"+w+"--");if(null===$)throw bL();const K={name:S.fullPath},ve=K2(u,n.host,n._protocol),Ke=n.maxUploadRetryTime,ft=new Gd(ve,"POST",Iy(n,t),Ke);return ft.urlParams=K,ft.headers=m,ft.body=$.uploadData(),ft.errorHandler=Zp(e),ft}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ju,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=yL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=SM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const u=new xq(t||void 0,r||void 0,i||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(SM(this._state)){case Al.SUCCESS:Kp(this._resolve.bind(null,this.snapshot))();break;case Al.CANCELED:case Al.ERROR:Kp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(SM(this._state)){case Al.RUNNING:case Al.PAUSED:e.next&&Kp(e.next.bind(e,this.snapshot))();break;case Al.SUCCESS:e.complete&&Kp(e.complete.bind(e))();break;default:e.error&&Kp(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class u4{constructor(e,t){this._service=e,this._location=t instanceof Za?t:Za.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new u4(e,t)}get root(){const e=new Za(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ML(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Za(this._location.bucket,e);return new u4(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw wL(e)}}function HL(n,e,t){return TM.apply(this,arguments)}function TM(){return TM=(0,Ne.Z)(function*(n,e,t){const i=yield BL(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield HL(n,e,i.nextPageToken))}),TM.apply(this,arguments)}function BL(n,e){null!=e&&"number"==typeof e.maxResults&&yM("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=mq(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ju)}function zq(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const i=K2(e.fullServerUrl(),n.host,n._protocol),m=n.maxOperationRetryTime,y=new Gd(i,"GET",function(n,e){return function(r,i){const u=DL(n,i,e);return qd(null!==u),function(n,e,t,r){const i=wM(e);if(null===i||!xy(i.downloadTokens))return null;const u=i.downloadTokens;if(0===u.length)return null;const m=encodeURIComponent;return u.split(",").map(S=>{const P=n.fullPath;return K2("/b/"+m(n.bucket)+"/o/"+m(P),t,r)+xL({alt:"media",token:S})})[0]}(u,i,n.host,n._protocol)}}(n,t),m);return y.errorHandler=Vm(e),y}(n.storage,n._location,zm());return n.storage.makeRequestWithTokens(e,Ju).then(t=>{if(null===t)throw new qi("no-download-url","The given file does not have any download URLs.");return t})}function UL(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Za(n._location.bucket,t);return new u4(n.storage,r)}function jL(n,e){if(n instanceof IM){const t=n;if(null==t._bucket)throw new qi("no-default-bucket","No default bucket found. Did you set the '"+_L+"' property when initializing the app?");const r=new u4(t,t._bucket);return null!=e?jL(r,e):r}return void 0!==e?UL(n,e):n}function Uq(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof IM)return function(n,e){return new u4(n,e)}(n,e);throw Wp("To use ref(service, url), the first argument must be a Storage instance.")}return jL(n,e)}function GL(n,e){const t=null==e?void 0:e[_L];return null==t?null:Za.makeFromBucketSpec(t,n)}class IM{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=vL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Za.makeFromBucketSpec(i,this._host):GL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Za.makeFromBucketSpec(this._url,e):GL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ne.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ne.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new u4(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new zG(CL());{const u=function(n,e,t,r,i,u){const m=xL(n.urlParams),y=n.url+m,w=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(w,u),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new GG(y,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,Ne.Z)(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const qL="@firebase/storage";function ZL(n,e){return Uq(n=(0,jt.m9)(n),e)}(0,Z1._registerComponent)(new za.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new IM(t,r,i,e,Z1.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Z1.registerVersion)(qL,"0.9.2",""),(0,Z1.registerVersion)(qL,"0.9.2","esm2017");class Dy{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class KL{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Dy(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Dy(r,this,this._ref))},t)}on(e,t,r,i){let u;return t&&(u="function"==typeof t?m=>t(new Dy(m,this,this._ref)):{next:t.next?m=>t.next(new Dy(m,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,i||void 0)}}class YL{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Y2(e,this._service))}get items(){return this._delegate.items.map(e=>new Y2(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Y2{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return UL(n,e)}(this._delegate,e);return new Y2(t,this.storage)}get root(){return new Y2(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Y2(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new KL(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new zL(n,new jd(e),t)}(n=(0,jt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=l1.RAW,r){this._throwIfRoot("putString");const i=CM(t,e),u=Object.assign({},r);return null==u.contentType&&null!=i.contentType&&(u.contentType=i.contentType),new KL(new zL(this._delegate,new jd(i.data,!0),u),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return HL(n,e).then(()=>e)}(n=(0,jt.m9)(n))}(this._delegate).then(e=>new YL(e,this.storage))}list(e){return function(n,e){return BL(n=(0,jt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new YL(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=RL(n.storage,n._location,zm());return n.storage.makeRequestWithTokens(e,Ju)}(n=(0,jt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const u=K2(e.fullServerUrl(),n.host,n._protocol),y=EM(t,r),S=n.maxOperationRetryTime,k=new Gd(u,"PATCH",Iy(n,r),S);return k.headers={"Content-Type":"application/json; charset=utf-8"},k.body=y,k.errorHandler=Vm(e),k}(n.storage,n._location,e,zm());return n.storage.makeRequestWithTokens(t,Ju)}(n=(0,jt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return zq(n=(0,jt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=K2(e.fullServerUrl(),n.host,n._protocol),y=new Gd(r,"DELETE",function(w,S){},n.maxOperationRetryTime);return y.successCodes=[200,204],y.errorHandler=Vm(e),y}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ju)}(n=(0,jt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw wL(e)}}class QL{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(JL(e))throw Wp("ref() expected a child path but got a URL, use refFromURL instead.");return new Y2(ZL(this._delegate,e),this)}refFromURL(e){if(!JL(e))throw Wp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Za.makeFromUrl(e,this._delegate.host)}catch(t){throw Wp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Y2(ZL(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,jt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function JL(n){return/^[A-Za-z]+:\/\//.test(n)}function i$(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new QL(t,r)}function XL(n){const e=function(n){return new Mn.y(e=>{const t=m=>e.next(m);t(n.snapshot);const u=n.on("state_changed",t);return n.then(m=>{t(m),e.complete()},m=>{t(n.snapshot),(m=>{e.error(m)})(m)}),function(){u()}}).pipe(Og(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Tt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Ay(n){return{getDownloadURL:()=>Ct(void 0).pipe(jr.fc,si(()=>n.getDownloadURL()),jr.iC),getMetadata:()=>Ct(void 0).pipe(jr.fc,si(()=>n.getMetadata()),jr.iC),delete:()=>(0,In.D)(n.delete()),child:e=>Ay(n.child(e)),updateMetadata:e=>(0,In.D)(n.updateMetadata(e)),put:(e,t)=>XL(n.put(e,t)),putString:(e,t,r)=>XL(n.putString(e,t,r)),list:e=>(0,In.D)(n.list(e)),listAll:()=>(0,In.D)(n.listAll())}}!function(n){const e={TaskState:Al,TaskEvent:Eq,StringFormat:l1,Storage:QL,Reference:Y2};n.INTERNAL.registerComponent(new za.wA("storage-compat",i$,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.10")}(Yk.Z);const a$=new h.OlP("angularfire2.storageBucket"),l$=new h.OlP("angularfire2.storage.maxUploadRetryTime"),c$=new h.OlP("angularfire2.storage.maxOperationRetryTime"),u$=new h.OlP("angularfire2.storage.use-emulator");let MM=(()=>{class n{constructor(t,r,i,u,m,y,w,S,k,P){const j=(0,na.on)(t,m,r);this.storage=(0,na.cc)(`${j.name}.storage.${i}`,"AngularFireStorage",j.name,()=>{const $=m.runOutsideAngular(()=>j.storage(i||void 0)),K=k;return K&&$.useEmulator(...K),w&&$.setMaxUploadRetryTime(w),S&&$.setMaxOperationRetryTime(S),$},[w,S])}ref(t){return Ay(this.storage.ref(t))}refFromURL(t){return Ay(this.storage.refFromURL(t))}upload(t,r,i){return Ay(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(na.Dh),h.LFG(na.xv,8),h.LFG(a$,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(jr.HU),h.LFG(l$,8),h.LFG(c$,8),h.LFG(u$,8),h.LFG(vh,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),h$=(()=>{class n{constructor(){ph.Z.registerVersion("angularfire",jr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[MM],imports:[d$]}),n})(),ky=(()=>{class n{constructor(t){this.afs=t,this.postsCollection=this.afs.collection("posts",r=>r.orderBy("published","desc"))}getPosts(){return this.postsCollection.snapshotChanges().pipe((0,Tt.U)(t=>t.map(r=>{const i=r.payload.doc.data(),u=r.payload.doc.id;return console.log(i),Object.assign({id:u},i)})))}getPostData(t){return this.postDoc=this.afs.doc(`posts/${t}`),this.postDoc.valueChanges()}create(t){this.postsCollection.add(t)}getPost(t){return this.afs.doc(`posts/${t}`)}delete(t){return this.getPost(t).delete()}update(t,r){return this.getPost(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(mM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function f$(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"mat-card-actions",8),h.TgZ(1,"button",9),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2).$implicit;return h.oxw().delete(i.id)}),h.TgZ(2,"mat-icon"),h._uU(3,"delete"),h.qZA(),h.qZA(),h.qZA()}}function p$(n,e){if(1&n&&(h.TgZ(0,"div"),h.YNc(1,f$,4,0,"mat-card-actions",7),h.qZA()),2&n){const t=h.oxw().$implicit,r=h.oxw();h.xp6(1),h.Q6J("ngIf",r.auth.currentUserId===t.authorId)}}function m$(n,e){if(1&n&&(h.TgZ(0,"mat-card",1),h.TgZ(1,"mat-card-content",2),h.TgZ(2,"div",3),h._UZ(3,"img",4),h.TgZ(4,"h2"),h._uU(5),h.qZA(),h.qZA(),h.TgZ(6,"div",5),h.TgZ(7,"p"),h.TgZ(8,"u"),h._uU(9,"Posted by"),h.qZA(),h._uU(10),h._UZ(11,"br"),h._uU(12),h.ALo(13,"date"),h.qZA(),h.qZA(),h.qZA(),h.YNc(14,p$,2,1,"div",6),h.qZA()),2&n){const t=e.$implicit,r=h.oxw();h.xp6(1),h.s9C("routerLink",t.id),h.xp6(2),h.s9C("src",t.image,h.LSH),h.s9C("alt",t.title),h.xp6(2),h.Oqu(t.title),h.xp6(5),h.hij(": ",t.author,""),h.xp6(2),h.Oqu(h.xi3(13,7,t.published.toDate(),"fullDate")),h.xp6(2),h.Q6J("ngIf",!r.VALID_USERID||r.auth.currentUserId==r.VALID_USERID)}}let g$=(()=>{class n{constructor(t,r){this.postService=t,this.auth=r,this.VALID_USERID=Cf_userid}ngOnInit(){this.posts=this.postService.getPosts(),console.log(this)}delete(t){t&&this.postService.delete(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ky),h.Y36(g2))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-post-list"]],decls:3,vars:3,consts:[["style","max-width: 30%; max-height: fit-content; margin: 0px; padding-bottom: 0px;",4,"ngFor","ngForOf"],[2,"max-width","30%","max-height","fit-content","margin","0px","padding-bottom","0px"],[3,"routerLink"],[2,"margin","0px","padding-bottom","20px","text-align","center"],[2,"max-width","80%","max-height","200px","padding-bottom","20px",3,"src","alt"],[2,"text-align","end"],[4,"ngIf"],["align","end",4,"ngIf"],["align","end"],["mat-icon-button","",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"section"),h.YNc(1,m$,15,10,"mat-card",0),h.ALo(2,"async"),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",h.lcZ(2,1,r.posts)))},directives:[so,J0,v8,Fr,pi,_8,u3,Gh],pipes:[Nl,fu],styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-auto-rows:auto;grid-gap:10px;margin:0 auto;max-width:80%}mat-card[_ngcontent-%COMP%]{margin:10px 0;max-width:85%}img[_ngcontent-%COMP%]{width:100%}mat-card-content[_ngcontent-%COMP%]:focus{outline:none;border:0}"]}),n})();var Ry,v$=new Uint8Array(16);function _$(){if(!Ry&&!(Ry="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ry(v$)}const y$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,C$=function(n){return"string"==typeof n&&y$.test(n)};for(var fa=[],DM=0;DM<256;++DM)fa.push((DM+256).toString(16).substr(1));const Hm=function(n,e,t){var r=(n=n||{}).random||(n.rng||_$)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(fa[n[e+0]]+fa[n[e+1]]+fa[n[e+2]]+fa[n[e+3]]+"-"+fa[n[e+4]]+fa[n[e+5]]+"-"+fa[n[e+6]]+fa[n[e+7]]+"-"+fa[n[e+8]]+fa[n[e+9]]+"-"+fa[n[e+10]]+fa[n[e+11]]+fa[n[e+12]]+fa[n[e+13]]+fa[n[e+14]]+fa[n[e+15]]).toLowerCase();if(!C$(t))throw TypeError("Stringified UUID is invalid");return t}(r)};let Yp=(()=>{class n{constructor(){this.notifier=new $m,window.hubReady=this.notifier}ready(){return this.notifier}render(t,r){console.log("Here"),console.log(r),r&&(console.log(r),t.innerHTML=r),MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),AM=(()=>{class n{constructor(t,r){this.service=t,this.el=r,this.alive$=new Zt.x,this.element=r.nativeElement}ngOnInit(){console.log(this.mathContent),this.service.ready().pipe((0,Ni.q)(1),xh(this.alive$)).subscribe(t=>{this.service.render(this.element,this.mathContent)})}ngOnChanges(t){console.log("change"),t&&t.mathContent&&t.mathContent.currentValue&&this.service.render(this.element,this.mathContent)}ngOnDestroy(){this.alive$.next(!1)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Yp),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","mathContent",""]],inputs:{mathContent:"mathContent"},features:[h.TTD]}),n})();function S$(n,e){if(1&n&&h._UZ(0,"td",19),2&n){const t=h.oxw().$implicit;h.Q6J("mathContent",t.content)}}function T$(n,e){if(1&n&&(h.TgZ(0,"td",20),h.TgZ(1,"div",5),h._UZ(2,"img",21),h._uU(3),h.qZA(),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(1),h.Q6J("hidden",!t.image),h.xp6(1),h.Q6J("src",t.image||"//:0",h.LSH),h.xp6(1),h.hij(" ",t.caption," ")}}function I$(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"tr"),h.YNc(1,S$,1,1,"td",15),h.YNc(2,T$,4,3,"td",16),h.TgZ(3,"td",17),h.TgZ(4,"i",18),h.NdJ("click",function(){const u=h.CHM(t).index;return h.oxw(2).removeField(u)}),h.qZA(),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(1),h.Q6J("ngIf",null==t?null:t.content),h.xp6(1),h.Q6J("ngIf",null==t?null:t.image)}}function M$(n,e){if(1&n&&(h.TgZ(0,"tbody"),h.YNc(1,I$,5,2,"tr",14),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.fieldArray)}}function D$(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"tr"),h.TgZ(1,"td",25),h.TgZ(2,"div",26),h.TgZ(3,"mat-form-field"),h.TgZ(4,"textarea",27),h.NdJ("ngModelChange",function(i){return h.CHM(t).$implicit.content=i}),h.qZA(),h.qZA(),h.TgZ(5,"div",28),h.TgZ(6,"div",29),h.NdJ("click",function(){const u=h.CHM(t).index;return h.oxw(2).deleteFieldContent(u)}),h._UZ(7,"i",30),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(8,"td",20),h.TgZ(9,"div",31),h.TgZ(10,"div"),h.TgZ(11,"div",5),h._UZ(12,"img",6),h.qZA(),h.TgZ(13,"div",3),h._UZ(14,"mat-progress-bar",4),h.ALo(15,"async"),h.qZA(),h.TgZ(16,"div"),h.TgZ(17,"input",32),h.NdJ("change",function(i){const m=h.CHM(t).index;return h.oxw(2).uploadFieldImage(i,m)}),h.qZA(),h.TgZ(18,"label",33),h._uU(19,"Select Image"),h.qZA(),h.qZA(),h.TgZ(20,"mat-form-field"),h.TgZ(21,"input",34),h.NdJ("ngModelChange",function(i){return h.CHM(t).$implicit.caption=i}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(22,"div",35),h.TgZ(23,"div",29),h.NdJ("click",function(){const u=h.CHM(t).index;return h.oxw(2).deleteFieldImage(u)}),h._UZ(24,"i",30),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=h.oxw(2);h.xp6(4),h.Q6J("ngModel",t.content),h.xp6(7),h.Q6J("hidden",!t.image),h.xp6(1),h.Q6J("src",t.image||"//:0",h.LSH),h.xp6(1),h.Q6J("hidden",i.uploadPercentArray.length>r&&!i.uploadPercentArray[r]),h.xp6(1),h.s9C("value",h.lcZ(15,8,i.uploadPercentArray[r])),h.xp6(3),h.MGl("id","file",r,""),h.xp6(1),h.MGl("for","file",r,""),h.xp6(3),h.Q6J("ngModel",t.caption)}}function A$(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",36),h.NdJ("click",function(){return h.CHM(t),h.oxw(2).addFieldValue()}),h._uU(1,"Add More Item"),h.qZA()}}function k$(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"tbody"),h.YNc(1,D$,25,10,"tr",14),h.TgZ(2,"tr"),h.TgZ(3,"td",22),h.YNc(4,A$,2,0,"button",23),h.TgZ(5,"button",24),h.NdJ("click",function(){return h.CHM(t),h.oxw().onSaveItems()}),h._uU(6,"Save Items"),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.fieldArray),h.xp6(3),h.Q6J("ngIf",t.fieldArray.length<=t.MAX_CONTENTS)}}let R$=(()=>{class n{constructor(t,r,i,u){this.router=t,this.auth=r,this.postService=i,this.storage=u,this.image=null,this.MAX_CONTENTS=100,this.buttonText="Create Post",this.fieldArray=[],this.newAttribute={title:"",sidenote:"",content:"",image:"",code:"",caption:""},this.uploadPercentArray=[]}ngOnInit(){!this.auth.authState&&this.auth.currentUserId!=Cf_userid&&this.router.navigate([""])}createPost(){const t={author:this.auth.authState.displayName||this.auth.authState.email,authorId:this.auth.currentUserId,content:this.fieldArray,image:this.image,published:new Date,title:this.title};this.postService.create(t),this.title="",this.image="",this.fieldArray=[],this.buttonText="Post Created",setTimeout(()=>this.buttonText="Create Post",3e3)}uploadImage(t){const r=t.target.files[0],i="posts/"+Hm()+"_"+r.name;if("image"!==r.type.split("/")[0])return alert("only image files");{const u=this.storage.upload(i,r);u.snapshotChanges().pipe(Ft(()=>{const m=this.storage.ref(i);console.log(m),this.downloadURL=m.getDownloadURL(),this.downloadURL.subscribe(y=>this.image=y)})).subscribe(),this.uploadPercent=u.percentageChanges(),console.log("Image uploaded:")}}addFieldValue(){this.fieldArray.length<=this.MAX_CONTENTS&&(this.fieldArray.push(this.newAttribute),this.newAttribute={title:"",sidenote:"",content:"",image:"",code:"",caption:""})}uploadFieldImage(t,r){this.deleteFieldImage(r);const i=t.target.files[0],u="posts/"+Hm()+"_"+i.name;if("image"!==i.type.split("/")[0])return alert("only image files");{const m=this.storage.upload(u,i);m.snapshotChanges().pipe(Ft(()=>{const y=this.storage.ref(u);console.log(y),this.downloadURL=y.getDownloadURL(),this.downloadURL.subscribe(w=>this.fieldArray[r].image=w)})).subscribe(),this.uploadPercentArray[r]=m.percentageChanges(),console.log("Image uploaded!")}}uploadFieldCode(t,r){this.deleteFieldCode(r);const i=t.target.files[0],u="posts/"+Hm()+"_"+i.name,m=this.storage.upload(u,i);m.snapshotChanges().pipe(Ft(()=>{const y=this.storage.ref(u);console.log(y),this.downloadURL=y.getDownloadURL(),this.downloadURL.subscribe(w=>this.fieldArray[r].code=w)})).subscribe(),this.uploadPercentArray[r]=m.percentageChanges(),console.log("Code uploaded!")}removeField(t){this.deleteFieldImage(t),this.deleteFieldCode(t),this.fieldArray.splice(t,1),this.uploadPercentArray.splice(t,1)}deleteFieldContent(t){this.fieldArray[t].content=""}deleteFieldImage(t){const r=this.fieldArray[t].image;""!=r&&(this.storage.storage.refFromURL(r).delete(),this.fieldArray[t].image="")}deleteFieldCode(t){const r=this.fieldArray[t].code;""!=r&&(this.storage.storage.refFromURL(r).delete(),this.fieldArray[t].code="")}onSaveItems(){this.isEditItems=!this.isEditItems;for(var t=0;t<this.fieldArray.length;t++)!this.fieldArray[t].content&&!this.fieldArray[t].image&&this.removeField(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(wr),h.Y36(g2),h.Y36(ky),h.Y36(MM))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-post-dashboard"]],decls:28,vars:14,consts:[[2,"width","100%"],["matInput","","placeholder","Post Title",3,"ngModel","ngModelChange"],["type","file","name","file","id","file",3,"change"],[2,"width","90%",3,"hidden"],["mode","determinate",3,"value"],[3,"hidden"],[3,"src"],[1,"container"],[1,"row"],[1,"table","table-striped","table-bordered"],["colspan","2"],[1,"text-info","float-right",3,"click"],[4,"ngIf"],["mat-raised-button","","color","accent",3,"disabled","click"],[4,"ngFor","ngForOf"],["class","content-column",3,"mathContent",4,"ngIf"],["class","image-column",4,"ngIf"],[2,"width","2%"],[1,"mdi","mdi-close","mdi-18px",3,"click"],[1,"content-column",3,"mathContent"],[1,"image-column"],[2,"display","block",3,"src"],["align","right","colspan","2"],["class","btn btn-secondary btn-lg1","type","button","style","margin-right:10px",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-lg1",3,"click"],[1,"content-column",2,"position","relative"],[1,"input-group",2,"position","relative"],["matInput","","placeholder","Type here...","rows","10",3,"ngModel","ngModelChange"],[1,"input-group-prepend"],[1,"input-group-text",3,"click"],[1,"mdi","mdi-close","mdi-10px",2,"color","red"],[1,"input-group"],["type","file",2,"visibility","hidden",3,"id","change"],[1,"btn",2,"color","snow","background-color","rgb(236, 196, 111)",3,"for"],["matInput","","placeholder","Image caption",3,"ngModel","ngModelChange"],[1,"input-group-prepend",2,"margin-top","10px"],["type","button",1,"btn","btn-secondary","btn-lg1",2,"margin-right","10px",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"section"),h.TgZ(1,"mat-accordion"),h.TgZ(2,"mat-expansion-panel",0),h.TgZ(3,"mat-expansion-panel-header"),h.TgZ(4,"mat-panel-title"),h._uU(5," Create a Post "),h.qZA(),h.qZA(),h.TgZ(6,"mat-form-field"),h.TgZ(7,"input",1),h.NdJ("ngModelChange",function(u){return r.title=u}),h.qZA(),h.qZA(),h.TgZ(8,"div"),h.TgZ(9,"input",2),h.NdJ("change",function(u){return r.uploadImage(u)}),h.qZA(),h.TgZ(10,"div",3),h._UZ(11,"mat-progress-bar",4),h.ALo(12,"async"),h.qZA(),h.TgZ(13,"div",5),h._UZ(14,"img",6),h.qZA(),h.qZA(),h.TgZ(15,"div",7),h._UZ(16,"br"),h.TgZ(17,"div",8),h.TgZ(18,"table",9),h.TgZ(19,"thead"),h.TgZ(20,"tr"),h.TgZ(21,"th",10),h.TgZ(22,"a",11),h.NdJ("click",function(){return r.onSaveItems()}),h._UZ(23,"i"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.YNc(24,M$,2,1,"tbody",12),h.YNc(25,k$,7,2,"tbody",12),h.qZA(),h.qZA(),h.qZA(),h.TgZ(26,"button",13),h.NdJ("click",function(){return r.createPost()}),h._uU(27),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("ngModel",r.title),h.xp6(3),h.Q6J("hidden",!r.uploadPercent),h.xp6(1),h.s9C("value",h.lcZ(12,12,r.uploadPercent)),h.xp6(2),h.Q6J("hidden",!r.image),h.xp6(1),h.Q6J("src",r.image||"//:0",h.LSH),h.xp6(9),h.Gre("mdi mdi-",r.isEditItems?"close":"pencil"," mdi-18px"),h.xp6(1),h.Q6J("ngIf",!r.isEditItems),h.xp6(1),h.Q6J("ngIf",r.isEditItems),h.xp6(1),h.Q6J("disabled",!r.title||!r.fieldArray.length||!r.image),h.xp6(1),h.Oqu(r.buttonText))},directives:[dE,E9,cE,uE,yv,Cv,f3,Lh,mc,mx,pi,u3,so,AM],pipes:[Nl],styles:["section[_ngcontent-%COMP%]{max-width:80vw;margin:2em auto}mat-form-field[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{width:90%;height:90%}mat-card-content[_ngcontent-%COMP%]:focus{outline:none;border:0}.content-column[_ngcontent-%COMP%]{width:70%}"]}),n})();var eF=V(2869);const Bm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Bm;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(u=>{t=void 0,n(u)});return new ws.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Bm;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Bm;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var tF=V(8843);new class extends tF.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const u=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<u&&(e=t.shift()));if(this._active=!1,r){for(;++i<u&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends eF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Bm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(Bm.cancelAnimationFrame(t),e._scheduled=void 0)}});let kM,L$=1;const Ny={};function nF(n){return n in Ny&&(delete Ny[n],!0)}const F$={setImmediate(n){const e=L$++;return Ny[e]=!0,kM||(kM=Promise.resolve()),kM.then(()=>nF(e)&&n()),e},clearImmediate(n){nF(n)}},{setImmediate:z$,clearImmediate:V$}=F$,Oy={setImmediate(...n){const{delegate:e}=Oy;return((null==e?void 0:e.setImmediate)||z$)(...n)},clearImmediate(n){const{delegate:e}=Oy;return((null==e?void 0:e.clearImmediate)||V$)(n)},delegate:void 0};new class extends tF.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const u=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<u&&(e=t.shift()));if(this._active=!1,r){for(;++i<u&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends eF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Oy.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(Oy.clearImmediate(t),e._scheduled=void 0)}});var G$=V(7398);function rF(n,e=V4.P){return function(n){return(0,_i.e)((e,t)=>{let r=!1,i=null,u=null,m=!1;const y=()=>{if(null==u||u.unsubscribe(),u=null,r){r=!1;const S=i;i=null,t.next(S)}m&&t.complete()},w=()=>{u=null,m&&t.complete()};e.subscribe(new cr.Q(t,S=>{r=!0,i=S,u||(0,Ko.Xf)(n()).subscribe(u=new cr.Q(t,y,w))},()=>{m=!0,(!r||!u||u.closed)&&t.complete()}))})}(()=>function(n=0,e,t=V4.P){let r=-1;return null!=e&&((0,G$.K)(e)?t=e:r=e),new Mn.y(i=>{let u=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let m=0;return t.schedule(function(){i.closed||(i.next(m++),0<=r?this.schedule(void 0,r):i.complete())},u)})}(n,e))}let Z$=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Zt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Mn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(rF(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(tr(u=>!u||i.indexOf(u)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,u)=>{this._scrollableContainsElement(u,t)&&r.push(u)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Td(r),u=t.getElementRef().nativeElement;do{if(i==u)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Co(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(Ba),h.LFG(le,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iF=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Zt.x,this._changeListener=u=>{this._change.next(u)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,u=i.getBoundingClientRect();return{top:-u.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-u.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(rF(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ba),h.LFG(h.R0b),h.LFG(le,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),oF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Hf,H4,sF],Hf,sF]}),n})();var RM=V(4762);const aF=uC();class Y${constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ci(-this._previousScrollPosition.left),e.style.top=Ci(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,u=r.scrollBehavior||"",m=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),aF&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),aF&&(r.scrollBehavior=u,i.scrollBehavior=m)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Q${constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class lF{enable(){}disable(){}attach(){}}function NM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function cF(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class J${constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();NM(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let X$=(()=>{class n{constructor(t,r,i,u){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new lF,this.close=m=>new Q$(this._scrollDispatcher,this._ngZone,this._viewportRuler,m),this.block=()=>new Y$(this._viewportRuler,this._document),this.reposition=m=>new J$(this._scrollDispatcher,this._viewportRuler,this._ngZone,m),this._document=u}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Z$),h.LFG(iF),h.LFG(h.R0b),h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uF{constructor(e){if(this.scrollStrategy=new lF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class eW{constructor(e,t,r,i,u){this.offsetX=r,this.offsetY=i,this.panelClass=u,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class tW{}let nW=(()=>{let n=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};return n=(0,RM.gn)([(0,RM.fM)(1,(0,h.FiY)()),(0,RM.w6)("design:paramtypes",[eW,tW])],n),n})(),dF=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rW=(()=>{class n extends dF{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let u=i.length-1;u>-1;u--)if(i[u]._keydownEvents.observers.length>0){i[u]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iW=(()=>{class n extends dF{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Uu(i)},this._clickListener=i=>{const u=Uu(i),m="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let w=y.length-1;w>-1;w--){const S=y[w];if(!(S._outsidePointerEvents.observers.length<1)&&S.hasAttached()){if(S.overlayElement.contains(u)||S.overlayElement.contains(m))break;S._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le),h.LFG(Ba))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OM=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||zf()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let u=0;u<i.length;u++)i[u].remove()}const r=this._document.createElement("div");r.classList.add(t),zf()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le),h.LFG(Ba))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sW{constructor(e,t,r,i,u,m,y,w,S){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=u,this._keyboardDispatcher=m,this._document=y,this._location=w,this._outsideClickDispatcher=S,this._backdropElement=null,this._backdropClick=new Zt.x,this._attachments=new Zt.x,this._detachments=new Zt.x,this._locationChanges=ws.w0.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._keydownEvents=new Zt.x,this._outsidePointerEvents=new Zt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ni.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=gt(gt({},this._config),e),this._updateElementSize()}setDirection(e){this._config=no(gt({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ci(this._config.width),e.height=Ci(this._config.height),e.minWidth=Ci(this._config.minWidth),e.minHeight=Ci(this._config.minHeight),e.maxWidth=Ci(this._config.maxWidth),e.maxHeight=Ci(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=Lg(t||[]).filter(u=>!!u);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(xh((0,_4.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const hF="cdk-overlay-connected-position-bounding-box",oW=/([A-Za-z%]+)$/;class aW{constructor(e,t,r,i,u){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Zt.x,this._resizeSubscription=ws.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(hF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let u;for(let m of this._preferredPositions){let y=this._getOriginPoint(e,m),w=this._getOverlayPoint(y,t,m),S=this._getOverlayFit(w,t,r,m);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,y);this._canFitWithFlexibleDimensions(S,w,r)?i.push({position:m,origin:y,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(y,m)}):(!u||u.overlayFit.visibleArea<S.visibleArea)&&(u={overlayFit:S,overlayPoint:w,originPoint:y,position:m,overlayRect:t})}if(i.length){let m=null,y=-1;for(const w of i){const S=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);S>y&&(y=S,m=w)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&d4(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;r="start"==t.originX?u:m}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,u;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,u="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+u}}_getOverlayFit(e,t,r,i){const u=pF(t);let{x:m,y}=e,w=this._getOffset(i,"x"),S=this._getOffset(i,"y");w&&(m+=w),S&&(y+=S);let j=0-y,$=y+u.height-r.height,K=this._subtractOverflows(u.width,0-m,m+u.width-r.width),ve=this._subtractOverflows(u.height,j,$),Ie=K*ve;return{visibleArea:Ie,isCompletelyWithinViewport:u.width*u.height===Ie,fitsInViewportVertically:ve===u.height,fitsInViewportHorizontally:K==u.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,u=r.right-t.x,m=fF(this._overlayRef.getConfig().minHeight),y=fF(this._overlayRef.getConfig().minWidth),S=e.fitsInViewportHorizontally||null!=y&&y<=u;return(e.fitsInViewportVertically||null!=m&&m<=i)&&S}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=pF(t),u=this._viewportRect,m=Math.max(e.x+i.width-u.width,0),y=Math.max(e.y+i.height-u.height,0),w=Math.max(u.top-r.top-e.y,0),S=Math.max(u.left-r.left-e.x,0);let k=0,P=0;return k=i.width<=u.width?S||-m:e.x<this._viewportMargin?u.left-r.left-e.x:0,P=i.height<=u.height?w||-y:e.y<this._viewportMargin?u.top-r.top-e.y:0,this._previousPushAmount={x:k,y:P},{x:e.x+k,y:e.y+P}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new nW(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let u=0;u<t.length;u++)t[u].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let u,m,y,k,P,j;if("top"===t.overlayY)m=e.y,u=r.height-m+this._viewportMargin;else if("bottom"===t.overlayY)y=r.height-e.y+2*this._viewportMargin,u=r.height-y+this._viewportMargin;else{const $=Math.min(r.bottom-e.y+r.top,e.y),K=this._lastBoundingBoxSize.height;u=2*$,m=e.y-$,u>K&&!this._isInitialRender&&!this._growAfterOpen&&(m=e.y-K/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)j=r.width-e.x+this._viewportMargin,k=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)P=e.x,k=r.right-e.x;else{const $=Math.min(r.right-e.x+r.left,e.x),K=this._lastBoundingBoxSize.width;k=2*$,P=e.x-$,k>K&&!this._isInitialRender&&!this._growAfterOpen&&(P=e.x-K/2)}return{top:m,left:P,bottom:y,right:j,width:k,height:u}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,m=this._overlayRef.getConfig().maxWidth;i.height=Ci(r.height),i.top=Ci(r.top),i.bottom=Ci(r.bottom),i.width=Ci(r.width),i.left=Ci(r.left),i.right=Ci(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",u&&(i.maxHeight=Ci(u)),m&&(i.maxWidth=Ci(m))}this._lastBoundingBoxSize=r,d4(this._boundingBox.style,i)}_resetBoundingBoxStyles(){d4(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){d4(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),u=this._hasFlexibleDimensions,m=this._overlayRef.getConfig();if(i){const k=this._viewportRuler.getViewportScrollPosition();d4(r,this._getExactOverlayY(t,e,k)),d4(r,this._getExactOverlayX(t,e,k))}else r.position="static";let y="",w=this._getOffset(t,"x"),S=this._getOffset(t,"y");w&&(y+=`translateX(${w}px) `),S&&(y+=`translateY(${S}px)`),r.transform=y.trim(),m.maxHeight&&(i?r.maxHeight=Ci(m.maxHeight):u&&(r.maxHeight="")),m.maxWidth&&(i?r.maxWidth=Ci(m.maxWidth):u&&(r.maxWidth="")),d4(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},u=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,r));let m=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return u.y-=m,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":i.top=Ci(u.y),i}_getExactOverlayX(e,t,r){let m,i={left:"",right:""},u=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,r)),m=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===m?i.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":i.left=Ci(u.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cF(e,r),isOriginOutsideView:NM(e,r),isOverlayClipped:cF(t,r),isOverlayOutsideView:NM(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Lg(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof h.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function d4(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function fF(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(oW);return t&&"px"!==t?null:parseFloat(e)}return n||null}function pF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const mF="cdk-global-overlay-wrapper";class lW{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(mF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:u,maxWidth:m,maxHeight:y}=r,w=!("100%"!==i&&"100vw"!==i||m&&"100%"!==m&&"100vw"!==m),S=!("100%"!==u&&"100vh"!==u||y&&"100%"!==y&&"100vh"!==y);e.position=this._cssPosition,e.marginLeft=w?"0":this._leftOffset,e.marginTop=S?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,w?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=S?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(mF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let cW=(()=>{class n{constructor(t,r,i,u){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=u}global(){return new lW}flexibleConnectedTo(t){return new aW(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(iF),h.LFG(le),h.LFG(Ba),h.LFG(OM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uW=0,Py=(()=>{class n{constructor(t,r,i,u,m,y,w,S,k,P,j){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=u,this._keyboardDispatcher=m,this._injector=y,this._ngZone=w,this._document=S,this._directionality=k,this._location=P,this._outsideClickDispatcher=j}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),u=this._createPortalOutlet(i),m=new uF(t);return m.direction=m.direction||this._directionality.value,new sW(u,r,i,m,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+uW++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new _9(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(X$),h.LFG(OM),h.LFG(h._Vd),h.LFG(cW),h.LFG(rW),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(le),h.LFG(_l),h.LFG($e),h.LFG(iW))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const fW={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Py],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let pW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Py,fW],imports:[[Hf,E0,oF],oF]}),n})();function mW(n,e){}class PM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const gW={dialogContainer:Bf("dialogContainer",[ju("void, exit",dc({opacity:0,transform:"scale(0.7)"})),ju("enter",dc({transform:"none"})),jf("* => enter",Uf("150ms cubic-bezier(0, 0, 0.2, 1)",dc({transform:"none",opacity:1}))),jf("* => void, * => exit",Uf("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",dc({opacity:0})))])};let vW=(()=>{class n extends V6{constructor(t,r,i,u,m,y,w,S){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=m,this._interactivityChecker=y,this._ngZone=w,this._focusMonitor=S,this._animationStateChanged=new h.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=k=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(k)),this._ariaLabelledBy=m.ariaLabelledBy||null,this._document=u}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=G4(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=G4())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=G4();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(Yg),h.Y36(h.sBO),h.Y36(le,8),h.Y36(PM),h.Y36(V5),h.Y36(h.R0b),h.Y36(Md))},n.\u0275dir=h.lG2({type:n,viewQuery:function(t,r){if(1&t&&h.Gf(H6,7),2&t){let i;h.iGM(i=h.CRH())&&(r._portalOutlet=i.first)}},features:[h.qOj]}),n})(),_W=(()=>{class n extends vW{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&h.WFA("@dialogContainer.start",function(u){return r._onAnimationStart(u)})("@dialogContainer.done",function(u){return r._onAnimationDone(u)}),2&t&&(h.Ikx("id",r._id),h.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),h.d8E("@dialogContainer",r._state))},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&h.YNc(0,mW,0,0,"ng-template",0)},directives:[H6],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[gW.dialogContainer]}}),n})(),yW=0;class gF{constructor(e,t,r="mat-dialog-"+yW++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Zt.x,this._afterClosed=new Zt.x,this._beforeClosed=new Zt.x,this._state=0,t._id=r,t._animationStateChanged.pipe(tr(i=>"opened"===i.state),(0,Ni.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(tr(i=>"closed"===i.state),(0,Ni.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(tr(i=>27===i.keyCode&&!this.disableClose&&!Ng(i))).subscribe(i=>{i.preventDefault(),vF(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():vF(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(tr(t=>"closing"===t.state),(0,Ni.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function vF(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const bW=new h.OlP("MatDialogData"),CW=new h.OlP("mat-dialog-default-options"),_F=new h.OlP("mat-dialog-scroll-strategy"),EW={provide:_F,deps:[Py],useFactory:function(n){return()=>n.scrollStrategies.block()}};let xW=(()=>{class n{constructor(t,r,i,u,m,y,w,S,k,P){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=u,this._overlayContainer=m,this._dialogRefConstructor=w,this._dialogContainerType=S,this._dialogDataToken=k,this._animationMode=P,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Zt.x,this._afterOpenedAtThisLevel=new Zt.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=ad(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ho(void 0))),this._scrollStrategy=y}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){if(r=function(n,e){return gt(gt({},e),n)}(r,this._defaultOptions||new PM),r.id&&this.getDialogById(r.id),this._dialogAnimatingOpen)return this._lastDialogRef;const i=this._createOverlay(r),u=this._attachDialogContainer(i,r);if("NoopAnimations"!==this._animationMode){const y=u._animationStateChanged.subscribe(w=>{"opening"===w.state&&(this._dialogAnimatingOpen=!0),"opened"===w.state&&(this._dialogAnimatingOpen=!1,y.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new ws.w0),this._animationStateSubscriptions.add(y)}const m=this._attachDialogContent(t,u,i,r);return this._lastDialogRef=m,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(m),m.afterClosed().subscribe(()=>this._removeOpenDialog(m)),this.afterOpened.next(m),u._initializeWithAttachedContent(),m}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new uF({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const u=h.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:PM,useValue:r}]}),m=new C0(this._dialogContainerType,r.viewContainerRef,u,r.componentFactoryResolver);return t.attach(m).instance}_attachDialogContent(t,r,i,u){const m=new this._dialogRefConstructor(i,r,u.id);if(t instanceof h.Rgc)r.attachTemplatePortal(new w0(t,null,{$implicit:u.data,dialogRef:m}));else{const y=this._createInjector(u,m,r),w=r.attachComponentPortal(new C0(t,u.viewContainerRef,y));m.componentInstance=w.instance}return m.updateSize(u.width,u.height).updatePosition(u.position),m}_createInjector(t,r,i){const u=t&&t.viewContainerRef&&t.viewContainerRef.injector,m=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!u||!u.get(_l,null,h.XFs.Optional))&&m.push({provide:_l,useValue:{value:t.direction,change:Ct()}}),h.zs3.create({parent:u||this._injector,providers:m})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,u)=>{i?u.setAttribute("aria-hidden",i):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let u=r[i];u!==t&&"SCRIPT"!==u.nodeName&&"STYLE"!==u.nodeName&&!u.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275dir=h.lG2({type:n}),n})(),yF=(()=>{class n extends xW{constructor(t,r,i,u,m,y,w,S){super(t,r,u,y,w,m,gF,_W,bW,S)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Py),h.LFG(h.zs3),h.LFG($e,8),h.LFG(CW,8),h.LFG(_F),h.LFG(n,12),h.LFG(OM),h.LFG(Yc,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),bF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[yF,EW],imports:[[pW,E0,Hi],Hi]}),n})(),CF=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","appSliderItem",""]]}),n})();const TW=["slides"],IW=[[["","appSliderItem",""]]],MW=["[appSliderItem]"];let DW=(()=>{class n{constructor(){this.slidesIndex=0}get currentItem(){var t;return null===(t=this.items)||void 0===t?void 0:t.find((r,i)=>i===this.slidesIndex)}ngAfterContentInit(){console.log("items",this.items)}ngAfterViewInit(){console.log("slides",this.slidesContainer)}onClickTop(){this.slidesContainer.nativeElement.scrollTop-=this.currentItem.nativeElement.offsetHeight,console.log("Top"),this.slidesIndex>0&&this.slidesIndex--}onClickDown(){console.log("down"),this.slidesContainer.nativeElement.scrollTop+=this.currentItem.nativeElement.offsetHeight,this.slidesIndex<this.items.length-1&&this.slidesIndex++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-slider"]],contentQueries:function(t,r,i){if(1&t&&h.Suo(i,CF,4,h.SBq),2&t){let u;h.iGM(u=h.CRH())&&(r.items=u)}},viewQuery:function(t,r){if(1&t&&h.Gf(TW,5),2&t){let i;h.iGM(i=h.CRH())&&(r.slidesContainer=i.first)}},ngContentSelectors:MW,decls:4,vars:0,consts:[[1,"slider-container"],[1,"slides"],["slides",""]],template:function(t,r){1&t&&(h.F$t(IW),h.TgZ(0,"div",0),h.TgZ(1,"div",1,2),h.Hsn(3,0,["#sliderItem",""]),h.qZA(),h.qZA())},styles:[".slider-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;max-height:80vh;position:sticky}.slides[_ngcontent-%COMP%]{display:flex;overflow-x:scroll;flex-direction:column;scroll-behavior:smooth;width:100%}.slides[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px;background:transparent}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center}[appSliderItem][_ngcontent-%COMP%]{flex-shrink:0}"]}),n})();class AW{}let wF=(()=>{class n{constructor(t){this.afs=t,this.commentsCollection=this.afs.collection("comments",r=>r.orderBy("published"))}getComments(t){return this.afs.collection(`comments/${t}/comments_list`,r=>r.orderBy("published")).snapshotChanges().pipe((0,Tt.U)(r=>r.map(i=>{const u=i.payload.doc.data(),m=i.payload.doc.id;return console.log(u),Object.assign({id:m},u)})))}getCommentData(t,r){return this.commentDoc=this.afs.doc(`comments/${t}/comments_list/${r}`),this.commentDoc.valueChanges()}create(t,r){this.afs.collection(`comments/${t}/comments_list`).add(r)}getComment(t,r){return this.afs.doc(`comments/${t}/comments_list/${r}`)}delete(t,r){return this.getComment(t,r).delete()}update(t,r,i){return this.getComment(t,r).update(i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(mM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),EF=(()=>{class n{constructor(t){this.factoryResolver=t,this.factoryResolver=t}addDynamicComponent(t,r){if(!t)return;t.clear();const u=this.factoryResolver.resolveComponentFactory(xF).create(t.parentInjector);u.instance.newComment=r,t.insert(u.hostView)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h._Vd))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const kW=["dynamic"];function RW(n,e){if(1&n&&(h.TgZ(0,"div",12),h._uU(1," \xa0"),h.qZA()),2&n){const t=h.oxw().$implicit;h.Q6J("mathContent",t.content)}}function NW(n,e){if(1&n&&(h.TgZ(0,"small"),h._uU(1),h.ALo(2,"date"),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(1),h.hij("on ",h.xi3(2,1,(t.updated||t.published).toDate(),"medium"),"")}}function OW(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"mat-card-actions",13),h.TgZ(1,"button",14),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit;return h.oxw(2).editCommentId=i.id}),h.TgZ(2,"mat-icon"),h._uU(3,"edit"),h.qZA(),h.qZA(),h.TgZ(4,"button",14),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit;return h.oxw(2).onDelete(i.id)}),h.TgZ(5,"mat-icon"),h._uU(6,"delete"),h.qZA(),h.qZA(),h.qZA()}}function PW(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div"),h.TgZ(1,"textarea",15),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().$implicit.content=i}),h.qZA(),h.TgZ(2,"button",16),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw(2);return u.onEdit(i),u.editCommentId=""}),h._uU(3,"save"),h.qZA(),h._uU(4," \xa0 "),h.TgZ(5,"button",16),h.NdJ("click",function(){return h.CHM(t),h.oxw(3).editCommentId=""}),h._uU(6,"cancel"),h.qZA(),h.qZA()}if(2&n){const t=h.oxw().$implicit;h.xp6(1),h.Q6J("ngModel",t.content)}}function LW(n,e){}function FW(n,e){1&n&&(h.TgZ(0,"div",17),h.YNc(1,LW,0,0,"ng-template",null,18,h.W1O),h.qZA())}function zW(n,e){if(1&n&&(h.TgZ(0,"div",7),h.TgZ(1,"div"),h.TgZ(2,"b"),h._uU(3),h.qZA(),h._uU(4," writes :\xa0 "),h.YNc(5,RW,2,1,"div",8),h.YNc(6,NW,3,4,"small",9),h.qZA(),h.YNc(7,OW,7,0,"mat-card-actions",10),h.YNc(8,PW,7,1,"div",9),h.YNc(9,FW,3,0,"div",11),h.qZA()),2&n){const t=e.$implicit,r=h.oxw(2);h.xp6(3),h.hij("",t.author||"Anonymous"," "),h.xp6(2),h.Q6J("ngIf",r.editCommentId!==t.id),h.xp6(1),h.Q6J("ngIf",r.editCommentId!=t.id),h.xp6(1),h.Q6J("ngIf",r.auth.currentUserId===t.authorId&&r.editCommentId!==t.id),h.xp6(1),h.Q6J("ngIf",r.editCommentId==t.id),h.xp6(1),h.Q6J("ngIf",r.viewReplyId==t.id)}}function VW(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h.TgZ(2,"input",3),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().newComment.content=i}),h.qZA(),h.TgZ(3,"div",4),h.TgZ(4,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().onComment()}),h._uU(5," Comment "),h.qZA(),h.qZA(),h.qZA(),h.YNc(6,zW,10,6,"div",6),h.ALo(7,"async"),h.qZA()}if(2&n){const t=h.oxw();h.xp6(2),h.Q6J("ngModel",t.newComment.content),h.xp6(2),h.Q6J("disabled",!t.newComment.content),h.xp6(2),h.Q6J("ngForOf",h.lcZ(7,3,t.comments))}}let xF=(()=>{class n{constructor(t,r,i,u){this.auth=t,this.route=r,this.commentService=i,this.dynComponent=u,this.newComment=new AW,this.newComment.authorId=t.currentUserId,this.viewReplyId=""}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.comments=this.commentService.getComments(t)}onComment(){const t=this.route.snapshot.paramMap.get("id"),r=new Date,i={author:this.auth.authState.displayName||this.auth.authState.email,authorId:this.auth.currentUserId,content:this.newComment.content,published:r,history:this.newComment.content+" on "+r.toDateString()+"\n"};this.commentService.create(t,i),setTimeout(()=>this.newComment.content="",3e3)}onEdit(t){const r=this.route.snapshot.paramMap.get("id"),i=new Date;t.history=(t.history||"").concat(t.content+" on "+i.toDateString()+"\n"),this.commentService.update(r,t.id,{content:t.content,updated:i,history:t.history})}onDelete(t){const r=this.route.snapshot.paramMap.get("id");this.commentService.delete(r,t)}onViewReply(t){this.dynComponent.addDynamicComponent(this.viewContainerRef,t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(g2),h.Y36(yi),h.Y36(wF),h.Y36(EF))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-comment"]],viewQuery:function(t,r){if(1&t&&h.Gf(kW,5,h.s_b),2&t){let i;h.iGM(i=h.CRH())&&(r.viewContainerRef=i.first)}},decls:2,vars:3,consts:[["class","container","width","40%",4,"ngIf"],["width","40%",1,"container"],[1,"editor"],["type","text","placeholder","put a comment...","name","content","maxlength","500",1,"comment",3,"ngModel","ngModelChange"],[1,"btns"],[3,"disabled","click"],["class","comment-item",4,"ngFor","ngForOf"],[1,"comment-item"],[3,"mathContent",4,"ngIf"],[4,"ngIf"],["style","padding-left: 2%;",4,"ngIf"],["class","dynamicContainer",4,"ngIf"],[3,"mathContent"],[2,"padding-left","2%"],["mat-icon-button","",3,"click"],["rows","5","maxlength","500",2,"width","100%",3,"ngModel","ngModelChange"],[3,"click"],[1,"dynamicContainer"],["dynamic",""]],template:function(t,r){1&t&&(h.YNc(0,VW,8,5,"div",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,r.auth.afAuth.authState))},directives:[pi,f3,qn,Lh,mc,so,AM,_8,u3,Gh],pipes:[Nl,fu],styles:[".container[_ngcontent-%COMP%]{border-radius:5px;border:1px solid lightgray;padding:15px;margin:10px auto;max-width:90%}.container[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]{margin-top:10px;display:flex}.container[_ngcontent-%COMP%]   .dynamicContainer[_ngcontent-%COMP%]{margin-left:50px}.container[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]   input.comment[_ngcontent-%COMP%]{width:100%;border-top:none;border-left:none;border-right:none;margin-bottom:10px;outline:none}"]}),n})();const HW=["ref"];function SF(n){return n&&n.replace(/\r\n|\r/g,"\n")}let BW=(()=>{class n{constructor(t,r){this._differs=t,this._ngZone=r,this.className="",this.name="codemirror",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new h.vpe,this.focusChange=new h.vpe,this.scroll=new h.vpe,this.drop=new h.vpe,this.value="",this.disabled=!1,this.isFocused=!1,this.onChange=i=>{},this.onTouched=()=>{}}set options(t){this._options=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}get codeMirrorGlobal(){return this._codeMirror||(this._codeMirror="undefined"!=typeof CodeMirror?CodeMirror:Promise.resolve().then(V.t.bind(V,5233,19))),this._codeMirror}ngAfterViewInit(){var t=this;this._ngZone.runOutsideAngular((0,Ne.Z)(function*(){const r=yield t.codeMirrorGlobal;t.codeMirror=((null==r?void 0:r.default)?r.default:r).fromTextArea(t.ref.nativeElement,t._options),t.codeMirror.on("cursorActivity",u=>t._ngZone.run(()=>t.cursorActive(u))),t.codeMirror.on("scroll",t.scrollChanged.bind(t)),t.codeMirror.on("blur",()=>t._ngZone.run(()=>t.focusChanged(!1))),t.codeMirror.on("focus",()=>t._ngZone.run(()=>t.focusChanged(!0))),t.codeMirror.on("change",(u,m)=>t._ngZone.run(()=>t.codemirrorValueChanged(u,m))),t.codeMirror.on("drop",(u,m)=>{t._ngZone.run(()=>t.dropFiles(u,m))}),t.codeMirror.setValue(t.value)}))}ngDoCheck(){if(!this._differ)return;const t=this._differ.diff(this._options);t&&(t.forEachChangedItem(r=>this.setOptionIfChanged(r.key,r.currentValue)),t.forEachAddedItem(r=>this.setOptionIfChanged(r.key,r.currentValue)),t.forEachRemovedItem(r=>this.setOptionIfChanged(r.key,r.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(t,r){const i=t.getValue();this.value!==i&&(this.value=i,this.onChange(this.value))}setOptionIfChanged(t,r){!this.codeMirror||this.codeMirror.setOption(t,r)}focusChanged(t){this.onTouched(),this.isFocused=t,this.focusChange.emit(t)}scrollChanged(t){this.scroll.emit(t.getScrollInfo())}cursorActive(t){this.cursorActivity.emit(t)}dropFiles(t,r){this.drop.emit([t,r])}writeValue(t){if(null==t)return;if(!this.codeMirror)return void(this.value=t);const r=this.codeMirror.getValue();if(t!==r&&SF(r)!==SF(t))if(this.value=t,this.preserveScrollPosition){const i=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(i.left,i.top)}else this.codeMirror.setValue(this.value)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this.setOptionIfChanged("readOnly",this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.aQg),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["ngx-codemirror"]],viewQuery:function(t,r){if(1&t&&h.Gf(HW,5),2&t){let i;h.iGM(i=h.CRH())&&(r.ref=i.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll",drop:"drop"},features:[h._Bn([{provide:Qc,useExisting:(0,h.Gpc)(()=>n),multi:!0}])],decls:3,vars:7,consts:[["autocomplete","off",3,"name","autofocus"],["ref",""]],template:function(t,r){1&t&&(h.TgZ(0,"textarea",0,1),h._uU(2,"    "),h.qZA()),2&t&&(h.Gre("ngx-codemirror ",r.className,""),h.ekj("ngx-codemirror--focused",r.isFocused),h.Q6J("name",r.name)("autofocus",r.autoFocus))},encapsulation:2,changeDetection:0}),n})(),TF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const UW=["codeMirror"];let jW=(()=>{class n{constructor(){this.codeMirrorOptions={mode:"python",theme:"shadowfox",lineWrapping:!0,foldGutter:!0,autoCloseBrackets:!0,matchBrackets:!0,lint:!0,indentUnit:4,value:""},this.config={theme:"shadowfox",lineWrapping:!0,foldGutter:!0,indentUnit:4,mode:"markdown",extraKeys:{"Ctrl-Space":"autocomplete"}}}ngOnInit(){setTimeout(()=>{var t,r;return null===(r=null===(t=this.codeEditorCmp)||void 0===t?void 0:t.codeMirror)||void 0===r?void 0:r.refresh()},1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-code-modal"]],viewQuery:function(t,r){if(1&t&&h.Gf(UW,5),2&t){let i;h.iGM(i=h.CRH())&&(r.codeEditorCmp=i.first)}},inputs:{codeText:"codeText"},decls:1,vars:2,consts:[[3,"options","ngModel","ngModelChange"]],template:function(t,r){1&t&&(h.TgZ(0,"ngx-codemirror",0),h.NdJ("ngModelChange",function(u){return r.codeText=u}),h.qZA()),2&t&&h.Q6J("options",r.config)("ngModel",r.codeText)},directives:[BW,Lh,mc],styles:[""]}),n})(),GW=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Ha(t)}get inset(){return this._inset}set inset(t){this._inset=Ha(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,r){2&t&&(h.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),h.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),qW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Hi],Hi]}),n})();function $W(n,e){1&n&&(h.TgZ(0,"div",10),h.TgZ(1,"mat-icon",11),h._uU(2,"favorite"),h.qZA(),h.qZA())}function WW(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",12),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(3);return i.like(),i.liked=!0}),h.TgZ(1,"mat-icon",11),h._uU(2,"favorite_border"),h.qZA(),h.qZA()}}function ZW(n,e){if(1&n&&(h.TgZ(0,"div",7),h.YNc(1,$W,3,0,"div",8),h.YNc(2,WW,3,0,"div",9),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.Q6J("ngIf",t.liked),h.xp6(1),h.Q6J("ngIf",!t.liked)}}function KW(n,e){if(1&n&&(h.TgZ(0,"mat-card-content"),h._UZ(1,"app-code-modal",35),h.qZA()),2&n){const t=h.oxw().index,r=h.oxw(2);h.xp6(1),h.Q6J("codeText",r.codeTextArray[t])}}function YW(n,e){if(1&n&&(h.TgZ(0,"h1",40),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(1),h.hij("",t.title," ")}}function QW(n,e){if(1&n&&(h.TgZ(0,"mat-card",36),h.TgZ(1,"mat-card-content",37),h.YNc(2,YW,2,1,"h1",38),h.qZA(),h._UZ(3,"mat-divider",39),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(2),h.Q6J("ngIf",t.title)}}function JW(n,e){if(1&n&&(h.TgZ(0,"mat-card",15),h.TgZ(1,"mat-card-content"),h._UZ(2,"h3",41),h.qZA(),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(2),h.Q6J("mathContent",t.content)}}function XW(n,e){if(1&n&&(h.TgZ(0,"mat-card"),h.TgZ(1,"mat-card-content"),h._UZ(2,"app-code-modal",35),h.qZA(),h.qZA()),2&n){const t=h.oxw(2).index,r=h.oxw(2);h.xp6(2),h.Q6J("codeText",r.codeTextArray[t])}}function eZ(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",15),h.TgZ(1,"button",42),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().index;return h.oxw(2).toggleCode(i)}),h._uU(2,"Code"),h.qZA(),h.YNc(3,XW,3,1,"mat-card",0),h.qZA()}if(2&n){const t=h.oxw().index,r=h.oxw(2);h.xp6(3),h.Q6J("ngIf",r.dispCode.has(t)&&r.dispCode.get(t))}}function tZ(n,e){if(1&n&&(h.TgZ(0,"mat-card",43),h._UZ(1,"img",24),h.TgZ(2,"mat-card-content",44),h.TgZ(3,"p"),h._uU(4),h.qZA(),h.qZA(),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(1),h.s9C("src",t.image,h.LSH),h.xp6(3),h.Oqu("Fig. "+t.caption||0)}}function nZ(n,e){if(1&n&&(h.TgZ(0,"mat-card",43),h.TgZ(1,"mat-card-content",44),h.TgZ(2,"p"),h._uU(3),h.qZA(),h.qZA(),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(3),h.Oqu(t.sidenote||"")}}function rZ(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"mat-card",45),h.TgZ(1,"mat-card-actions"),h.TgZ(2,"button",12),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().index;return h.oxw(2).editId=i}),h.TgZ(3,"mat-icon"),h._uU(4,"edit"),h.qZA(),h.qZA(),h.TgZ(5,"button",12),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().index;return h.oxw(2).delete(i)}),h.TgZ(6,"mat-icon"),h._uU(7,"delete"),h.qZA(),h.qZA(),h.TgZ(8,"button",12),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().index;return h.oxw(2).insert(i)}),h.TgZ(9,"mat-icon"),h._uU(10,"add"),h.qZA(),h.qZA(),h.qZA(),h.qZA()}}function iZ(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",13),h.TgZ(1,"div",14),h.TgZ(2,"mat-card",15),h.TgZ(3,"h2"),h._uU(4," Update Post "),h.qZA(),h.TgZ(5,"mat-form-field"),h.TgZ(6,"input",16),h.NdJ("ngModelChange",function(i){return h.CHM(t).$implicit.title=i}),h.qZA(),h.qZA(),h.TgZ(7,"mat-form-field"),h.TgZ(8,"textarea",17),h.NdJ("ngModelChange",function(i){return h.CHM(t).$implicit.content=i}),h.qZA(),h.qZA(),h.TgZ(9,"mat-form-field"),h.TgZ(10,"textarea",18),h.NdJ("ngModelChange",function(i){return h.CHM(t).$implicit.sidenote=i}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(11,"mat-card",19),h.YNc(12,KW,2,1,"mat-card-content",0),h.TgZ(13,"div",20),h.TgZ(14,"button",21),h.NdJ("click",function(){const u=h.CHM(t).index;return h.oxw(2).removeCode(u)}),h._uU(15,"Remove"),h.qZA(),h.TgZ(16,"label",22),h._uU(17,"Upload"),h.qZA(),h.TgZ(18,"input",23),h.NdJ("change",function(i){const m=h.CHM(t).index;return h.oxw(2).addCode(i,m)}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(19,"mat-card",19),h._UZ(20,"img",24),h.TgZ(21,"div",20),h.TgZ(22,"button",21),h.NdJ("click",function(){const u=h.CHM(t).index;return h.oxw(2).removeImage(u)}),h._uU(23,"Remove"),h.qZA(),h.TgZ(24,"label",22),h._uU(25,"Upload"),h.qZA(),h.TgZ(26,"input",23),h.NdJ("change",function(i){const m=h.CHM(t).index;return h.oxw(2).addImage(i,m)}),h.qZA(),h.qZA(),h.TgZ(27,"mat-form-field"),h.TgZ(28,"input",25),h.NdJ("ngModelChange",function(i){return h.CHM(t).$implicit.caption=i}),h.qZA(),h.qZA(),h.TgZ(29,"div",26),h.TgZ(30,"button",27),h.NdJ("click",function(){return h.CHM(t),h.oxw(2).updatePost()}),h._uU(31,"Save"),h.qZA(),h.TgZ(32,"button",28),h.NdJ("click",function(){return h.CHM(t),h.oxw(2).editId=-1}),h._uU(33,"Cancel"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(34,"div",29),h.YNc(35,QW,4,1,"mat-card",30),h.TgZ(36,"div",31),h.YNc(37,JW,3,1,"mat-card",32),h.YNc(38,eZ,4,1,"div",32),h.YNc(39,tZ,5,2,"mat-card",33),h.YNc(40,nZ,4,1,"mat-card",33),h.YNc(41,rZ,11,0,"mat-card",34),h.qZA(),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=h.oxw(2);h.xp6(1),h.Q6J("hidden",i.editId!=r),h.xp6(5),h.Q6J("ngModel",t.title),h.xp6(2),h.Q6J("ngModel",t.content),h.xp6(2),h.Q6J("ngModel",t.sidenote),h.xp6(2),h.Q6J("ngIf",t.code),h.xp6(4),h.MGl("for","codefile",r,""),h.xp6(2),h.MGl("id","codefile",r,""),h.xp6(2),h.s9C("src",t.image,h.LSH),h.xp6(4),h.MGl("for","imgfile",r,""),h.xp6(2),h.MGl("id","imgfile",r,""),h.xp6(2),h.Q6J("ngModel",t.caption),h.xp6(2),h.Q6J("disabled",!i.post.title||!i.post.content),h.xp6(4),h.Q6J("hidden",i.editId==r),h.xp6(1),h.Q6J("ngIf",t.title),h.xp6(2),h.Q6J("ngIf",t.content),h.xp6(1),h.Q6J("ngIf",t.code),h.xp6(1),h.Q6J("ngIf",t.image),h.xp6(1),h.Q6J("ngIf",t.sidenote),h.xp6(1),h.Q6J("ngIf",i.auth.currentUserId===i.post.authorId)}}function sZ(n,e){if(1&n&&(h.ynx(0),h.TgZ(1,"div",1),h.TgZ(2,"h1",2),h._uU(3),h.qZA(),h.YNc(4,ZW,3,2,"div",3),h.qZA(),h.TgZ(5,"app-slider",4),h.YNc(6,iZ,42,19,"div",5),h.qZA(),h.TgZ(7,"div",6),h.TgZ(8,"p"),h._uU(9),h._UZ(10,"br"),h._uU(11),h.ALo(12,"date"),h.qZA(),h.qZA(),h._UZ(13,"app-comment"),h.BQk()),2&n){const t=h.oxw();h.xp6(3),h.hij("",t.post.title," "),h.xp6(1),h.Q6J("ngIf",t.auth.currentUserId!=t.post.authorId),h.xp6(2),h.Q6J("ngForOf",t.post.content),h.xp6(3),h.hij("Posted by: ",t.post.author," "),h.xp6(2),h.hij(" ",h.xi3(12,5,t.post.published.toDate(),"fullDate"),"")}}let oZ=(()=>{class n{constructor(t,r,i,u,m,y,w){this.router=t,this.dialog=r,this.auth=i,this.route=u,this.postService=m,this.storage=y,this.http=w,this.editId=-1,this.liked=!1,this.dispCode=new Map,this.codeTextArray=[]}ngOnInit(){this.getPost(),console.log(this)}loadCode(t){this.post=t;for(let r=0;r<this.post.content.length;r++)this.codeTextArray[r]="",this.post.content[r].code&&this.http.get(this.post.content[r].code,{responseType:"text"}).subscribe(i=>{this.codeTextArray[r]=i})}getPost(){const t=this.route.snapshot.paramMap.get("id");return this.postService.getPostData(t).subscribe(r=>this.loadCode(r))}delete(t){var r,i;this.removeImage(t),null===(i=null===(r=this.post)||void 0===r?void 0:r.content)||void 0===i||i.splice(t,1)}removeImage(t){const r=this.post.content[t].image;""!=r&&(this.storage.storage.refFromURL(r).delete(),this.post.content[t].image="")}removeCode(t){const r=this.post.content[t].code;console.log("here"),console.log(r),""!=r&&(this.storage.storage.refFromURL(r).delete(),this.post.content[t].code="")}addImage(t,r){this.removeImage(r);const i=t.target.files[0],u="posts/"+Hm()+"_"+i.name;if("image"!==i.type.split("/")[0])return alert("only image files");this.storage.upload(u,i).snapshotChanges().pipe(Ft(()=>{const y=this.storage.ref(u);console.log(y),y.getDownloadURL().subscribe(w=>this.post.content[r].image=w)})).subscribe(),console.log("Image uploaded!")}addCode(t,r){this.removeCode(r);const i=t.target.files[0],u="posts/"+Hm()+"_"+i.name;this.storage.upload(u,i).snapshotChanges().pipe(Ft(()=>{const y=this.storage.ref(u);console.log(y),y.getDownloadURL().subscribe(w=>this.post.content[r].code=w)})).subscribe(),console.log("Code uploaded!")}insert(t){this.post.content.splice(t+1,0,{title:"",sidenote:"",content:"Update Text",image:"",code:"",caption:""})}like(){var t;const r={likes:((null===(t=this.post)||void 0===t?void 0:t.likes)||0)+1},i=this.route.snapshot.paramMap.get("id");this.postService.update(i,r)}updatePost(){var t,r;const i={title:null===(t=this.post)||void 0===t?void 0:t.title,content:null===(r=this.post)||void 0===r?void 0:r.content},u=this.route.snapshot.paramMap.get("id");this.postService.update(u,i),this.editId=-1}toggleCode(t){this.dispCode.has(t)?this.dispCode.set(t,!this.dispCode.get(t)):this.dispCode.set(t,!0)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(wr),h.Y36(yF),h.Y36(g2),h.Y36(yi),h.Y36(ky),h.Y36(MM),h.Y36(np))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-post-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"header"],[2,"font-family","Georgia, 'Times New Roman', Times, serif"],["class","like-button",4,"ngIf"],[1,"container"],["appSliderItem","",4,"ngFor","ngForOf"],[1,"footer"],[1,"like-button"],["mat-icon-button","",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button",""],[1,"material-icons","color_blue"],["mat-icon-button","",3,"click"],["appSliderItem",""],[1,"desc-img",3,"hidden"],[1,"desc-card"],["matInput","","placeholder","Section title",3,"ngModel","ngModelChange"],["matInput","","placeholder","Type here...","rows","20",3,"ngModel","ngModelChange"],["matInput","","placeholder","Add a sidenote...","rows","5",3,"ngModel","ngModelChange"],[1,"img-card",2,"width","35%"],[2,"display","flex"],["mat-button","","color","accent",2,"margin","5px","height","40px","background-color","white",3,"click"],[1,"btn",2,"color","snow","background-color","rgb(11, 156, 214)","margin","5px",3,"for"],["type","file",2,"visibility","hidden",3,"id","change"],["mat-card-image","",3,"src"],["matInput","","placeholder","Caption",3,"ngModel","ngModelChange"],[2,"margin-top","200px"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-button","",3,"click"],[3,"hidden"],["class","desc-card","style","margin-bottom: 0px;",4,"ngIf"],[1,"desc-img"],["class","desc-card",4,"ngIf"],["class","img-card",4,"ngIf"],["class","action-card","align","end",4,"ngIf"],[3,"codeText"],[1,"desc-card",2,"margin-bottom","0px"],[2,"padding-left","5px","margin","0px"],["style","font-family:Georgia, 'Times New Roman', Times, serif; color:deepskyblue",4,"ngIf"],["vertical","",2,"height","2px","background-color","gray"],[2,"font-family","Georgia, 'Times New Roman', Times, serif","color","deepskyblue"],[3,"mathContent"],["mat-button","",2,"background-color","cadetblue","margin","10px",3,"click"],[1,"img-card"],[2,"max-width","100%","height","20%"],["align","end",1,"action-card"]],template:function(t,r){1&t&&h.YNc(0,sZ,14,8,"ng-container",0),2&t&&h.Q6J("ngIf",r.post)},directives:[pi,DW,so,xF,Gh,CF,J0,yv,Cv,f3,Lh,mc,u3,T3,v8,jW,GW,AM,_8],pipes:[fu],styles:[".container[_ngcontent-%COMP%]{display:flex;flex:1 1 0px;margin-left:auto;margin-top:2%}.spacer[_ngcontent-%COMP%]{width:10px;height:100%;background-color:#1480fa86}.desc-img[_ngcontent-%COMP%]{display:flex;align-items:stretch;background-color:transparent}.header[_ngcontent-%COMP%]{display:inline-flex;margin-left:14%}.footer[_ngcontent-%COMP%]{margin-left:74%;padding-top:50px;padding-bottom:50px}mat-card[_ngcontent-%COMP%]{border-radius:0}.desc-card[_ngcontent-%COMP%]{max-width:80%;width:70%;padding-top:10px;background-color:#fdf5d7;margin-bottom:5px}.img-card[_ngcontent-%COMP%]{max-width:100%;min-width:25%;margin-right:auto;margin-left:10px}img[_ngcontent-%COMP%]{max-width:95%;margin:auto;padding:5px}mat-form-field[_ngcontent-%COMP%]{width:100%}.action-card[_ngcontent-%COMP%]{max-width:15%;height:-moz-fit-content;height:fit-content;padding:10px;display:flex}.material-icons.color_green[_ngcontent-%COMP%]{color:#0f0}.material-icons.color_white[_ngcontent-%COMP%]{color:#fff}.material-icons.color_red[_ngcontent-%COMP%]{color:#f30b0b}.material-icons.color_blue[_ngcontent-%COMP%]{color:#0880f0}.material-icons[_ngcontent-%COMP%]{display:flex;align-items:middle;outline:none!important;outline-style:none!important;cursor:pointer;margin:0}.material-icons[_ngcontent-%COMP%]:focus{outline:none;border:0}.material-icons[_ngcontent-%COMP%]:hover{transform:scale(1.1);text-shadow:0 0 2px #0184ff}.like-button[_ngcontent-%COMP%]{margin-left:20px;margin-top:5px}"]}),n})(),aZ=(()=>{class n{constructor(t){console.log("constructor module");const r=document.createElement("script");r.type="text/javascript",r.src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML",r.async=!0,document.getElementsByTagName("head")[0].appendChild(r);const i=document.createElement("script");i.type="text/x-mathjax-config",i.text='\n    MathJax.Hub.Config({\n        skipStartupTypeset: true,\n        tex2jax: { inlineMath: [["$", "$"]],displayMath:[["$$", "$$"]] }\n      });\n      MathJax.Hub.Register.StartupHook(\'End\', () => {\n        window.hubReady.next();\n        window.hubReady.complete();\n      });\n    ',document.getElementsByTagName("head")[0].appendChild(i)}static forChild(){return{ngModule:n,providers:[{provide:Yp,useClass:Yp}]}}static forRoot(){return{ngModule:n,providers:[{provide:Yp,useClass:Yp}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Yp))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();var IF={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},MF={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]};const kne=function(){return["fab","github"]},Rne=function(){return["fab","linkedin"]},Nne=[{path:"about",component:(()=>{class n{constructor(t,r){this.document=t,r.addIcons(IF,MF)}toGithub(){this.document.location.href="https://github.com/bashish101"}toLinkedIn(){this.document.location.href="https://www.linkedin.com/in/ashish-bhattarai-15b6a4124/"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(le),h.Y36(Zk))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-about"]],decls:12,vars:4,consts:[[1,"picture-content","mat-elevation-z8"],["src","../../../assets/images/user_photo.jpg","alt","User photo"],[1,"name"],[1,"media-link",3,"icon","click"]],template:function(t,r){1&t&&(h.TgZ(0,"section"),h.TgZ(1,"mat-card"),h.TgZ(2,"mat-card-header"),h.TgZ(3,"mat-card-title",0),h._UZ(4,"img",1),h.qZA(),h.TgZ(5,"mat-card-subtitle"),h.TgZ(6,"p",2),h._uU(7," \u0906\u0936\u093f\u0937 "),h.qZA(),h.TgZ(8,"fa-icon",3),h.NdJ("click",function(){return r.toGithub()}),h.qZA(),h._uU(9," | "),h.TgZ(10,"fa-icon",3),h.NdJ("click",function(){return r.toLinkedIn()}),h.qZA(),h.qZA(),h.qZA(),h._UZ(11,"mat-card-content"),h.qZA(),h.qZA()),2&t&&(h.xp6(8),h.Q6J("icon",h.DdM(2,kne)),h.xp6(2),h.Q6J("icon",h.DdM(3,Rne)))},directives:[J0,Cx,_x,yx,yV,v8],styles:['section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-auto-rows:auto;grid-gap:10px;margin:0 auto;max-width:95%;min-height:90%}mat-card[_ngcontent-%COMP%]{border-radius:0;width:100%;height:100%;border:none;padding-top:0;margin-top:0}mat-card-header[_ngcontent-%COMP%]{width:100%;padding:20px}mat-card-subtitle[_ngcontent-%COMP%]{max-width:120px;margin-left:auto;padding-top:20px;font-size:x-large;font-family:"Courier New",Courier,monospace}.picture-content[_ngcontent-%COMP%]{margin-left:auto;max-width:150px;border-radius:100%!important;padding:1px;background-color:#cfd8dc;box-shadow:gray}.name[_ngcontent-%COMP%]{max-width:100px;margin-left:auto;font-size:x-large;font-family:Arial,Helvetica,sans-serif}.about[_ngcontent-%COMP%]{margin-top:10px;font-size:large;font-family:Arial,Helvetica,sans-serif}.media-link[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{padding:7px;background-color:#0091ea;width:100%;margin:2px;border-radius:100%}img[_ngcontent-%COMP%]:hover{border:1px solid #042a42;transform:scale(1.8) translate(3px,21px);transition-duration:1s;z-index:3;padding:0;border-radius:0%}']}),n})()},{path:"posts",component:g$},{path:"posts/:id",component:oZ},{path:"create",component:R$}];let DF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ky,wF,EF,{provide:gF,useValue:{}}],imports:[[Wv,p2.forChild(Nne),aZ.forChild(),Kk,TF,bF,qW]]}),n})();const One=[{path:"",redirectTo:"/about",pathMatch:"full"},{path:"",loadChildren:()=>DF}];let Pne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[uA]}),n.\u0275inj=h.cJS({providers:[],imports:[[Gs,c8,TF,bF,_w,p2.forRoot(One),Kk,Fv,na.hO.initializeApp(Cf_firebase),xG,h$,T5,d3,Wv,DF]]}),n})();V(5233),V(1567),V(7417),(0,h.G48)(),Mr().bootstrapModule(Pne).catch(n=>console.error(n))},9162:(pt,xe,V)=>{"use strict";function be(H,Z,te,re){return new(te||(te=Promise))(function(q,ze){function je(Je){try{Ge(re.next(Je))}catch(vt){ze(vt)}}function Rt(Je){try{Ge(re.throw(Je))}catch(vt){ze(vt)}}function Ge(Je){Je.done?q(Je.value):function(q){return q instanceof te?q:new te(function(ze){ze(q)})}(Je.value).then(je,Rt)}Ge((re=re.apply(H,Z||[])).next())})}function _e(H){return this instanceof _e?(this.v=H,this):new _e(H)}function de(H,Z,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,re=te.apply(H,Z||[]),q=[];return Y={},ze("next"),ze("throw"),ze("return"),Y[Symbol.asyncIterator]=function(){return this},Y;function ze(_t){re[_t]&&(Y[_t]=function(Vn){return new Promise(function(Er,cn){q.push([_t,Vn,Er,cn])>1||je(_t,Vn)})})}function je(_t,Vn){try{!function(_t){_t.value instanceof _e?Promise.resolve(_t.value.v).then(Ge,Je):vt(q[0][2],_t)}(re[_t](Vn))}catch(Er){vt(q[0][3],Er)}}function Ge(_t){je("next",_t)}function Je(_t){je("throw",_t)}function vt(_t,Vn){_t(Vn),q.shift(),q.length&&je(q[0][0],q[0][1])}}function Oe(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,Z=H[Symbol.asyncIterator];return Z?Z.call(H):(H=function(H){var Z="function"==typeof Symbol&&Symbol.iterator,te=Z&&H[Z],re=0;if(te)return te.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&re>=H.length&&(H=void 0),{value:H&&H[re++],done:!H}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(H),te={},re("next"),re("throw"),re("return"),te[Symbol.asyncIterator]=function(){return this},te);function re(q){te[q]=H[q]&&function(ze){return new Promise(function(je,Rt){!function(q,ze,je,Rt){Promise.resolve(Rt).then(function(Ge){q({value:Ge,done:je})},ze)}(je,Rt,(ze=H[q](ze)).done,ze.value)})}}}V.d(xe,{mG:()=>be,qq:()=>_e,FC:()=>de,KL:()=>Oe})},4762:(pt,xe,V)=>{"use strict";function we(H,Z){var te={};for(var re in H)Object.prototype.hasOwnProperty.call(H,re)&&Z.indexOf(re)<0&&(te[re]=H[re]);if(null!=H&&"function"==typeof Object.getOwnPropertySymbols){var Y=0;for(re=Object.getOwnPropertySymbols(H);Y<re.length;Y++)Z.indexOf(re[Y])<0&&Object.prototype.propertyIsEnumerable.call(H,re[Y])&&(te[re[Y]]=H[re[Y]])}return te}function ce(H,Z,te,re){var ze,Y=arguments.length,q=Y<3?Z:null===re?re=Object.getOwnPropertyDescriptor(Z,te):re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(H,Z,te,re);else for(var je=H.length-1;je>=0;je--)(ze=H[je])&&(q=(Y<3?ze(q):Y>3?ze(Z,te,q):ze(Z,te))||q);return Y>3&&q&&Object.defineProperty(Z,te,q),q}function fe(H,Z){return function(te,re){Z(te,re,H)}}function le(H,Z){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(H,Z)}V.d(xe,{_T:()=>we,gn:()=>ce,fM:()=>fe,w6:()=>le})},3668:(pt,xe,V)=>{"use strict";V.d(xe,{deG:()=>ld,tb:()=>T9,AFp:()=>kd,ip1:()=>x0,CZH:()=>D2,hGG:()=>GE,z2F:()=>g3,sBO:()=>J6,Sil:()=>I0,_Vd:()=>S2,EJc:()=>eo,SBq:()=>tu,qLn:()=>ls,vpe:()=>ja,tBr:()=>Ms,XFs:()=>bt,OlP:()=>fr,zs3:()=>Gr,ZZ4:()=>b3,aQg:()=>zh,soG:()=>p3,YKP:()=>Yc,h0i:()=>I2,PXZ:()=>P0,R0b:()=>bo,FiY:()=>mr,Lbi:()=>S9,g9A:()=>x9,n_E:()=>c3,Qsj:()=>uw,FYo:()=>r3,JOm:()=>ne,Tiy:()=>D6,q3G:()=>Zn,tp0:()=>Yr,Rgc:()=>Oh,dDg:()=>Lh,q4F:()=>v0,GfV:()=>U7,s_b:()=>N6,ifc:()=>ht,eFA:()=>z9,G48:()=>RA,Gpc:()=>ee,f3M:()=>jn,X6Q:()=>F9,_c5:()=>sv,VLi:()=>A0,c2e:()=>$u,zSh:()=>yh,wAp:()=>Ut,vHH:()=>rt,EiD:()=>oc,mCW:()=>vo,qzn:()=>nc,JVY:()=>V1,pB0:()=>Fc,eBb:()=>rc,L6k:()=>hl,LAX:()=>H1,cg1:()=>t0,Tjo:()=>OE,kL8:()=>Ad,yhl:()=>ih,dqk:()=>nn,sIi:()=>F4,CqO:()=>H5,QGY:()=>Gg,F4k:()=>V5,RDi:()=>b1,AaK:()=>be,z3N:()=>yi,qOj:()=>M5,TTD:()=>Qa,_Bn:()=>T6,xp6:()=>qy,uIk:()=>Rg,Gre:()=>J4,ekj:()=>Q5,Suo:()=>l9,Xpm:()=>Bn,lG2:()=>Ka,Yz7:()=>cn,cJS:()=>Yt,oAB:()=>ma,Yjl:()=>h1,Y36:()=>q4,_UZ:()=>hC,BQk:()=>z5,ynx:()=>Ug,qZA:()=>Bg,TgZ:()=>F5,EpF:()=>jg,n5z:()=>A1,Ikx:()=>Kf,LFG:()=>Ze,$8M:()=>Nc,$Z:()=>P5,NdJ:()=>B5,CRH:()=>qw,kcU:()=>th,O4$:()=>mu,oxw:()=>G5,ALo:()=>Aw,lcZ:()=>kw,xi3:()=>Rw,Hsn:()=>Kg,F$t:()=>Zg,Q6J:()=>Hg,s9C:()=>q5,MGl:()=>$4,DdM:()=>bw,iGM:()=>O6,MAs:()=>iC,CHM:()=>Hs,oJD:()=>ah,LSH:()=>Vc,Udp:()=>Y5,WFA:()=>U5,d8E:()=>Ih,YNc:()=>rC,W1O:()=>P6,_uU:()=>X5,Oqu:()=>Gf,hij:()=>qf,Gf:()=>a9});var h=V(273),pe=V(7908),B=V(8305),we=V(3719),ce=V(3174);function fe(s){for(let o in s)if(s[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function be(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(be).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const J=fe({__forward_ref__:fe});function ee(s){return s.__forward_ref__=ee,s.toString=function(){return be(this())},s}function ue(s){return Xe(s)?s():s}function Xe(s){return"function"==typeof s&&s.hasOwnProperty(J)&&s.__forward_ref__===ee}class rt extends Error{constructor(o,c){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,c)),this.code=o}}function de(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():de(s)}function He(s,o){const c=o?` in ${o}`:"";throw new rt("201",`No provider for ${Ee(s)} found${c}`)}function Je(s,o){null==s&&function(s,o,c,f){throw new Error(`ASSERTION ERROR: ${s}`+(null==f?"":` [Expected=> ${c} ${f} ${o} <=Actual]`))}(o,s,null,"!=")}function cn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Yt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Vr(s){return xr(s,No)||xr(s,ps)}function xr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ps(s){return s&&(s.hasOwnProperty(xi)||s.hasOwnProperty(Oo))?s[xi]:null}const No=fe({\u0275prov:fe}),xi=fe({\u0275inj:fe}),ps=fe({ngInjectableDef:fe}),Oo=fe({ngInjectorDef:fe});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let or;function Wi(s){const o=or;return or=s,o}function Pt(s,o,c){const f=Vr(s);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&bt.Optional?null:void 0!==o?o:void He(be(s),"Injector")}function on(s){return{toString:s}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),ht=(()=>{return(s=ht||(ht={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ht;var s})();const xt="undefined"!=typeof globalThis&&globalThis,ms="undefined"!=typeof window&&window,wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,nn=xt||"undefined"!=typeof global&&global||ms||wt,ie={},Q=[],se=fe({\u0275cmp:fe}),Re=fe({\u0275dir:fe}),Ce=fe({\u0275pipe:fe}),yt=fe({\u0275mod:fe}),It=fe({\u0275fac:fe}),En=fe({__NG_ELEMENT_ID__:fe});let Qn=0;function Bn(s){return on(()=>{const c={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Q,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ht.Emulated,id:"c",styles:s.styles||Q,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.directives,_=s.features,C=s.pipes;return f.id+=Qn++,f.inputs=d1(s.inputs,c),f.outputs=d1(s.outputs),_&&_.forEach(E=>E(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(an):null,f.pipeDefs=C?()=>("function"==typeof C?C():C).map(Sr):null,f})}function an(s){return Jn(s)||function(s){return s[Re]||null}(s)}function Sr(s){return function(s){return s[Ce]||null}(s)}const Ki={};function ma(s){return on(()=>{const o={type:s.type,bootstrap:s.bootstrap||Q,declarations:s.declarations||Q,imports:s.imports||Q,exports:s.exports||Q,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ki[s.id]=s.type),o})}function d1(s,o){if(null==s)return ie;const c={};for(const f in s)if(s.hasOwnProperty(f)){let g=s[f],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),c[g]=f,o&&(o[g]=_)}return c}const Ka=Bn;function h1(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jn(s){return s[se]||null}function yr(s,o){const c=s[yt]||null;if(!c&&!0===o)throw new Error(`Type ${be(s)} does not have '\u0275mod' property.`);return c}function ni(s){return Array.isArray(s)&&"object"==typeof s[1]}function gs(s){return Array.isArray(s)&&!0===s[1]}function m1(s){return 0!=(8&s.flags)}function oo(s){return 2==(2&s.flags)}function Rl(s){return 1==(1&s.flags)}function Xi(s){return null!==s.template}function g1(s){return 0!=(512&s[2])}function Ai(s,o){return s.hasOwnProperty(It)?s[It]:null}class va{constructor(o,c,f){this.previousValue=o,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function Qa(){return y1}function y1(s){return s.type.prototype.ngOnChanges&&(s.setInput=vs),lo}function lo(){const s=_s(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===ie)s.previous=o;else for(let f in o)c[f]=o[f];s.current=null,this.ngOnChanges(o)}}function vs(s,o,c,f){const g=_s(s)||function(s,o){return s[ed]=o}(s,{previous:ie,current:null}),_=g.current||(g.current={}),C=g.previous,E=this.declaredInputs[c],T=C[E];_[E]=new va(T&&T.currentValue,o,C===ie),s[f]=o}Qa.ngInherit=!0;const ed="__ngSimpleChanges__";function _s(s){return s[ed]||null}const Ll="http://www.w3.org/2000/svg";let Vs;function b1(s){Vs=s}function C1(){return void 0!==Vs?Vs:"undefined"!=typeof document?document:void 0}function On(s){return!!s.listen}const Fl={createRenderer:(s,o)=>C1()};function lr(s){for(;Array.isArray(s);)s=s[0];return s}function el(s,o){return lr(o[s])}function Hr(s,o){return lr(o[s.index])}function Vo(s,o){return s.data[o]}function ys(s,o){return s[o]}function mn(s,o){const c=o[s];return ni(c)?c:c[0]}function Ec(s){return 4==(4&s[2])}function tl(s){return 128==(128&s[2])}function ri(s,o){return null==o?null:s[o]}function Ir(s){s[18]=0}function zl(s,o){s[5]+=o;let c=s,f=s[3];for(;null!==f&&(1===o&&1===c[5]||-1===o&&0===c[5]);)f[5]+=o,c=f,f=f[3]}const Vt={lFrame:xa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function E1(){return Vt.bindingsEnabled}function Ue(){return Vt.lFrame.lView}function yn(){return Vt.lFrame.tView}function Hs(s){return Vt.lFrame.contextLView=s,s[8]}function Xn(){let s=bs();for(;null!==s&&64===s.type;)s=s.parent;return s}function bs(){return Vt.lFrame.currentTNode}function br(s,o){const c=Vt.lFrame;c.currentTNode=s,c.isParent=o}function Bl(){return Vt.lFrame.isParent}function Ho(){Vt.lFrame.isParent=!1}function Bo(){return Vt.isInCheckNoChangesMode}function x1(s){Vt.isInCheckNoChangesMode=s}function Zr(){const s=Vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function es(){return Vt.lFrame.bindingIndex++}function ii(s){const o=Vt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function wa(s,o){const c=Vt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Ea(o)}function Ea(s){Vt.lFrame.currentDirectiveIndex=s}function S1(s){const o=Vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function nl(){return Vt.lFrame.currentQueryIndex}function T1(s){Vt.lFrame.currentQueryIndex=s}function Uo(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ic(s,o,c){if(c&bt.SkipSelf){let g=o,_=s;for(;!(g=g.parent,null!==g||c&bt.Host||(g=Uo(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;o=g,s=_}const f=Vt.lFrame=rl();return f.currentTNode=o,f.lView=s,!0}function jl(s){const o=rl(),c=s[1];Vt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function rl(){const s=Vt.lFrame,o=null===s?null:s.child;return null===o?xa(s):o}function xa(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function I1(){const s=Vt.lFrame;return Vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const jo=I1;function mi(){const s=I1();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Lr(){return Vt.lFrame.selectedIndex}function Go(s){Vt.lFrame.selectedIndex=s}function Un(){const s=Vt.lFrame;return Vo(s.tView,s.selectedIndex)}function mu(){Vt.lFrame.currentNamespace=Ll}function th(){Vt.lFrame.currentNamespace=null}function js(s,o){for(let c=o.directiveStart,f=o.directiveEnd;c<f;c++){const _=s.data[c].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:O}=_;C&&(s.contentHooks||(s.contentHooks=[])).push(-c,C),E&&((s.contentHooks||(s.contentHooks=[])).push(c,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,E)),T&&(s.viewHooks||(s.viewHooks=[])).push(-c,T),A&&((s.viewHooks||(s.viewHooks=[])).push(c,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,A)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(c,O)}}function Sa(s,o,c){gu(s,o,3,c)}function Cs(s,o,c,f){(3&s[2])===c&&gu(s,o,c,f)}function ql(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function gu(s,o,c,f){const _=null!=f?f:-1,C=o.length-1;let E=0;for(let T=void 0!==f?65535&s[18]:0;T<C;T++)if("number"==typeof o[T+1]){if(E=o[T],null!=f&&E>=f)break}else o[T]<0&&(s[18]+=65536),(E<_||-1==_)&&(sl(s,c,o,T),s[18]=(4294901760&s[18])+T+2),T++}function sl(s,o,c,f){const g=c[f]<0,_=c[f+1],E=s[g?-c[f]:c[f]];if(g){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{_.call(E)}finally{}}}else try{_.call(E)}finally{}}class Mr{constructor(o,c,f){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function Wl(s,o,c){const f=On(s);let g=0;for(;g<c.length;){const _=c[g];if("number"==typeof _){if(0!==_)break;g++;const C=c[g++],E=c[g++],T=c[g++];f?s.setAttribute(o,E,T,C):o.setAttributeNS(C,E,T)}else{const C=_,E=c[++g];Br(C)?f&&s.setProperty(o,C,E):f?s.setAttribute(o,C,E):o.setAttribute(C,E),g++}}return g}function Ac(s){return 3===s||4===s||6===s}function Br(s){return 64===s.charCodeAt(0)}function ns(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let f=0;f<o.length;f++){const g=o[f];"number"==typeof g?c=g:0===c||vu(s,c,g,null,-1===c||2===c?o[++f]:null)}}return s}function vu(s,o,c,f,g){let _=0,C=s.length;if(-1===o)C=-1;else for(;_<s.length;){const E=s[_++];if("number"==typeof E){if(E===o){C=-1;break}if(E>o){C=_-1;break}}}for(;_<s.length;){const E=s[_];if("number"==typeof E)break;if(E===c){if(null===f)return void(null!==g&&(s[_+1]=g));if(f===s[_+1])return void(s[_+2]=g)}_++,null!==f&&_++,null!==g&&_++}-1!==C&&(s.splice(C,0,o),_=C+1),s.splice(_++,0,c),null!==f&&s.splice(_++,0,f),null!==g&&s.splice(_++,0,g)}function _u(s){return-1!==s}function gi(s){return 32767&s}function er(s,o){let c=function(s){return s>>16}(s),f=o;for(;c>0;)f=f[15],c--;return f}let Ia=!0;function kc(s){const o=Ia;return Ia=s,o}let sd=0;function Ri(s,o){const c=Zt(s,o);if(-1!==c)return c;const f=o[1];f.firstCreatePass&&(s.injectorIndex=o.length,Ct(f.data,s),Ct(o,null),Ct(f.blueprint,null));const g=Dr(s,o),_=s.injectorIndex;if(_u(g)){const C=gi(g),E=er(g,o),T=E[1].data;for(let A=0;A<8;A++)o[_+A]=E[C+A]|T[C+A]}return o[_+8]=g,_}function Ct(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Zt(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Dr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,f=null,g=o;for(;null!==g;){const _=g[1],C=_.type;if(f=2===C?_.declTNode:1===C?g[6]:null,null===f)return-1;if(c++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function Mn(s,o,c){!function(s,o,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(En)&&(f=c[En]),null==f&&(f=c[En]=sd++);const g=255&f;o.data[s+(g>>5)]|=1<<g}(s,o,c)}function Ur(s,o,c){if(c&bt.Optional)return s;He(o,"NodeInjector")}function Ma(s,o,c,f){if(c&bt.Optional&&void 0===f&&(f=null),0==(c&(bt.Self|bt.Host))){const g=s[9],_=Wi(void 0);try{return g?g.get(o,f,c&bt.Optional):Pt(o,f,c&bt.Optional)}finally{Wi(_)}}return Ur(f,o,c)}function qs(s,o,c,f=bt.Default,g){if(null!==s){const _=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(En)?s[En]:void 0;return"number"==typeof o?o>=0?255&o:$o:o}(c);if("function"==typeof _){if(!Ic(o,s,f))return f&bt.Host?Ur(g,c,f):Ma(o,c,f,g);try{const C=_(f);if(null!=C||f&bt.Optional)return C;He(c)}finally{jo()}}else if("number"==typeof _){let C=null,E=Zt(s,o),T=-1,A=f&bt.Host?o[16][6]:null;for((-1===E||f&bt.SkipSelf)&&(T=-1===E?Dr(s,o):o[E+8],-1!==T&&Wo(f,!1)?(C=o[1],E=gi(T),o=er(T,o)):E=-1);-1!==E;){const O=o[1];if(vi(_,E,O.data)){const F=Da(E,o,c,C,f,A);if(F!==uo)return F}T=o[E+8],-1!==T&&Wo(f,o[1].data[E+8]===A)&&vi(_,E,o)?(C=O,E=gi(T),o=er(T,o)):E=-1}}}return Ma(o,c,f,g)}const uo={};function $o(){return new cr(Xn(),Ue())}function Da(s,o,c,f,g,_){const C=o[1],E=C.data[s+8],O=Tt(E,C,c,null==f?oo(E)&&Ia:f!=C&&0!=(3&E.type),g&bt.Host&&_===E);return null!==O?Aa(o,C,O,E):uo}function Tt(s,o,c,f,g){const _=s.providerIndexes,C=o.data,E=1048575&_,T=s.directiveStart,O=_>>20,U=g?E+O:s.directiveEnd;for(let X=f?E:E+O;X<U;X++){const ae=C[X];if(X<T&&c===ae||X>=T&&ae.type===c)return X}if(g){const X=C[T];if(X&&Xi(X)&&X.type===c)return T}return null}function Aa(s,o,c,f){let g=s[c];const _=o.data;if(function(s){return s instanceof Mr}(g)){const C=g;C.resolving&&function(s,o){throw new rt("200",`Circular dependency in DI detected for ${s}`)}(Ee(_[c]));const E=kc(C.canSeeViewProviders);C.resolving=!0;const T=C.injectImpl?Wi(C.injectImpl):null;Ic(s,f,bt.Default);try{g=s[c]=C.factory(void 0,_,s,f),o.firstCreatePass&&c>=f.directiveStart&&function(s,o,c){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:_}=o.type.prototype;if(f){const C=y1(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,C),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,C)}g&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,g),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,_))}(c,_[c],o)}finally{null!==T&&Wi(T),kc(E),C.resolving=!1,jo()}}return g}function vi(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function Wo(s,o){return!(s&bt.Self||s&bt.Host&&o)}class cr{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,f){return qs(this._tNode,this._lView,o,f,c)}}function A1(s){return on(()=>{const o=s.prototype.constructor,c=o[It]||Rc(o),f=Object.prototype;let g=Object.getPrototypeOf(s.prototype).constructor;for(;g&&g!==f;){const _=g[It]||Rc(g);if(_&&_!==c)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function Rc(s){return Xe(s)?()=>{const o=Rc(ue(s));return o&&o()}:Ai(s)}function Nc(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const f=c.length;let g=0;for(;g<f;){const _=c[g];if(Ac(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<f&&"string"==typeof c[g];)g++;else{if(_===o)return c[g+1];g+=2}}}return null}(Xn(),s)}const Zo="__parameters__";function Rn(s,o,c){return on(()=>{const f=function(s){return function(...c){if(s){const f=s(...c);for(const g in f)this[g]=f[g]}}}(o);function g(..._){if(this instanceof g)return f.apply(this,_),this;const C=new g(..._);return E.annotation=C,E;function E(T,A,O){const F=T.hasOwnProperty(Zo)?T[Zo]:Object.defineProperty(T,Zo,{value:[]})[Zo];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(C),T}}return c&&(g.prototype=Object.create(c.prototype)),g.prototype.ngMetadataName=s,g.annotationCls=g,g})}class fr{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=cn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ld=new fr("AnalyzeForEntryComponents");function Kr(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let f=s[c];Array.isArray(f)?(o===s&&(o=s.slice(0,c)),Kr(f,o)):o!==s&&o.push(f)}return o}function fo(s,o){s.forEach(c=>Array.isArray(c)?fo(c,o):o(c))}function is(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function en(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ft(s,o){const c=[];for(let f=0;f<s;f++)c.push(o);return c}function Ss(s,o,c){let f=Ts(s,o);return f>=0?s[1|f]=c:(f=~f,function(s,o,c,f){let g=s.length;if(g==o)s.push(c,f);else if(1===g)s.push(f,s[0]),s[0]=c;else{for(g--,s.push(s[g-1],s[g]);g>o;)s[g]=s[g-2],g--;s[o]=c,s[o+1]=f}}(s,f,o,c)),f}function R1(s,o){const c=Ts(s,o);if(c>=0)return s[1|c]}function Ts(s,o){return function(s,o,c){let f=0,g=s.length>>c;for(;g!==f;){const _=f+(g-f>>1),C=s[_<<c];if(o===C)return _<<c;C>o?g=_:f=_+1}return~(g<<c)}(s,o,1)}const Ra={},Pc="__NG_DI_FLAG__",Qo="ngTempTokenPath",R=/\n/gm,W="__source",he=fe({provide:String,useValue:fe});let Me;function Be(s){const o=Me;return Me=s,o}function lt(s,o=bt.Default){if(void 0===Me)throw new Error("inject() must be called from an injection context");return null===Me?Pt(s,void 0,o):Me.get(s,o&bt.Optional?null:void 0,o)}function Ze(s,o=bt.Default){return(or||lt)(ue(s),o)}const jn=Ze;function dr(s){const o=[];for(let c=0;c<s.length;c++){const f=ue(s[c]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let g,_=bt.Default;for(let C=0;C<f.length;C++){const E=f[C],T=pr(E);"number"==typeof T?-1===T?g=E.token:_|=T:g=E}o.push(Ze(g,_))}else o.push(Ze(f))}return o}function vn(s,o){return s[Pc]=o,s.prototype[Pc]=o,s}function pr(s){return s[Pc]}function Na(s,o,c,f){const g=s[Qo];throw o[W]&&g.unshift(o[W]),s.message=function(s,o,c,f=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let g=be(o);if(Array.isArray(o))g=o.map(be).join(" -> ");else if("object"==typeof o){let _=[];for(let C in o)if(o.hasOwnProperty(C)){let E=o[C];_.push(C+":"+("string"==typeof E?JSON.stringify(E):be(E)))}g=`{${_.join(", ")}}`}return`${c}${f?"("+f+")":""}[${g}]: ${s.replace(R,"\n  ")}`}("\n"+s.message,g,c,f),s.ngTokenPath=g,s[Qo]=null,s}const Ms=vn(Rn("Inject",s=>({token:s})),-1),mr=vn(Rn("Optional"),8),Yr=vn(Rn("SkipSelf"),4);let cd,xu;function Ws(s){var o;return(null==(o=function(){if(void 0===cd&&(cd=null,nn.trustedTypes))try{cd=nn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return cd}())?void 0:o.createHTML(s))||s}function rh(s){var o;return(null==(o=function(){if(void 0===xu&&(xu=null,nn.trustedTypes))try{xu=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return xu}())?void 0:o.createHTML(s))||s}class Pa{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dl extends Pa{getTypeName(){return"HTML"}}class z1 extends Pa{getTypeName(){return"Style"}}class hd extends Pa{getTypeName(){return"Script"}}class r2 extends Pa{getTypeName(){return"URL"}}class fd extends Pa{getTypeName(){return"ResourceURL"}}function yi(s){return s instanceof Pa?s.changingThisBreaksApplicationSecurity:s}function nc(s,o){const c=ih(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function ih(s){return s instanceof Pa&&s.getTypeName()||null}function V1(s){return new dl(s)}function hl(s){return new z1(s)}function rc(s){return new hd(s)}function H1(s){return new r2(s)}function Fc(s){return new fd(s)}class pf{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Ws(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class pd{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Ws(o),c;const f=this.inertDocument.createElement("body");return f.innerHTML=Ws(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(o){const c=o.attributes;for(let g=c.length-1;0<g;g--){const C=c.item(g).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&o.removeAttribute(C)}let f=o.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const sh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vo(s){return(s=String(s)).match(sh)||s.match(zc)?s:"unsafe:"+s}function Zs(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function ic(...s){const o={};for(const c of s)for(const f in c)c.hasOwnProperty(f)&&(o[f]=!0);return o}const B1=Zs("area,br,col,hr,img,wbr"),md=Zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),U1=Zs("rp,rt"),fl=ic(B1,ic(md,Zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ic(U1,Zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ic(U1,md)),o2=Zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Su=Zs("srcset"),vd=ic(o2,Su,Zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gf=Zs("script,style,template");class Iu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let g=this.checkClobberedElement(c,c.nextSibling);if(g){c=g;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!fl.hasOwnProperty(c))return this.sanitizedSomething=!0,!gf.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=o.attributes;for(let g=0;g<f.length;g++){const _=f.item(g),C=_.name,E=C.toLowerCase();if(!vd.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=_.value;o2[E]&&(T=vo(T)),Su[E]&&(s=T,T=(s=String(s)).split(",").map(o=>vo(o.trim())).join(", ")),this.buf.push(" ",C,'="',La(T),'"')}var s;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();fl.hasOwnProperty(c)&&!B1.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(La(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const _d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a2=/([^\#-~ |!])/g;function La(s){return s.replace(/&/g,"&amp;").replace(_d,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(a2,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sc;function oc(s,o){let c=null;try{sc=sc||function(s){const o=new pd(s);return function(){try{return!!(new window.DOMParser).parseFromString(Ws(""),"text/html")}catch(s){return!1}}()?new pf(o):o}(s);let f=o?String(o):"";c=sc.getInertBodyElement(f);let g=5,_=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=_,_=c.innerHTML,c=sc.getInertBodyElement(f)}while(f!==_);return Ws((new Iu).sanitizeChildren(Mu(c)||c))}finally{if(c){const f=Mu(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Mu(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Zn=(()=>((Zn=Zn||{})[Zn.NONE=0]="NONE",Zn[Zn.HTML=1]="HTML",Zn[Zn.STYLE=2]="STYLE",Zn[Zn.SCRIPT=3]="SCRIPT",Zn[Zn.URL=4]="URL",Zn[Zn.RESOURCE_URL=5]="RESOURCE_URL",Zn))();function ah(s){const o=pl();return o?rh(o.sanitize(Zn.HTML,s)||""):nc(s,"HTML")?rh(yi(s)):oc(C1(),de(s))}function Vc(s){const o=pl();return o?o.sanitize(Zn.URL,s)||"":nc(s,"URL")?yi(s):vo(de(s))}function pl(){const s=Ue();return s&&s[12]}const G1="__ngContext__";function gr(s,o){s[G1]=o}function os(s){const o=function(s){return s[G1]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Cn(s){return s.ngOriginalError}function vl(s,...o){s.error(...o)}class ls{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),f=this._findContext(o),g=(s=o)&&s.ngErrorLogger||vl;var s;g(this._console,"ERROR",o),c&&g(this._console,"ORIGINAL ERROR",c),f&&g(this._console,"ERROR CONTEXT",f)}_findContext(o){return o?o.ngDebugContext||this._findContext(Cn(o)):null}_findOriginalError(o){let c=o&&Cn(o);for(;c&&Cn(c);)c=Cn(c);return c||null}}const p=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nn))();function M(s){return s instanceof Function?s():s}var ne=(()=>((ne=ne||{})[ne.Important=1]="Important",ne[ne.DashCase=2]="DashCase",ne))();function Pe(s,o){return undefined(s,o)}function it(s){const o=s[3];return gs(o)?o[3]:o}function Mt(s){return Qt(s[13])}function Et(s){return Qt(s[4])}function Qt(s){for(;null!==s&&!gs(s);)s=s[4];return s}function rr(s,o,c,f,g){if(null!=f){let _,C=!1;gs(f)?_=f:ni(f)&&(C=!0,f=f[0]);const E=lr(f);0===s&&null!==c?null==g?Vi(o,c,E):ta(o,c,E,g||null,!0):1===s&&null!==c?ta(o,c,E,g||null,!0):2===s?function(s,o,c){const f=yf(s,o);f&&function(s,o,c,f){On(s)?s.removeChild(o,c,f):o.removeChild(c)}(s,f,o,c)}(o,E,C):3===s&&o.destroyNode(E),null!=_&&function(s,o,c,f,g){const _=c[7];_!==lr(c)&&rr(o,s,f,_,g);for(let E=10;E<c.length;E++){const T=c[E];bf(T[1],T,s,o,f,_)}}(o,s,_,c,g)}}function kr(s,o,c){return On(s)?s.createElement(o,c):null===c?s.createElement(o):s.createElementNS(c,o)}function Vu(s,o){const c=s[9],f=c.indexOf(o),g=o[3];1024&o[2]&&(o[2]&=-1025,zl(g,-1)),c.splice(f,1)}function wr(s,o){if(s.length<=10)return;const c=10+o,f=s[c];if(f){const g=f[17];null!==g&&g!==s&&Vu(g,f),o>0&&(s[c-1][4]=f[4]);const _=en(s,10+o);!function(s,o){bf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(f[1],f);const C=_[19];null!==C&&C.detachView(_[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function zi(s,o){if(!(256&o[2])){const c=o[11];On(c)&&c.destroyNode&&bf(s,o,c,3,null,null),function(s){let o=s[13];if(!o)return Js(s[1],s);for(;o;){let c=null;if(ni(o))c=o[13];else{const f=o[10];f&&(c=f)}if(!c){for(;o&&!o[4]&&o!==s;)ni(o)&&Js(o[1],o),o=o[3];null===o&&(o=s),ni(o)&&Js(o[1],o),c=o&&o[4]}o=c}}(o)}}function Js(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let f=0;f<c.length;f+=2){const g=o[c[f]];if(!(g instanceof Mr)){const _=c[f+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const E=g[_[C]],T=_[C+1];try{T.call(E)}finally{}}else try{_.call(g)}finally{}}}}(s,o),function(s,o){const c=s.cleanup,f=o[7];let g=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const C=c[_+1],E="function"==typeof C?C(o):lr(o[C]),T=f[g=c[_+2]],A=c[_+3];"boolean"==typeof A?E.removeEventListener(c[_],T,A):A>=0?f[g=A]():f[g=-A].unsubscribe(),_+=2}else{const C=f[g=c[_+1]];c[_].call(C)}if(null!==f){for(let _=g+1;_<f.length;_++)f[_]();o[7]=null}}(s,o),1===o[1].type&&On(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&gs(o[3])){c!==o[3]&&Vu(c,o);const f=o[19];null!==f&&f.detachView(s)}}}function Xs(s,o,c){return function(s,o,c){let f=o;for(;null!==f&&40&f.type;)f=(o=f).parent;if(null===f)return c[0];if(2&f.flags){const g=s.data[f.directiveStart].encapsulation;if(g===ht.None||g===ht.Emulated)return null}return Hr(f,c)}(s,o.parent,c)}function ta(s,o,c,f,g){On(s)?s.insertBefore(o,c,f,g):o.insertBefore(c,f,g)}function Vi(s,o,c){On(s)?s.appendChild(o,c):o.appendChild(c)}function Hu(s,o,c,f,g){null!==f?ta(s,o,c,f,g):Vi(s,o,c)}function yf(s,o){return On(s)?s.parentNode(o):o.parentNode}function Fy(s,o,c){return Jp(s,o,c)}let Jp=function(s,o,c){return 40&s.type?Hr(s,c):null};function p2(s,o,c,f){const g=Xs(s,f,o),_=o[11],E=Fy(f.parent||o[6],f,o);if(null!=g)if(Array.isArray(c))for(let T=0;T<c.length;T++)Hu(_,g,c[T],E,!1);else Hu(_,g,c,E,!1)}function g4(s,o){if(null!==o){const c=o.type;if(3&c)return Hr(o,s);if(4&c)return e5(-1,s[o.index]);if(8&c){const f=o.child;if(null!==f)return g4(s,f);{const g=s[o.index];return gs(g)?e5(-1,g):lr(g)}}if(32&c)return Pe(o,s)()||lr(s[o.index]);{const f=qm(s,o);return null!==f?Array.isArray(f)?f[0]:g4(it(s[16]),f):g4(s,o.next)}}return null}function qm(s,o){return null!==o?s[16][6].projection[o.projection]:null}function e5(s,o){const c=10+s+1;if(c<o.length){const f=o[c],g=f[1].firstChild;if(null!==g)return g4(f,g)}return o[7]}function n5(s,o,c,f,g,_,C){for(;null!=c;){const E=f[c.index],T=c.type;if(C&&0===o&&(E&&gr(lr(E),f),c.flags|=4),64!=(64&c.flags))if(8&T)n5(s,o,c.child,f,g,_,!1),rr(o,s,g,E,_);else if(32&T){const A=Pe(c,f);let O;for(;O=A();)rr(o,s,g,O,_);rr(o,s,g,E,_)}else 16&T?v4(s,o,f,c,g,_):rr(o,s,g,E,_);c=C?c.projectionNext:c.next}}function bf(s,o,c,f,g,_){n5(c,f,s.firstChild,o,g,_,!1)}function v4(s,o,c,f,g,_){const C=c[16],T=C[6].projection[f.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)rr(o,s,g,T[A],_);else n5(s,o,T,C[3],g,_,!0)}function r5(s,o,c){On(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function s5(s,o,c){On(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function By(s,o,c){let f=s.length;for(;;){const g=s.indexOf(o,c);if(-1===g)return g;if(0===g||s.charCodeAt(g-1)<=32){const _=o.length;if(g+_===f||s.charCodeAt(g+_)<=32)return g}c=g+1}}const ph="ng-template";function _4(s,o,c){let f=0;for(;f<s.length;){let g=s[f++];if(c&&"class"===g){if(g=s[f],-1!==By(g.toLowerCase(),o,0))return!0}else if(1===g){for(;f<s.length&&"string"==typeof(g=s[f++]);)if(g.toLowerCase()===o)return!0;return!1}}return!1}function wf(s){return 4===s.type&&s.value!==ph}function Uy(s,o,c){return o===(4!==s.type||c?s.value:ph)}function $m(s,o,c){let f=4;const g=s.attrs||[],_=function(s){for(let o=0;o<s.length;o++)if(Ac(s[o]))return o;return s.length}(g);let C=!1;for(let E=0;E<o.length;E++){const T=o[E];if("number"!=typeof T){if(!C)if(4&f){if(f=2|1&f,""!==T&&!Uy(s,T,c)||""===T&&1===o.length){if(cc(f))return!1;C=!0}}else{const A=8&f?T:o[++E];if(8&f&&null!==s.attrs){if(!_4(s.attrs,A,c)){if(cc(f))return!1;C=!0}continue}const F=Wm(8&f?"class":T,g,wf(s),c);if(-1===F){if(cc(f))return!1;C=!0;continue}if(""!==A){let U;U=F>_?"":g[F+1].toLowerCase();const X=8&f?U:null;if(X&&-1!==By(X,A,0)||2&f&&A!==U){if(cc(f))return!1;C=!0}}}}else{if(!C&&!cc(f)&&!cc(T))return!1;if(C&&cc(T))continue;C=!1,f=T|1&f}}return cc(f)||C}function cc(s){return 0==(1&s)}function Wm(s,o,c,f){if(null===o)return-1;let g=0;if(f||!c){let _=!1;for(;g<o.length;){const C=o[g];if(C===s)return g;if(3===C||6===C)_=!0;else{if(1===C||2===C){let E=o[++g];for(;"string"==typeof E;)E=o[++g];continue}if(4===C)break;if(0===C){g+=4;continue}}g+=_?1:2}return-1}return function(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const f=s[c];if("number"==typeof f)return-1;if(f===o)return c;c++}return-1}(o,s)}function o5(s,o,c=!1){for(let f=0;f<o.length;f++)if($m(s,o[f],c))return!0;return!1}function Zm(s,o){e:for(let c=0;c<o.length;c++){const f=o[c];if(s.length===f.length){for(let g=0;g<s.length;g++)if(s[g]!==f[g])continue e;return!0}}return!1}function Ef(s,o){return s?":not("+o.trim()+")":o}function jy(s){let o=s[0],c=1,f=2,g="",_=!1;for(;c<s.length;){let C=s[c];if("string"==typeof C)if(2&f){const E=s[++c];g+="["+C+(E.length>0?'="'+E+'"':"")+"]"}else 8&f?g+="."+C:4&f&&(g+=" "+C);else""!==g&&!cc(C)&&(o+=Ef(_,g),g=""),f=C,_=_||!cc(f);c++}return""!==g&&(o+=Ef(_,g)),o}const tn={};function qy(s){$y(yn(),Ue(),Lr()+s,Bo())}function $y(s,o,c,f){if(!f)if(3==(3&o[2])){const _=s.preOrderCheckHooks;null!==_&&Sa(o,_,c)}else{const _=s.preOrderHooks;null!==_&&Cs(o,_,0,c)}Go(c)}function y4(s,o){return s<<17|o<<2}function Uc(s){return s>>17&32767}function Km(s){return 2|s}function Cd(s){return(131068&s)>>2}function Ym(s,o){return-131069&s|o<<2}function Qm(s){return 1|s}function og(s,o){const c=s.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const g=c[f],_=c[f+1];if(-1!==_){const C=s.data[_];T1(g),C.contentQueries(2,o[_],_)}}}function mh(s,o,c,f,g,_,C,E,T,A){const O=o.blueprint.slice();return O[0]=g,O[2]=140|f,Ir(O),O[3]=O[15]=s,O[8]=c,O[10]=C||s&&s[10],O[11]=E||s&&s[11],O[12]=T||s&&s[12]||null,O[9]=A||s&&s[9]||null,O[6]=_,O[16]=2==o.type?s[16]:O,O}function wd(s,o,c,f,g){let _=s.data[o];if(null===_)_=function(s,o,c,f,g){const _=bs(),C=Bl(),T=s.data[o]=function(s,o,c,f,g,_){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,c,o,f,g);return null===s.firstChild&&(s.firstChild=T),null!==_&&(C?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T)),T}(s,o,c,f,g),Vt.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=f,_.attrs=g;const C=function(){const s=Vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();_.injectorIndex=null===C?-1:C.injectorIndex}return br(_,!0),_}function Q1(s,o,c,f){if(0===c)return-1;const g=o.length;for(let _=0;_<c;_++)o.push(f),s.blueprint.push(f),s.data.push(null);return g}function xf(s,o,c){jl(o);try{const f=s.viewQuery;null!==f&&x5(1,f,c);const g=s.template;null!==g&&cg(s,o,g,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&og(s,o),s.staticViewQueries&&x5(2,s.viewQuery,c);const _=s.components;null!==_&&function(s,o){for(let c=0;c<o.length;c++)hb(s,o[c])}(o,_)}catch(f){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),f}finally{o[2]&=-5,mi()}}function Ed(s,o,c,f){const g=o[2];if(256==(256&g))return;jl(o);const _=Bo();try{Ir(o),function(s){Vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&cg(s,o,c,2,f);const C=3==(3&g);if(!_)if(C){const A=s.preOrderCheckHooks;null!==A&&Sa(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Cs(o,A,0,null),ql(o,0)}if(function(s){for(let o=Mt(s);null!==o;o=Et(o)){if(!o[2])continue;const c=o[9];for(let f=0;f<c.length;f++){const g=c[f],_=g[3];0==(1024&g[2])&&zl(_,1),g[2]|=1024}}}(o),function(s){for(let o=Mt(s);null!==o;o=Et(o))for(let c=10;c<o.length;c++){const f=o[c],g=f[1];tl(f)&&Ed(g,f,g.template,f[8])}}(o),null!==s.contentQueries&&og(s,o),!_)if(C){const A=s.contentCheckHooks;null!==A&&Sa(o,A)}else{const A=s.contentHooks;null!==A&&Cs(o,A,1),ql(o,1)}!function(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const g=c[f];if(g<0)Go(~g);else{const _=g,C=c[++f],E=c[++f];wa(C,_),E(2,o[_])}}}finally{Go(-1)}}(s,o);const E=s.components;null!==E&&function(s,o){for(let c=0;c<o.length;c++)db(s,o[c])}(o,E);const T=s.viewQuery;if(null!==T&&x5(2,T,f),!_)if(C){const A=s.viewCheckHooks;null!==A&&Sa(o,A)}else{const A=s.viewHooks;null!==A&&Cs(o,A,2),ql(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),_||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,zl(o[3],-1))}finally{mi()}}function lg(s,o,c,f){const g=o[10],_=!Bo(),C=Ec(o);try{_&&!C&&g.begin&&g.begin(),C&&xf(s,o,f),Ed(s,o,c,f)}finally{_&&!C&&g.end&&g.end()}}function cg(s,o,c,f,g){const _=Lr(),C=2&f;try{Go(-1),C&&o.length>20&&$y(s,o,20,Bo()),c(f,g)}finally{Go(_)}}function x4(s,o,c){if(m1(o)){const g=o.directiveEnd;for(let _=o.directiveStart;_<g;_++){const C=s.data[_];C.contentQueries&&C.contentQueries(1,c[_],_)}}}function S4(s,o,c){!E1()||(function(s,o,c,f){const g=c.directiveStart,_=c.directiveEnd;s.firstCreatePass||Ri(c,o),gr(f,o);const C=c.initialInputs;for(let E=g;E<_;E++){const T=s.data[E],A=Xi(T);A&&gg(o,c,T);const O=Aa(o,s,E,c);gr(O,o),null!==C&&ZM(0,E-g,O,T,0,C),A&&(mn(c.index,o)[8]=O)}}(s,o,c,Hr(c,o)),128==(128&c.flags)&&function(s,o,c){const f=c.directiveStart,g=c.directiveEnd,C=c.index,E=Vt.lFrame.currentDirectiveIndex;try{Go(C);for(let T=f;T<g;T++){const A=s.data[T],O=o[T];Ea(T),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&y5(A,O)}}finally{Go(-1),Ea(E)}}(s,o,c))}function T4(s,o,c=Hr){const f=o.localNames;if(null!==f){let g=o.index+1;for(let _=0;_<f.length;_+=2){const C=f[_+1],E=-1===C?c(o,s):s[C];s[g++]=E}}}function I4(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=M4(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function M4(s,o,c,f,g,_,C,E,T,A){const O=20+f,F=O+g,U=function(s,o){const c=[];for(let f=0;f<o;f++)c.push(f<s?null:tn);return c}(O,F),X="function"==typeof A?A():A;return U[1]={type:s,blueprint:U,template:c,queries:null,viewQuery:E,declTNode:o,data:U.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:T,consts:X,incompleteFirstPass:!1}}function A4(s,o,c,f){const g=bg(o);null===c?g.push(f):(g.push(c),s.firstCreatePass&&pb(s).push(f,g.length-1))}function v5(s,o,c){for(let f in s)if(s.hasOwnProperty(f)){const g=s[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(o,g):c[f]=[o,g]}return c}function yo(s,o,c,f,g,_,C,E){const T=Hr(o,c);let O,A=o.inputs;!E&&null!=A&&(O=A[f])?(vb(s,c,O,f,g),oo(o)&&function(s,o){const c=mn(o,s);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(f=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(f),g=null!=C?C(g,o.value||"",f):g,On(_)?_.setProperty(T,f,g):Br(f)||(T.setProperty?T.setProperty(f,g):T[f]=g))}function _5(s,o,c,f){let g=!1;if(E1()){const _=function(s,o,c){const f=s.directiveRegistry;let g=null;if(f)for(let _=0;_<f.length;_++){const C=f[_];o5(c,C.selectors,!1)&&(g||(g=[]),Mn(Ri(c,o),s,C.type),Xi(C)?(mg(s,c),g.unshift(C)):g.push(C))}return g}(s,o,c),C=null===f?null:{"":-1};if(null!==_){g=!0,C5(c,s.data.length,_.length);for(let O=0;O<_.length;O++){const F=_[O];F.providersResolver&&F.providersResolver(F)}let E=!1,T=!1,A=Q1(s,o,_.length,null);for(let O=0;O<_.length;O++){const F=_[O];c.mergedAttrs=ns(c.mergedAttrs,F.hostAttrs),w5(s,c,o,A,F),lb(A,F,C),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const U=F.type.prototype;!E&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),E=!0),!T&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),T=!0),A++}!function(s,o){const f=o.directiveEnd,g=s.data,_=o.attrs,C=[];let E=null,T=null;for(let A=o.directiveStart;A<f;A++){const O=g[A],F=O.inputs,U=null===_||wf(o)?null:cb(F,_);C.push(U),E=v5(F,A,E),T=v5(O.outputs,A,T)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=C,o.inputs=E,o.outputs=T}(s,c)}C&&function(s,o,c){if(o){const f=s.localNames=[];for(let g=0;g<o.length;g+=2){const _=c[o[g+1]];if(null==_)throw new rt("301",`Export of name '${o[g+1]}' not found!`);f.push(o[g],_)}}}(c,f,C)}return c.mergedAttrs=ns(c.mergedAttrs,c.attrs),g}function fg(s,o,c,f,g,_){const C=_.hostBindings;if(C){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const T=~o.index;(function(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(E)!=T&&E.push(T),E.push(f,g,C)}}function y5(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function mg(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function lb(s,o,c){if(c){if(o.exportAs)for(let f=0;f<o.exportAs.length;f++)c[o.exportAs[f]]=s;Xi(o)&&(c[""]=s)}}function C5(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function w5(s,o,c,f,g){s.data[f]=g;const _=g.factory||(g.factory=Ai(g.type)),C=new Mr(_,Xi(g),null);s.blueprint[f]=C,c[f]=C,fg(s,o,0,f,Q1(s,c,g.hostVars,tn),g)}function gg(s,o,c){const f=Hr(o,s),g=I4(c),_=s[10],C=gh(s,mh(s,g,null,c.onPush?64:16,f,o,_,_.createRenderer(f,c),null,null));s[o.index]=C}function qc(s,o,c,f,g,_){const C=Hr(s,o);!function(s,o,c,f,g,_,C){if(null==_)On(s)?s.removeAttribute(o,g,c):o.removeAttribute(g);else{const E=null==C?de(_):C(_,f||"",g);On(s)?s.setAttribute(o,g,E,c):c?o.setAttributeNS(c,g,E):o.setAttribute(g,E)}}(o[11],C,_,s.value,c,f,g)}function ZM(s,o,c,f,g,_){const C=_[o];if(null!==C){const E=f.setInput;for(let T=0;T<C.length;){const A=C[T++],O=C[T++],F=C[T++];null!==E?f.setInput(c,F,A,O):c[O]=F}}}function cb(s,o){let c=null,f=0;for(;f<o.length;){const g=o[f];if(0!==g)if(5!==g){if("number"==typeof g)break;s.hasOwnProperty(g)&&(null===c&&(c=[]),c.push(g,s[g],o[f+1])),f+=2}else f+=2;else f+=4}return c}function ub(s,o,c,f){return new Array(s,!0,!1,o,null,0,f,c,null,null)}function db(s,o){const c=mn(o,s);if(tl(c)){const f=c[1];80&c[2]?Ed(f,c,f.template,c[8]):c[5]>0&&N4(c)}}function N4(s){for(let f=Mt(s);null!==f;f=Et(f))for(let g=10;g<f.length;g++){const _=f[g];if(1024&_[2]){const C=_[1];Ed(C,_,C.template,_[8])}else _[5]>0&&N4(_)}const c=s[1].components;if(null!==c)for(let f=0;f<c.length;f++){const g=mn(c[f],s);tl(g)&&g[5]>0&&N4(g)}}function hb(s,o){const c=mn(o,s),f=c[1];(function(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(f,c),xf(f,c,c[8])}function gh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function vh(s){for(;s;){s[2]|=64;const o=it(s);if(g1(s)&&!o)return s;s=o}return null}function _g(s,o,c){const f=o[10];f.begin&&f.begin();try{Ed(s,o,s.template,c)}catch(g){throw gb(o,g),g}finally{f.end&&f.end()}}function yg(s){!function(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],f=os(c),g=f[1];lg(g,f,g.template,c)}}(s[8])}function x5(s,o,c){T1(0),o(s,c)}const JM=(()=>Promise.resolve(null))();function bg(s){return s[7]||(s[7]=[])}function pb(s){return s.cleanup||(s.cleanup=[])}function mb(s,o,c){return(null===s||Xi(s))&&(c=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function gb(s,o){const c=s[9],f=c?c.get(ls,null):null;f&&f.handleError(o)}function vb(s,o,c,f,g){for(let _=0;_<c.length;){const C=c[_++],E=c[_++],T=o[C],A=s.data[C];null!==A.setInput?A.setInput(T,g,f,E):T[E]=g}}function xd(s,o,c){const f=el(o,s);!function(s,o,c){On(s)?s.setValue(o,c):o.textContent=c}(s[11],f,c)}function O4(s,o,c){let f=c?s.styles:null,g=c?s.classes:null,_=0;if(null!==o)for(let C=0;C<o.length;C++){const E=o[C];"number"==typeof E?_=E:1==_?g=me(g,E):2==_&&(f=me(f,E+": "+o[++C]+";"))}c?s.styles=f:s.stylesWithoutHost=f,c?s.classes=g:s.classesWithoutHost=g}const _h=new fr("INJECTOR",-1);class S5{get(o,c=Ra){if(c===Ra){const f=new Error(`NullInjectorError: No provider for ${be(o)}!`);throw f.name="NullInjectorError",f}return c}}const yh=new fr("Set Injector scope."),bh={},P4={};let T5;function g2(){return void 0===T5&&(T5=new S5),T5}function yb(s,o=null,c=null,f){return new bb(s,c,o||g2(),f)}class bb{constructor(o,c,f,g=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];c&&fo(c,E=>this.processProvider(E,o,c)),fo([o],E=>this.processInjectorType(E,[],_)),this.records.set(_h,Ch(void 0,this));const C=this.records.get(yh);this.scope=null!=C?C.value:null,this.source=g||("object"==typeof o?null:be(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=Ra,f=bt.Default){this.assertNotDestroyed();const g=Be(this),_=Wi(void 0);try{if(!(f&bt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const T=("function"==typeof(s=o)||"object"==typeof s&&s instanceof fr)&&Vr(o);E=T&&this.injectableDefInScope(T)?Ch(Eg(o),bh):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(f&bt.Self?g2():this.parent).get(o,c=f&bt.Optional&&c===Ra?null:c)}catch(C){if("NullInjectorError"===C.name){if((C[Qo]=C[Qo]||[]).unshift(be(o)),g)throw C;return Na(C,o,"R3InjectorError",this.source)}throw C}finally{Wi(_),Be(g)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((f,g)=>o.push(be(g))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,c,f){if(!(o=ue(o)))return!1;let g=Ps(o);const _=null==g&&o.ngModule||void 0,C=void 0===_?o:_,E=-1!==f.indexOf(C);if(void 0!==_&&(g=Ps(_)),null==g)return!1;if(null!=g.imports&&!E){let O;f.push(C);try{fo(g.imports,F=>{this.processInjectorType(F,c,f)&&(void 0===O&&(O=[]),O.push(F))})}finally{}if(void 0!==O)for(let F=0;F<O.length;F++){const{ngModule:U,providers:X}=O[F];fo(X,ae=>this.processProvider(ae,U,X||Q))}}this.injectorDefTypes.add(C);const T=Ai(C)||(()=>new C);this.records.set(C,Ch(T,bh));const A=g.providers;if(null!=A&&!E){const O=o;fo(A,F=>this.processProvider(F,O,A))}return void 0!==_&&void 0!==o.providers}processProvider(o,c,f){let g=wh(o=ue(o))?o:ue(o&&o.provide);const _=(s=o,Eb(s)?Ch(void 0,s.useValue):Ch(xg(s),bh));var s;if(wh(o)||!0!==o.multi)this.records.get(g);else{let C=this.records.get(g);C||(C=Ch(void 0,bh,!0),C.factory=()=>dr(C.multi),this.records.set(g,C)),g=o,C.multi.push(o)}this.records.set(g,_)}hydrate(o,c){return c.value===bh&&(c.value=P4,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(s=c.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const c=ue(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Eg(s){const o=Vr(s),c=null!==o?o.factory:Ai(s);if(null!==c)return c;if(s instanceof fr)throw new Error(`Token ${be(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const f=Ft(o,"?");throw new Error(`Can't resolve all parameters for ${be(s)}: (${f.join(", ")}).`)}const c=function(s){const o=s&&(s[No]||s[ps]);if(o){const c=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Error("unreachable")}function xg(s,o,c){let f;if(wh(s)){const g=ue(s);return Ai(g)||Eg(g)}if(Eb(s))f=()=>ue(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))f=()=>s.useFactory(...dr(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))f=()=>Ze(ue(s.useExisting));else{const g=ue(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Ai(g)||Eg(g);f=()=>new g(...dr(s.deps))}return f}function Ch(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Eb(s){return null!==s&&"object"==typeof s&&he in s}function wh(s){return"function"==typeof s}const Sg=function(s,o,c){return function(s,o=null,c=null,f){const g=yb(s,o,c,f);return g._resolveInjectorDefTypes(),g}({name:c},o,s,c)};let Gr=(()=>{class s{static create(c,f){return Array.isArray(c)?Sg(c,f,""):Sg(c.providers,c.parent,c.name||"")}}return s.THROW_IF_NOT_FOUND=Ra,s.NULL=new S5,s.\u0275prov=cn({token:s,providedIn:"any",factory:()=>Ze(_h)}),s.__NG_ELEMENT_ID__=-1,s})();function fD(s,o){js(os(s)[1],Xn())}function M5(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const f=[s];for(;o;){let g;if(Xi(s))g=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");g=o.\u0275dir}if(g){if(c){f.push(g);const C=s;C.inputs=Ag(s.inputs),C.declaredInputs=Ag(s.declaredInputs),C.outputs=Ag(s.outputs);const E=g.hostBindings;E&&gD(s,E);const T=g.viewQuery,A=g.contentQueries;if(T&&pD(s,T),A&&mD(s,A),le(s.inputs,g.inputs),le(s.declaredInputs,g.declaredInputs),le(s.outputs,g.outputs),Xi(g)&&g.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let C=0;C<_.length;C++){const E=_[C];E&&E.ngInherit&&E(s),E===M5&&(c=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,c=null;for(let f=s.length-1;f>=0;f--){const g=s[f];g.hostVars=o+=g.hostVars,g.hostAttrs=ns(g.hostAttrs,c=ns(c,g.hostAttrs))}}(f)}function Ag(s){return s===ie?{}:s===Q?[]:s}function pD(s,o){const c=s.viewQuery;s.viewQuery=c?(f,g)=>{o(f,g),c(f,g)}:o}function mD(s,o){const c=s.contentQueries;s.contentQueries=c?(f,g,_)=>{o(f,g,_),c(f,g,_)}:o}function gD(s,o){const c=s.hostBindings;s.hostBindings=c?(f,g)=>{o(f,g),c(f,g)}:o}let D5=null;function Tf(){if(!D5){const s=nn.Symbol;if(s&&s.iterator)D5=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const f=o[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(D5=f)}}}return D5}function F4(s){return!!kg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Tf()in s)}function kg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Bu(s,o,c){return s[o]=c}function ra(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Rg(s,o,c,f){const g=Ue();return ra(g,es(),o)&&(yn(),qc(Un(),g,s,o,c,f)),Rg}function Mf(s,o,c,f){return ra(s,es(),c)?o+de(c)+f:tn}function rC(s,o,c,f,g,_,C,E){const T=Ue(),A=yn(),O=s+20,F=A.firstCreatePass?function(s,o,c,f,g,_,C,E,T){const A=o.consts,O=wd(o,s,4,C||null,ri(A,E));_5(o,c,O,ri(A,T)),js(o,O);const F=O.tViews=M4(2,O,f,g,_,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,O),F.queries=o.queries.embeddedTView(O)),O}(O,A,T,o,c,f,g,_,C):A.data[O];br(F,!1);const U=T[11].createComment("");p2(A,T,U,F),gr(U,T),gh(T,T[O]=ub(U,T,U,F)),Rl(F)&&S4(A,T,F),null!=C&&T4(T,F,E)}function iC(s){return ys(Vt.lFrame.contextLView,20+s)}function q4(s,o=bt.Default){const c=Ue();return null===c?Ze(s,o):qs(Xn(),c,ue(s),o)}function P5(){throw new Error("invalid")}function Hg(s,o,c){const f=Ue();return ra(f,es(),o)&&yo(yn(),Un(),f,s,o,f[11],c,!1),Hg}function L5(s,o,c,f,g){const C=g?"class":"style";vb(s,c,o.inputs[C],C,f)}function F5(s,o,c,f){const g=Ue(),_=yn(),C=20+s,E=g[11],T=g[C]=kr(E,o,Vt.lFrame.currentNamespace),A=_.firstCreatePass?function(s,o,c,f,g,_,C){const E=o.consts,A=wd(o,s,2,g,ri(E,_));return _5(o,c,A,ri(E,C)),null!==A.attrs&&O4(A,A.attrs,!1),null!==A.mergedAttrs&&O4(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(C,_,g,0,o,c,f):_.data[C];br(A,!0);const O=A.mergedAttrs;null!==O&&Wl(E,T,O);const F=A.classes;null!==F&&s5(E,T,F);const U=A.styles;null!==U&&r5(E,T,U),64!=(64&A.flags)&&p2(_,g,T,A),0===Vt.lFrame.elementDepthCount&&gr(T,g),Vt.lFrame.elementDepthCount++,Rl(A)&&(S4(_,g,A),x4(_,A,g)),null!==f&&T4(g,A)}function Bg(){let s=Xn();Bl()?Ho():(s=s.parent,br(s,!1));const o=s;Vt.lFrame.elementDepthCount--;const c=yn();c.firstCreatePass&&(js(c,s),m1(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&L5(c,o,Ue(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&L5(c,o,Ue(),o.stylesWithoutHost,!1)}function hC(s,o,c,f){F5(s,o,c,f),Bg()}function Ug(s,o,c){const f=Ue(),g=yn(),_=s+20,C=g.firstCreatePass?function(s,o,c,f,g){const _=o.consts,C=ri(_,f),E=wd(o,s,8,"ng-container",C);return null!==C&&O4(E,C,!0),_5(o,c,E,ri(_,g)),null!==o.queries&&o.queries.elementStart(o,E),E}(_,g,f,o,c):g.data[_];br(C,!0);const E=f[_]=f[11].createComment("");p2(g,f,E,C),gr(E,f),Rl(C)&&(S4(g,f,C),x4(g,C,f)),null!=c&&T4(f,C)}function z5(){let s=Xn();const o=yn();Bl()?Ho():(s=s.parent,br(s,!1)),o.firstCreatePass&&(js(o,s),m1(s)&&o.queries.elementEnd(s))}function jg(){return Ue()}function Gg(s){return!!s&&"function"==typeof s.then}function V5(s){return!!s&&"function"==typeof s.subscribe}const H5=V5;function B5(s,o,c,f){const g=Ue(),_=yn(),C=Xn();return qg(_,g,g[11],C,s,o,!!c,f),B5}function U5(s,o){const c=Xn(),f=Ue(),g=yn();return qg(g,f,mb(S1(g.data),c,f),c,s,o,!1),U5}function qg(s,o,c,f,g,_,C,E){const T=Rl(f),O=s.firstCreatePass&&pb(s),F=o[8],U=bg(o);let X=!0;if(3&f.type||E){const ge=Hr(f,o),Qe=E?E(ge):ge,Ve=U.length,kt=E?Gt=>E(lr(Gt[f.index])):f.index;if(On(c)){let Gt=null;if(!E&&T&&(Gt=function(s,o,c,f){const g=s.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const C=g[_];if(C===c&&g[_+1]===f){const E=o[7],T=g[_+2];return E.length>T?E[T]:null}"string"==typeof C&&(_+=2)}return null}(s,o,g,f.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=_,Gt.__ngLastListenerFn__=_,X=!1;else{_=j5(f,o,F,_,!1);const Dn=c.listen(Qe,g,_);U.push(_,Dn),O&&O.push(g,kt,Ve,Ve+1)}}else _=j5(f,o,F,_,!0),Qe.addEventListener(g,_,C),U.push(_),O&&O.push(g,kt,Ve,C)}else _=j5(f,o,F,_,!1);const ae=f.outputs;let Te;if(X&&null!==ae&&(Te=ae[g])){const ge=Te.length;if(ge)for(let Qe=0;Qe<ge;Qe+=2){const ci=o[Te[Qe]][Te[Qe+1]].subscribe(_),vc=U.length;U.push(_,ci),O&&O.push(g,f.index,vc,-(vc+1))}}}function $g(s,o,c,f){try{return!1!==c(f)}catch(g){return gb(s,g),!1}}function j5(s,o,c,f,g){return function _(C){if(C===Function)return f;const E=2&s.flags?mn(s.index,o):o;0==(32&o[2])&&vh(E);let T=$g(o,0,f,C),A=_.__ngNextListenerFn__;for(;A;)T=$g(o,0,A,C)&&T,A=A.__ngNextListenerFn__;return g&&!1===T&&(C.preventDefault(),C.returnValue=!1),T}}function G5(s=1){return function(s){return(Vt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,Vt.lFrame.contextLView))[8]}(s)}function Wg(s,o){let c=null;const f=function(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let g=0;g<o.length;g++){const _=o[g];if("*"!==_){if(null===f?o5(s,_,!0):Zm(f,_))return g}else c=g}return c}function Zg(s){const o=Ue()[16][6];if(!o.projection){const f=o.projection=Ft(s?s.length:1,null),g=f.slice();let _=o.child;for(;null!==_;){const C=s?Wg(_,s):0;null!==C&&(g[C]?g[C].projectionNext=_:f[C]=_,g[C]=_),_=_.next}}}function Kg(s,o=0,c){const f=Ue(),g=yn(),_=wd(g,20+s,16,null,c||null);null===_.projection&&(_.projection=o),Ho(),64!=(64&_.flags)&&function(s,o,c){v4(o[11],0,o,c,Xs(s,c,o),Fy(c.parent||o[6],c,o))}(g,f,_)}function q5(s,o,c){return $4(s,"",o,"",c),q5}function $4(s,o,c,f,g){const _=Ue(),C=Mf(_,o,c,f);return C!==tn&&yo(yn(),Un(),_,s,C,_[11],g,!1),$4}function W5(s,o,c,f,g){const _=s[c+1],C=null===o;let E=f?Uc(_):Cd(_),T=!1;for(;0!==E&&(!1===T||C);){const O=s[E+1];Th(s[E],o)&&(T=!0,s[E+1]=f?Qm(O):Km(O)),E=f?Uc(O):Cd(O)}T&&(s[c+1]=f?Km(_):Qm(_))}function Th(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ts(s,o)>=0}const ds={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function EC(s){return s.substring(ds.key,ds.keyEnd)}function SC(s,o){const c=ds.textEnd;return c===o?-1:(o=ds.keyEnd=function(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,ds.key=o,c),Md(s,o,c))}function Md(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function Y5(s,o,c){return uc(s,o,c,!1),Y5}function Q5(s,o){return uc(s,o,null,!0),Q5}function Wc(s,o){for(let c=function(s){return function(s){ds.key=0,ds.keyEnd=0,ds.value=0,ds.valueEnd=0,ds.textEnd=s.length}(s),SC(s,Md(s,0,ds.textEnd))}(o);c>=0;c=SC(o,c))Ss(s,EC(o),!0)}function uc(s,o,c,f){const g=Ue(),_=yn(),C=ii(2);_.firstUpdatePass&&Bf(_,s,C,f),o!==tn&&ra(g,C,o)&&IC(_,_.data[Lr()],g,g[11],s,g[C+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=be(yi(s)))),s}(o,c),f,C)}function eu(s,o){return o>=s.expandoStartIndex}function Bf(s,o,c,f){const g=s.data;if(null===g[c+1]){const _=g[Lr()],C=eu(s,c);_2(_,f)&&null===o&&!C&&(o=!1),o=function(s,o,c,f){const g=S1(s);let _=f?o.residualClasses:o.residualStyles;if(null===g)0===(f?o.classBindings:o.styleBindings)&&(c=W4(c=ju(null,s,o,c,f),o.attrs,f),_=null);else{const C=o.directiveStylingLast;if(-1===C||s[C]!==g)if(c=ju(g,s,o,c,f),null===_){let T=function(s,o,c){const f=c?o.classBindings:o.styleBindings;if(0!==Cd(f))return s[Uc(f)]}(s,o,f);void 0!==T&&Array.isArray(T)&&(T=ju(null,s,o,T[1],f),T=W4(T,o.attrs,f),function(s,o,c,f){s[Uc(c?o.classBindings:o.styleBindings)]=f}(s,o,f,T))}else _=function(s,o,c){let f;const g=o.directiveEnd;for(let _=1+o.directiveStylingLast;_<g;_++)f=W4(f,s[_].hostAttrs,c);return W4(f,o.attrs,c)}(s,o,f)}return void 0!==_&&(f?o.residualClasses=_:o.residualStyles=_),c}(g,_,o,f),function(s,o,c,f,g,_){let C=_?o.classBindings:o.styleBindings,E=Uc(C),T=Cd(C);s[f]=c;let O,A=!1;if(Array.isArray(c)){const F=c;O=F[1],(null===O||Ts(F,O)>0)&&(A=!0)}else O=c;if(g)if(0!==T){const U=Uc(s[E+1]);s[f+1]=y4(U,E),0!==U&&(s[U+1]=Ym(s[U+1],f)),s[E+1]=function(s,o){return 131071&s|o<<17}(s[E+1],f)}else s[f+1]=y4(E,0),0!==E&&(s[E+1]=Ym(s[E+1],f)),E=f;else s[f+1]=y4(T,0),0===E?E=f:s[T+1]=Ym(s[T+1],f),T=f;A&&(s[f+1]=Km(s[f+1])),W5(s,O,f,!0),W5(s,O,f,!1),function(s,o,c,f,g){const _=g?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof o&&Ts(_,o)>=0&&(c[f+1]=Qm(c[f+1]))}(o,O,s,f,_),C=y4(E,T),_?o.classBindings=C:o.styleBindings=C}(g,_,o,c,C,f)}}function ju(s,o,c,f,g){let _=null;const C=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<C&&(_=o[E],f=W4(f,_.hostAttrs,g),_!==s);)E++;return null!==s&&(c.directiveStylingLast=E),f}function W4(s,o,c){const f=c?1:2;let g=-1;if(null!==o)for(let _=0;_<o.length;_++){const C=o[_];"number"==typeof C?g=C:g===f&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ss(s,C,!!c||o[++_]))}return void 0===s?null:s}function IC(s,o,c,f,g,_,C,E){if(!(3&o.type))return;const T=s.data,A=T[E+1];J5(function(s){return 1==(1&s)}(A)?MC(T,o,c,g,Cd(A),C):void 0)||(J5(_)||function(s){return 2==(2&s)}(A)&&(_=MC(T,null,c,g,E,C)),function(s,o,c,f,g){const _=On(s);if(o)g?_?s.addClass(c,f):c.classList.add(f):_?s.removeClass(c,f):c.classList.remove(f);else{let C=-1===f.indexOf("-")?void 0:ne.DashCase;if(null==g)_?s.removeStyle(c,f,C):c.style.removeProperty(f);else{const E="string"==typeof g&&g.endsWith("!important");E&&(g=g.slice(0,-10),C|=ne.Important),_?s.setStyle(c,f,g,C):c.style.setProperty(f,g,E?"important":"")}}}(f,C,el(Lr(),c),g,_))}function MC(s,o,c,f,g,_){const C=null===o;let E;for(;g>0;){const T=s[g],A=Array.isArray(T),O=A?T[1]:T,F=null===O;let U=c[g+1];U===tn&&(U=F?Q:void 0);let X=F?R1(U,f):O===f?U:void 0;if(A&&!J5(X)&&(X=R1(T,f)),J5(X)&&(E=X,C))return E;const ae=s[g+1];g=C?Uc(ae):Cd(ae)}if(null!==o){let T=_?o.residualClasses:o.residualStyles;null!=T&&(E=R1(T,f))}return E}function J5(s){return void 0!==s}function _2(s,o){return 0!=(s.flags&(o?16:32))}function X5(s,o=""){const c=Ue(),f=yn(),g=s+20,_=f.firstCreatePass?wd(f,g,1,o,null):f.data[g],C=c[g]=function(s,o){return On(s)?s.createText(o):s.createTextNode(o)}(c[11],o);p2(f,c,C,_),br(_,!1)}function Gf(s){return qf("",s,""),Gf}function qf(s,o,c){const f=Ue(),g=Mf(f,s,o,c);return g!==tn&&xd(f,Lr(),g),qf}function J4(s,o,c){!function(s,o,c,f){const g=yn(),_=ii(2);g.firstUpdatePass&&Bf(g,null,_,f);const C=Ue();if(c!==tn&&ra(C,_,c)){const E=g.data[Lr()];if(_2(E,f)&&!eu(g,_)){let T=f?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(c=me(T,c||"")),L5(g,E,C,c,f)}else!function(s,o,c,f,g,_,C,E){g===tn&&(g=Q);let T=0,A=0,O=0<g.length?g[0]:null,F=0<_.length?_[0]:null;for(;null!==O||null!==F;){const U=T<g.length?g[T+1]:void 0,X=A<_.length?_[A+1]:void 0;let Te,ae=null;O===F?(T+=2,A+=2,U!==X&&(ae=F,Te=X)):null===F||null!==O&&O<F?(T+=2,ae=O):(A+=2,ae=F,Te=X),null!==ae&&IC(s,o,c,f,ae,Te,C,E),O=T<g.length?g[T]:null,F=A<_.length?_[A]:null}}(g,E,C,C[11],C[_+1],C[_+1]=function(s,o,c){if(null==c||""===c)return Q;const f=[],g=yi(c);if(Array.isArray(g))for(let _=0;_<g.length;_++)s(f,g[_],!0);else if("object"==typeof g)for(const _ in g)g.hasOwnProperty(_)&&s(f,_,g[_]);else"string"==typeof g&&o(f,g);return f}(s,o,c),f,_)}}(Ss,Wc,Mf(Ue(),s,o,c),!0)}function Kf(s,o,c){const f=Ue();return ra(f,es(),o)&&yo(yn(),Un(),f,s,o,f[11],c,!0),Kf}function Ih(s,o,c){const f=Ue();if(ra(f,es(),o)){const _=yn(),C=Un();yo(_,C,f,s,o,mb(S1(_.data),C,f),c,!0)}return Ih}const b2=void 0;var l7=["en",[["a","p"],["AM","PM"],b2],[["AM","PM"],b2,b2],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],b2,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],b2,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",b2,"{1} 'at' {0}",b2],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const c=Math.floor(Math.abs(s)),f=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];let yl={};function t0(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Dh(o);if(c)return c;const f=o.split("-")[0];if(c=Dh(f),c)return c;if("en"===f)return l7;throw new Error(`Missing locale data for the locale "${s}".`)}function Ad(s){return t0(s)[Ut.PluralCase]}function Dh(s){return s in yl||(yl[s]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[s]),yl[s]}var Ut=(()=>((Ut=Ut||{})[Ut.LocaleId=0]="LocaleId",Ut[Ut.DayPeriodsFormat=1]="DayPeriodsFormat",Ut[Ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ut[Ut.DaysFormat=3]="DaysFormat",Ut[Ut.DaysStandalone=4]="DaysStandalone",Ut[Ut.MonthsFormat=5]="MonthsFormat",Ut[Ut.MonthsStandalone=6]="MonthsStandalone",Ut[Ut.Eras=7]="Eras",Ut[Ut.FirstDayOfWeek=8]="FirstDayOfWeek",Ut[Ut.WeekendRange=9]="WeekendRange",Ut[Ut.DateFormat=10]="DateFormat",Ut[Ut.TimeFormat=11]="TimeFormat",Ut[Ut.DateTimeFormat=12]="DateTimeFormat",Ut[Ut.NumberSymbols=13]="NumberSymbols",Ut[Ut.NumberFormats=14]="NumberFormats",Ut[Ut.CurrencyCode=15]="CurrencyCode",Ut[Ut.CurrencySymbol=16]="CurrencySymbol",Ut[Ut.CurrencyName=17]="CurrencyName",Ut[Ut.Currencies=18]="Currencies",Ut[Ut.Directionality=19]="Directionality",Ut[Ut.PluralCase=20]="PluralCase",Ut[Ut.ExtraData=21]="ExtraData",Ut))();const s0="en-US";let a0=s0;function E6(s,o,c,f,g){if(s=ue(s),Array.isArray(s))for(let _=0;_<s.length;_++)E6(s[_],o,c,f,g);else{const _=yn(),C=Ue();let E=wh(s)?s:ue(s.provide),T=xg(s);const A=Xn(),O=1048575&A.providerIndexes,F=A.directiveStart,U=A.providerIndexes>>20;if(wh(s)||!s.multi){const X=new Mr(T,g,q4),ae=m0(E,o,g?O:O+U,F);-1===ae?(Mn(Ri(A,C),_,E),p0(_,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,g&&(A.providerIndexes+=1048576),c.push(X),C.push(X)):(c[ae]=X,C[ae]=X)}else{const X=m0(E,o,O+U,F),ae=m0(E,o,O,O+U),Te=X>=0&&c[X],ge=ae>=0&&c[ae];if(g&&!ge||!g&&!Te){Mn(Ri(A,C),_,E);const Qe=function(s,o,c,f,g){const _=new Mr(s,c,q4);return _.multi=[],_.index=o,_.componentProviders=0,n3(_,g,f&&!c),_}(g?x6:sw,c.length,g,f,T);!g&&ge&&(c[ae].providerFactory=Qe),p0(_,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,g&&(A.providerIndexes+=1048576),c.push(Qe),C.push(Qe)}else p0(_,s,X>-1?X:ae,n3(c[g?ae:X],T,!g&&f));!g&&f&&ge&&c[ae].componentProviders++}}}function p0(s,o,c,f){const g=wh(o);if(g||function(s){return!!s.useClass}(o)){const C=(o.useClass||o).prototype.ngOnDestroy;if(C){const E=s.destroyHooks||(s.destroyHooks=[]);if(!g&&o.multi){const T=E.indexOf(c);-1===T?E.push(c,[f,C]):E[T+1].push(f,C)}else E.push(c,C)}}}function n3(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function m0(s,o,c,f){for(let g=c;g<f;g++)if(o[g]===s)return g;return-1}function sw(s,o,c,f){return S6(this.multi,[])}function x6(s,o,c,f){const g=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,E=Aa(c,c[1],this.providerFactory.index,f);_=E.slice(0,C),S6(g,_);for(let T=C;T<E.length;T++)_.push(E[T])}else _=[],S6(g,_);return _}function S6(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function T6(s,o=[]){return c=>{c.providersResolver=(f,g)=>function(s,o,c){const f=yn();if(f.firstCreatePass){const g=Xi(s);E6(c,f.data,f.blueprint,g,!0),E6(o,f.data,f.blueprint,g,!1)}}(f,g?g(s):s,o)}}class P7{}const I6="ngComponent";class aw{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${be(s)}. Did you add it to @NgModule.entryComponents?`);return o[I6]=s,o}(o)}}let S2=(()=>{class s{}return s.NULL=new aw,s})();function T2(...s){}function kh(s,o){return new tu(Hr(s,o))}const z7=function(){return kh(Xn(),Ue())};let tu=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=z7,s})();function V7(s){return s instanceof tu?s.nativeElement:s}class r3{}let uw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>H7(),s})();const H7=function(){const s=Ue(),c=mn(Xn().index,s);return function(s){return s[11]}(ni(c)?c:s)};let D6=(()=>{class s{}return s.\u0275prov=cn({token:s,providedIn:"root",factory:()=>null}),s})();class U7{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const v0=new U7("13.0.0"),Rh={};function _0(s,o,c,f,g=!1){for(;null!==c;){const _=o[c.index];if(null!==_&&f.push(lr(_)),gs(_))for(let E=10;E<_.length;E++){const T=_[E],A=T[1].firstChild;null!==A&&_0(T[1],T,A,f)}const C=c.type;if(8&C)_0(s,o,c.child,f);else if(32&C){const E=Pe(c,o);let T;for(;T=E();)f.push(T)}else if(16&C){const E=qm(o,c);if(Array.isArray(E))f.push(...E);else{const T=it(o[16]);_0(T[1],T,E,f,!0)}}c=g?c.projectionNext:c.next}return f}class s3{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return _0(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(gs(o)){const c=o[8],f=c?c.indexOf(this):-1;f>-1&&(wr(o,f),en(c,f))}this._attachedToViewContainer=!1}zi(this._lView[1],this._lView)}onDestroy(o){A4(this._lView[1],this._lView,null,o)}markForCheck(){vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_g(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,c){x1(!0);try{_g(s,o,c)}finally{x1(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,bf(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class j7 extends s3{constructor(o){super(o),this._view=o}detectChanges(){yg(this._view)}checkNoChanges(){!function(s){x1(!0);try{yg(s)}finally{x1(!1)}}(this._view)}get context(){return null}}class o3 extends S2{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Jn(o);return new k6(c,this.ngModule)}}function A6(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}const G7=new fr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>p});class k6 extends P7{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=o.selectors.map(jy).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return A6(this.componentDef.inputs)}get outputs(){return A6(this.componentDef.outputs)}create(o,c,f,g){const _=(g=g||this.ngModule)?function(s,o){return{get:(c,f,g)=>{const _=s.get(c,Rh,g);return _!==Rh||f===Rh?_:o.get(c,f,g)}}}(o,g.injector):o,C=_.get(r3,Fl),E=_.get(D6,null),T=C.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",O=f?function(s,o,c){if(On(s))return s.selectRootElement(o,c===ht.ShadowDom);let f="string"==typeof o?s.querySelector(o):o;return f.textContent="",f}(T,f,this.componentDef.encapsulation):kr(C.createRenderer(null,this.componentDef),A,function(s){const o=s.toLowerCase();return"svg"===o?Ll:"math"===o?"http://www.w3.org/1998/MathML/":null}(A)),F=this.componentDef.onPush?576:528,U=function(s,o){return{components:[],scheduler:s||p,clean:JM,playerHandler:o||null,flags:0}}(),X=M4(0,null,null,1,0,null,null,null,null,null),ae=mh(null,X,U,F,null,null,C,T,E,_);let Te,ge;jl(ae);try{const Qe=function(s,o,c,f,g,_){const C=c[1];c[20]=s;const T=wd(C,20,2,"#host",null),A=T.mergedAttrs=o.hostAttrs;null!==A&&(O4(T,A,!0),null!==s&&(Wl(g,s,A),null!==T.classes&&s5(g,s,T.classes),null!==T.styles&&r5(g,s,T.styles)));const O=f.createRenderer(s,o),F=mh(c,I4(o),null,o.onPush?64:16,c[20],T,f,O,_||null,null);return C.firstCreatePass&&(Mn(Ri(T,c),C,o.type),mg(C,T),C5(T,c.length,1)),gh(c,F),c[20]=F}(O,this.componentDef,ae,C,T);if(O)if(f)Wl(T,O,["ng-version",v0.full]);else{const{attrs:Ve,classes:kt}=function(s){const o=[],c=[];let f=1,g=2;for(;f<s.length;){let _=s[f];if("string"==typeof _)2===g?""!==_&&o.push(_,s[++f]):8===g&&c.push(_);else{if(!cc(g))break;g=_}f++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Ve&&Wl(T,O,Ve),kt&&kt.length>0&&s5(T,O,kt.join(" "))}if(ge=Vo(X,20),void 0!==c){const Ve=ge.projection=[];for(let kt=0;kt<this.ngContentSelectors.length;kt++){const Gt=c[kt];Ve.push(null!=Gt?Array.from(Gt):null)}}Te=function(s,o,c,f,g){const _=c[1],C=function(s,o,c){const f=Xn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),w5(s,f,o,Q1(s,o,1,null),c));const g=Aa(o,s,f.directiveStart,f);gr(g,o);const _=Hr(f,o);return _&&gr(_,o),g}(_,c,o);if(f.components.push(C),s[8]=C,g&&g.forEach(T=>T(C,o)),o.contentQueries){const T=Xn();o.contentQueries(1,C,T.directiveStart)}const E=Xn();return!_.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Go(E.index),fg(c[1],E,0,E.directiveStart,E.directiveEnd,o),y5(o,C)),C}(Qe,this.componentDef,ae,U,[fD]),xf(X,ae,null)}finally{mi()}return new mw(this.componentType,Te,kh(ge,ae),ae,ge)}}class mw extends class{}{constructor(o,c,f,g,_){super(),this.location=f,this._rootLView=g,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new j7(g),this.componentType=o}get injector(){return new cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class I2{}class Yc{}const M2=new Map;class yw extends I2{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new o3(this);const f=yr(o);this._bootstrapComponents=M(f.bootstrap),this._r3Injector=yb(o,c,[{provide:I2,useValue:this},{provide:S2,useValue:this.componentFactoryResolver}],be(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=Gr.THROW_IF_NOT_FOUND,f=bt.Default){return o===Gr||o===I2||o===_h?this:this._r3Injector.get(o,c,f)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class W7 extends Yc{constructor(o){super(),this.moduleType=o,null!==yr(o)&&function(s){const o=new Set;!function c(f){const g=yr(f,!0),_=g.id;null!==_&&(function(s,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${s} - ${be(o)} vs ${be(o.name)}`)}(_,M2.get(_),f),M2.set(_,f));const C=M(g.imports);for(const E of C)o.has(E)||(o.add(E),c(E))}(s)}(o)}create(o){return new yw(this.moduleType,o)}}function bw(s,o,c){const f=Zr()+s,g=Ue();return g[f]===tn?Bu(g,f,c?o.call(c):o()):function(s,o){return s[o]}(g,f)}function l3(s,o){const c=s[o];return c===tn?void 0:c}function Iw(s,o,c,f,g,_,C){const E=o+c;return function(s,o,c,f){const g=ra(s,o,c);return ra(s,o+1,f)||g}(s,E,g,_)?Bu(s,E+2,C?f.call(C,g,_):f(g,_)):l3(s,E+2)}function Aw(s,o){const c=yn();let f;const g=s+20;c.firstCreatePass?(f=function(s,o){if(o)for(let c=o.length-1;c>=0;c--){const f=o[c];if(s===f.name)return f}throw new rt("302",`The pipe '${s}' could not be found!`)}(o,c.pipeRegistry),c.data[g]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(g,f.onDestroy)):f=c.data[g];const _=f.factory||(f.factory=Ai(f.type)),C=Wi(q4);try{const E=kc(!1),T=_();return kc(E),function(s,o,c,f){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=f}(c,Ue(),g,T),T}finally{Wi(C)}}function kw(s,o,c){const f=s+20,g=Ue(),_=ys(g,f);return Nh(g,f)?function(s,o,c,f,g,_){const C=o+c;return ra(s,C,g)?Bu(s,C+1,_?f.call(_,g):f(g)):l3(s,C+1)}(g,Zr(),o,_.transform,c,_):_.transform(c)}function Rw(s,o,c,f){const g=s+20,_=Ue(),C=ys(_,g);return Nh(_,g)?Iw(_,Zr(),o,C.transform,c,f,C):C.transform(c,f)}function Nh(s,o){return s[1].data[o].pure}function Y7(s){return o=>{setTimeout(s,void 0,o)}}const ja=class extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,f){var T,A,O;let g=o,_=c||(()=>null),C=f;if(o&&"object"==typeof o){const F=o;g=null==(T=F.next)?void 0:T.bind(F),_=null==(A=F.error)?void 0:A.bind(F),C=null==(O=F.complete)?void 0:O.bind(F)}this.__isAsync&&(_=Y7(_),g&&(g=Y7(g)),C&&(C=Y7(C)));const E=super.subscribe({next:g,error:_,complete:C});return o instanceof pe.w0&&o.add(E),E}};function iA(){return this._results[Tf()]()}class c3{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Tf(),f=c3.prototype;f[c]||(f[c]=iA)}get changes(){return this._changes||(this._changes=new ja)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const f=this;f.dirty=!1;const g=Kr(o);(this._changesDetected=!function(s,o,c){if(s.length!==o.length)return!1;for(let f=0;f<s.length;f++){let g=s[f],_=o[f];if(c&&(g=c(g),_=c(_)),_!==g)return!1}return!0}(f._results,g,c))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const R6=function(){return y0(Xn(),Ue())};let Oh=(()=>{class s{}return s.__NG_ELEMENT_ID__=R6,s})();const J7=Oh,Nw=class extends J7{constructor(o,c,f){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(o){const c=this._declarationTContainer.tViews,f=mh(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(f[19]=_.createEmbeddedView(c)),xf(c,f,o),new s3(f)}};function y0(s,o){return 4&s.type?new Nw(o,s,kh(s,o)):null}const Fw=function(){return Hw(Xn(),Ue())};let N6=(()=>{class s{}return s.__NG_ELEMENT_ID__=Fw,s})();const aA=N6,zw=class extends aA{constructor(o,c,f){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=f}get element(){return kh(this._hostTNode,this._hostLView)}get injector(){return new cr(this._hostTNode,this._hostLView)}get parentInjector(){const o=Dr(this._hostTNode,this._hostLView);if(_u(o)){const c=er(o,this._hostLView),f=gi(o);return new cr(c[1].data[f+8],c)}return new cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=Vw(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,f){const g=o.createEmbeddedView(c||{});return this.insert(g,f),g}createComponent(o,c,f,g,_){const C=o&&!("function"==typeof o);let E;if(C)E=c;else{const F=c||{};E=F.index,f=F.injector,g=F.projectableNodes,_=F.ngModuleRef}const T=C?o:new k6(Jn(o)),A=f||this.parentInjector;if(!_&&null==T.ngModule&&A){const F=A.get(I2,null);F&&(_=F)}const O=T.create(A,g,void 0,_);return this.insert(O.hostView,E),O}insert(o,c){const f=o._lView,g=f[1];if(gs(f[3])){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const F=f[3],U=new zw(F,F[6],F[3]);U.detach(U.indexOf(o))}}const _=this._adjustIndex(c),C=this._lContainer;!function(s,o,c,f){const g=10+f,_=c.length;f>0&&(c[g-1][4]=o),f<_-10?(o[4]=c[g],is(c,10+f,o)):(c.push(o),o[4]=null),o[3]=c;const C=o[17];null!==C&&c!==C&&function(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(C,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(g,f,C,_);const E=e5(_,C),T=f[11],A=yf(T,C[7]);return null!==A&&function(s,o,c,f,g,_){f[0]=g,f[6]=o,bf(s,f,c,1,g,_)}(g,C[6],T,f,A,E),o.attachToViewContainerRef(),is(X7(C),_,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=Vw(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),f=wr(this._lContainer,c);f&&(en(X7(this._lContainer),c),zi(f[1],f))}detach(o){const c=this._adjustIndex(o,-1),f=wr(this._lContainer,c);return f&&null!=en(X7(this._lContainer),c)?new s3(f):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function Vw(s){return s[8]}function X7(s){return s[8]||(s[8]=[])}function Hw(s,o){let c;const f=o[s.index];if(gs(f))c=f;else{let g;if(8&s.type)g=lr(f);else{const _=o[11];g=_.createComment("");const C=Hr(s,o);ta(_,yf(_,C),g,function(s,o){return On(s)?s.nextSibling(o):o.nextSibling}(_,C),!1)}o[s.index]=c=ub(f,o,g,s),gh(o,c)}return new zw(c,s,o)}class e9{constructor(o){this.queryList=o,this.matches=null}clone(){return new e9(this.queryList)}setDirty(){this.queryList.setDirty()}}class t9{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const f=null!==o.contentQueries?o.contentQueries[0]:c.length,g=[];for(let _=0;_<f;_++){const C=c.getByIndex(_);g.push(this.queries[C.indexInDeclarationView].clone())}return new t9(g)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==Ww(o,c).matches&&this.queries[c].setDirty()}}class Bw{constructor(o,c,f=null){this.predicate=o,this.flags=c,this.read=f}}class n9{constructor(o=[]){this.queries=o}elementStart(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let f=0;f<this.length;f++){const g=null!==c?c.length:0,_=this.getByIndex(f).embeddedTView(o,g);_&&(_.indexInDeclarationView=f,null!==c?c.push(_):c=[_])}return null!==c?new n9(c):null}template(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class r9{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new r9(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=o.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const _=f[g];this.matchTNodeWithReadOption(o,c,Uw(c,_)),this.matchTNodeWithReadOption(o,c,Tt(c,o,_,!1,!1))}else f===Oh?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Tt(c,o,f,!1,!1))}matchTNodeWithReadOption(o,c,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===tu||g===N6||g===Oh&&4&c.type)this.addMatch(c.index,-2);else{const _=Tt(c,o,g,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,f)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function Uw(s,o){const c=s.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===o)return c[f+1];return null}function Gw(s,o,c,f){return-1===c?function(s,o){return 11&s.type?kh(s,o):4&s.type?y0(s,o):null}(o,s):-2===c?function(s,o,c){return c===tu?kh(o,s):c===Oh?y0(o,s):c===N6?Hw(o,s):void 0}(s,o,f):Aa(s,s[1],c,o)}function s9(s,o,c,f){const g=o[19].queries[f];if(null===g.matches){const _=s.data,C=c.matches,E=[];for(let T=0;T<C.length;T+=2){const A=C[T];E.push(A<0?null:Gw(o,_[A],C[T+1],c.metadata.read))}g.matches=E}return g.matches}function o9(s,o,c,f){const g=s.queries.getByIndex(c),_=g.matches;if(null!==_){const C=s9(s,o,g,c);for(let E=0;E<_.length;E+=2){const T=_[E];if(T>0)f.push(C[E/2]);else{const A=_[E+1],O=o[-T];for(let F=10;F<O.length;F++){const U=O[F];U[17]===U[3]&&o9(U[1],U,A,f)}if(null!==O[9]){const F=O[9];for(let U=0;U<F.length;U++){const X=F[U];o9(X[1],X,A,f)}}}}}return f}function O6(s){const o=Ue(),c=yn(),f=nl();T1(f+1);const g=Ww(c,f);if(s.dirty&&Ec(o)===(2==(2&g.metadata.flags))){if(null===g.matches)s.reset([]);else{const _=g.crossesNgTemplate?o9(c,o,f,[]):s9(c,o,g,f);s.reset(_,V7),s.notifyOnChanges()}return!0}return!1}function a9(s,o,c){const f=yn();f.firstCreatePass&&(u9(f,new Bw(s,o,c),-1),2==(2&o)&&(f.staticViewQueries=!0)),c9(f,Ue(),o)}function l9(s,o,c,f){const g=yn();if(g.firstCreatePass){const _=Xn();u9(g,new Bw(o,c,f),_.index),function(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(g,s),2==(2&c)&&(g.staticContentQueries=!0)}c9(g,Ue(),c)}function qw(){return s=Ue(),o=nl(),s[19].queries[o].queryList;var s,o}function c9(s,o,c){const f=new c3(4==(4&c));A4(s,o,f,f.destroy),null===o[19]&&(o[19]=new t9),o[19].queries.push(new e9(f))}function u9(s,o,c){null===s.queries&&(s.queries=new n9),s.queries.track(new r9(o,c))}function Ww(s,o){return s.queries.getByIndex(o)}function P6(s,o){return y0(s,o)}const x0=new fr("Application Initializer");let D2=(()=>{class s{constructor(c){this.appInits=c,this.resolve=T2,this.reject=T2,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(Gg(_))c.push(_);else if(H5(_)){const C=new Promise((E,T)=>{_.subscribe({complete:E,error:T})});c.push(C)}}Promise.all(c).then(()=>{f()}).catch(g=>{this.reject(g)}),0===c.length&&f(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Ze(x0,8))},s.\u0275prov=cn({token:s,factory:s.\u0275fac}),s})();const kd=new fr("AppId"),gE={provide:kd,useFactory:function(){return`${S0()}${S0()}${S0()}`},deps:[]};function S0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const x9=new fr("Platform Initializer"),S9=new fr("Platform ID"),T9=new fr("appBootstrapListener");let $u=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=cn({token:s,factory:s.\u0275fac}),s})();const p3=new fr("LocaleId"),eo=new fr("DefaultCurrencyCode");class M9{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}const T0=function(s){return new W7(s)},D9=T0,A9=function(s){return Promise.resolve(T0(s))},U6=function(s){const o=T0(s),f=M(yr(s).declarations).reduce((g,_)=>{const C=Jn(_);return C&&g.push(new k6(C)),g},[]);return new M9(o,f)},wE=U6,j6=function(s){return Promise.resolve(U6(s))};let I0=(()=>{class s{constructor(){this.compileModuleSync=D9,this.compileModuleAsync=A9,this.compileModuleAndAllComponentsSync=wE,this.compileModuleAndAllComponentsAsync=j6}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=cn({token:s,factory:s.\u0275fac}),s})();const R9=(()=>Promise.resolve(0))();function M0(s){"undefined"==typeof Zone?R9.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class bo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&c,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function(){let s=nn.requestAnimationFrame,o=nn.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(nn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Jc(s),s.isCheckStableRunning=!0,D0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Jc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,g,_,C,E)=>{try{return $6(s),c.invokeTask(g,_,C,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&o(),SE(s)}},onInvoke:(c,f,g,_,C,E,T)=>{try{return $6(s),c.invoke(g,_,C,E,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),SE(s)}},onHasTask:(c,f,g,_)=>{c.hasTask(g,_),f===g&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,Jc(s),D0(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,f,g,_)=>(c.handleError(g,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,f){return this._inner.run(o,c,f)}runTask(o,c,f,g){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+g,o,N9,T2,T2);try{return _.runTask(C,c,f)}finally{_.cancelTask(C)}}runGuarded(o,c,f){return this._inner.runGuarded(o,c,f)}runOutsideAngular(o){return this._outer.run(o)}}const N9={};function D0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Jc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $6(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function SE(s){s._nesting--,D0(s)}class kA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(o,c,f){return o.apply(c,f)}runGuarded(o,c,f){return o.apply(c,f)}runOutsideAngular(o){return o()}runTask(o,c,f,g){return o.apply(c,f)}}let Lh=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),M0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())M0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,g){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:g})}whenStable(c,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,f,g){return[]}}return s.\u0275fac=function(c){return new(c||s)(Ze(bo))},s.\u0275prov=cn({token:s,factory:s.\u0275fac}),s})(),P9=(()=>{class s{constructor(){this._applications=new Map,Z6.addToWindow(this)}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return Z6.findTestabilityInTree(this,c,f)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=cn({token:s,factory:s.\u0275fac}),s})();class W6{addToWindow(o){}findTestabilityInTree(o,c,f){return null}}function A0(s){Z6=s}let Z6=new W6,k0=!0,L9=!1;function F9(){return L9=!0,k0}function RA(){if(L9)throw new Error("Cannot enable prod mode after platform setup.");k0=!1}let nu;const O0=new fr("AllowMultipleToken");class P0{constructor(o,c){this.name=o,this.token=c}}function z9(s,o,c=[]){const f=`Platform: ${o}`,g=new fr(f);return(_=[])=>{let C=Y6();if(!C||C.injector.get(O0,!1))if(s)s(c.concat(_).concat({provide:g,useValue:!0}));else{const E=c.concat(_).concat({provide:g,useValue:!0},{provide:yh,useValue:"platform"});!function(s){if(nu&&!nu.destroyed&&!nu.injector.get(O0,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nu=s.get(H9);const o=s.get(x9,null);o&&o.forEach(c=>c())}(Gr.create({providers:E,name:f}))}return function(s){const o=Y6();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(g)}}function Y6(){return nu&&!nu.destroyed?nu:null}let H9=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const E=function(s,o){let c;return c="noop"===s?new kA:("zone.js"===s?void 0:s)||new bo({enableLongStackTrace:F9(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),T=[{provide:bo,useValue:E}];return E.run(()=>{const A=Gr.create({providers:T,parent:this.injector,name:c.moduleType.name}),O=c.create(A),F=O.injector.get(ls,null);if(!F)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const U=E.onError.subscribe({next:X=>{F.handleError(X)}});O.onDestroy(()=>{F0(this._modules,O),U.unsubscribe()})}),function(s,o,c){try{const f=c();return Gg(f)?f.catch(g=>{throw o.runOutsideAngular(()=>s.handleError(g)),g}):f}catch(f){throw o.runOutsideAngular(()=>s.handleError(f)),f}}(F,E,()=>{const U=O.injector.get(D2);return U.runInitializers(),U.donePromise.then(()=>(function(s){Je(s,"Expected localeId to be defined"),"string"==typeof s&&(a0=s.toLowerCase().replace(/_/g,"-"))}(O.injector.get(p3,s0)||s0),this._moduleDoBootstrap(O),O))})})}bootstrapModule(c,f=[]){const g=L0({},f);return function(s,o,c){const f=new W7(c);return Promise.resolve(f)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(c){const f=c.injector.get(g3);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${be(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Ze(Gr))},s.\u0275prov=cn({token:s,factory:s.\u0275fac}),s})();function L0(s,o){return Array.isArray(o)?o.reduce(L0,s):gt(gt({},s),o)}let g3=(()=>{class s{constructor(c,f,g,_,C){this._zone=c,this._injector=f,this._exceptionHandler=g,this._componentFactoryResolver=_,this._initStatus=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new B.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),T=new B.y(A=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{bo.assertNotInAngularZone(),M0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{O.unsubscribe(),F.unsubscribe()}});this.isStable=(0,we.T)(E,T.pipe((0,ce.B)()))}bootstrap(c,f){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let g;g=c instanceof P7?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(g.componentType);const _=function(s){return s.isBoundToModule}(g)?void 0:this._injector.get(I2),E=g.create(Gr.NULL,[],f||g.selector,_),T=E.location.nativeElement,A=E.injector.get(Lh,null),O=A&&E.injector.get(P9);return A&&O&&O.registerApplication(T,A),E.onDestroy(()=>{this.detachView(E.hostView),F0(this.components,E),O&&O.unregisterApplication(T)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;F0(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(T9,[]).concat(this._bootstrapListeners).forEach(g=>g(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(Ze(bo),Ze(Gr),Ze(ls),Ze(S2),Ze(D2))},s.\u0275prov=cn({token:s,factory:s.\u0275fac}),s})();function F0(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}const j9=function(s){return function(s,o,c){if(oo(s)&&!c){const f=mn(s.index,o);return new s3(f,f)}return 47&s.type?new s3(o[16],o):null}(Xn(),Ue(),16==(16&s))};let J6=(()=>{class s{}return s.__NG_ELEMENT_ID__=j9,s})();const OE=function(s){return null};class Y9{constructor(){}supports(o){return F4(o)}create(o){return new Q9(o)}}const s8=(s,o)=>o;class Q9{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||s8}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,f=this._removalsHead,g=0,_=null;for(;c||f;){const C=!f||c&&c.currentIndex<o8(f,g,_)?c:f,E=o8(C,g,_),T=C.currentIndex;if(C===f)g--,f=f._nextRemoved;else if(c=c._next,null==C.previousIndex)g++;else{_||(_=[]);const A=E-g,O=T-g;if(A!=O){for(let U=0;U<A;U++){const X=U<_.length?_[U]:_[U]=0,ae=X+U;O<=ae&&ae<A&&(_[U]=X+1)}_[C.previousIndex]=O-A}}E!==T&&o(C,E,T)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!F4(o))throw new Error(`Error trying to diff '${be(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let g,_,C,c=this._itHead,f=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)_=o[E],C=this._trackByFn(E,_),null!==c&&Object.is(c.trackById,C)?(f&&(c=this._verifyReinsertion(c,_,C,E)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,C,E),f=!0),c=c._next}else g=0,function(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Tf()]();let f;for(;!(f=c.next()).done;)o(f.value)}}(o,E=>{C=this._trackByFn(g,E),null!==c&&Object.is(c.trackById,C)?(f&&(c=this._verifyReinsertion(c,E,C,g)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,C,g),f=!0),c=c._next,g++}),this.length=g;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,f,g){let _;return null===o?_=this._itTail:(_=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,_,g)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,_,g)):o=this._addAfter(new LE(c,f),_,g),o}_verifyReinsertion(o,c,f,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?o=this._reinsertAfter(_,o._prev,g):o.currentIndex!=g&&(o.currentIndex=g,this._addToMoves(o,g)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const g=o._prevRemoved,_=o._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(o,c,f),this._addToMoves(o,f),o}_moveAfter(o,c,f){return this._unlink(o),this._insertAfter(o,c,f),this._addToMoves(o,f),o}_addAfter(o,c,f){return this._insertAfter(o,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,f){const g=null===c?this._itHead:c._next;return o._next=g,o._prev=c,null===g?this._itTail=o:g._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new X9),this._linkedRecords.put(o),o.currentIndex=f,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,f=o._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new X9),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class LE{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class J9{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,o))return f;return null}remove(o){const c=o._prevDup,f=o._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class X9{constructor(){this.map=new Map}put(o){const c=o.trackById;let f=this.map.get(c);f||(f=new J9,this.map.set(c,f)),f.add(o)}get(o,c){const g=this.map.get(o);return g?g.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function o8(s,o,c){const f=s.previousIndex;if(null===f)return f;let g=0;return c&&f<c.length&&(g=c[f]),f+o+g}class ev{constructor(){}supports(o){return o instanceof Map||kg(o)}create(){return new a8}}class a8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||kg(o)))throw new Error(`Error trying to diff '${be(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(f,g)=>{if(c&&c.key===g)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(g,f);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const f=o._prev;return c._next=o,c._prev=f,o._prev=c,f&&(f._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const g=this._records.get(o);this._maybeAddToChanges(g,c);const _=g._prev,C=g._next;return _&&(_._next=C),C&&(C._prev=_),g._next=null,g._prev=null,g}const f=new FE(o);return this._records.set(o,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(f=>c(o[f],f))}}class FE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tv(){return new b3([new Y9])}let b3=(()=>{class s{constructor(c){this.factories=c}static create(c,f){if(null!=f){const g=f.factories.slice();c=c.concat(g)}return new s(c)}static extend(c){return{provide:s,useFactory:f=>s.create(c,f||tv()),deps:[[s,new Yr,new mr]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(s){return s.name||typeof s}(c)}'`)}}return s.\u0275prov=cn({token:s,providedIn:"root",factory:tv}),s})();function VE(){return new zh([new ev])}let zh=(()=>{class s{constructor(c){this.factories=c}static create(c,f){if(f){const g=f.factories.slice();c=c.concat(g)}return new s(c)}static extend(c){return{provide:s,useFactory:f=>s.create(c,f||VE()),deps:[[s,new Yr,new mr]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(f)return f;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return s.\u0275prov=cn({token:s,providedIn:"root",factory:VE}),s})();const HE=[new ev],rv=new b3([new Y9]),iv=new zh(HE),sv=z9(null,"core",[{provide:S9,useValue:"unknown"},{provide:H9,deps:[Gr]},{provide:P9,deps:[]},{provide:$u,deps:[]}]),l8=[{provide:g3,useClass:g3,deps:[bo,Gr,ls,S2,D2]},{provide:G7,deps:[bo],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(c){o.push(c)}}},{provide:D2,useClass:D2,deps:[[new mr,x0]]},{provide:I0,useClass:I0,deps:[]},gE,{provide:b3,useFactory:function(){return rv},deps:[]},{provide:zh,useFactory:function(){return iv},deps:[]},{provide:p3,useFactory:function(s){return s||"undefined"!=typeof $localize&&$localize.locale||s0},deps:[[new Ms(p3),new mr,new Yr]]},{provide:eo,useValue:"USD"}];let GE=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Ze(g3))},s.\u0275mod=ma({type:s}),s.\u0275inj=Yt({providers:l8}),s})()},6293:(pt,xe,V)=>{"use strict";V.d(xe,{Z:()=>rt});var h=V(4213),pe=V(1177),B=V(1572),we=V(3855);class ce{constructor(_e,de){this._delegate=_e,this.firebase=de,(0,B._addComponent)(_e,new pe.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(_e,de=B._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(_e);return!Oe.isInitialized()&&"EXPLICIT"===(null===(Ee=Oe.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:de})}_removeServiceInstance(_e,de=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(de)}_addComponent(_e){(0,B._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,B._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function me(){const Ye=function(Ye){const _e={},de={__esModule:!0,initializeApp:function(at,ye={}){const H=B.initializeApp(at,ye);if((0,h.r3)(_e,H.name))return _e[H.name];const Z=new Ye(H,de);return _e[H.name]=Z,Z},app:Oe,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function(at){const ye=at.name,H=ye.replace("-compat","");if(B._registerComponent(at)&&"PUBLIC"===at.type){const Z=(te=Oe())=>{if("function"!=typeof te[H])throw le.create("invalid-app-argument",{appName:ye});return te[H]()};void 0!==at.serviceProps&&(0,h.ZB)(Z,at.serviceProps),de[H]=Z,Ye.prototype[H]=function(...te){return this._getService.bind(this,ye).apply(this,at.multipleInstances?te:[])}}return"PUBLIC"===at.type?de[H]:null},removeApp:function(at){delete _e[at]},useAsService:function(at,ye){return"serverAuth"===ye?null:ye},modularAPIs:B}};function Oe(at){if(!(0,h.r3)(_e,at=at||B._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:at});return _e[at]}return de.default=de,Object.defineProperty(de,"apps",{get:function(){return Object.keys(_e).map(at=>_e[at])}}),Oe.App=Ye,de}(ce);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function(de){(0,h.ZB)(Ye,de)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ye}(),ee=new we.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ye=self.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=J;(0,B.registerVersion)("@firebase/app-compat","0.1.18",undefined)},1572:(pt,xe,V)=>{"use strict";V.r(xe),V.d(xe,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>Kt,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>_t,_addOrOverwriteComponent:()=>Vn,_apps:()=>Je,_clearComponents:()=>Yt,_components:()=>vt,_getProvider:()=>cn,_registerComponent:()=>Er,_removeServiceInstance:()=>Hn,deleteApp:()=>ps,getApp:()=>No,getApps:()=>xi,initializeApp:()=>Ps,onLog:()=>or,registerVersion:()=>bt,setLogLevel:()=>Si});var h=V(8239),pe=V(1177),B=V(3855),we=V(4213);class ce{constructor(Ot){this.container=Ot}getPlatformInfoString(){return this.container.getProviders().map(on=>{if(function(Pt){const Ot=Pt.getComponent();return"VERSION"===(null==Ot?void 0:Ot.type)}(on)){const pn=on.getImmediate();return`${pn.library}/${pn.version}`}return null}).filter(on=>on).join(" ")}}const le="@firebase/app",me=new B.Yd("@firebase/app"),Rt="[DEFAULT]",Ge={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,vt=new Map;function _t(Pt,Ot){try{Pt.container.addComponent(Ot)}catch(on){me.debug(`Component ${Ot.name} failed to register with FirebaseApp ${Pt.name}`,on)}}function Vn(Pt,Ot){Pt.container.addOrOverwriteComponent(Ot)}function Er(Pt){const Ot=Pt.name;if(vt.has(Ot))return me.debug(`There were multiple attempts to register component ${Ot}.`),!1;vt.set(Ot,Pt);for(const on of Je.values())_t(on,Pt);return!0}function cn(Pt,Ot){return Pt.container.getProvider(Ot)}function Hn(Pt,Ot,on=Rt){cn(Pt,Ot).clearInstance(on)}function Yt(){vt.clear()}const xr=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ro{constructor(Ot,on,pn){this._isDeleted=!1,this._options=Object.assign({},Ot),this._config=Object.assign({},on),this._name=on.name,this._automaticDataCollectionEnabled=on.automaticDataCollectionEnabled,this._container=pn,this.container.addComponent(new pe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ot){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ot}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ot){this._isDeleted=Ot}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const Kt="9.6.7";function Ps(Pt,Ot={}){"object"!=typeof Ot&&(Ot={name:Ot});const on=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},Ot),pn=on.name;if("string"!=typeof pn||!pn)throw xr.create("bad-app-name",{appName:String(pn)});const Nr=Je.get(pn);if(Nr){if((0,we.vZ)(Pt,Nr.options)&&(0,we.vZ)(on,Nr.config))return Nr;throw xr.create("duplicate-app",{appName:pn})}const xn=new pe.H0(pn);for(const xt of vt.values())xn.addComponent(xt);const ht=new ro(Pt,on,xn);return Je.set(pn,ht),ht}function No(Pt=Rt){const Ot=Je.get(Pt);if(!Ot)throw xr.create("no-app",{appName:Pt});return Ot}function xi(){return Array.from(Je.values())}function ps(Pt){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(Pt){const Ot=Pt.name;Je.has(Ot)&&(Je.delete(Ot),yield Promise.all(Pt.container.getProviders().map(on=>on.delete())),Pt.isDeleted=!0)})).apply(this,arguments)}function bt(Pt,Ot,on){var pn;let Nr=null!==(pn=Ge[Pt])&&void 0!==pn?pn:Pt;on&&(Nr+=`-${on}`);const xn=Nr.match(/\s|\//),ht=Ot.match(/\s|\//);if(xn||ht){const xt=[`Unable to register library "${Nr}" with version "${Ot}":`];return xn&&xt.push(`library name "${Nr}" contains illegal characters (whitespace or "/")`),xn&&ht&&xt.push("and"),ht&&xt.push(`version name "${Ot}" contains illegal characters (whitespace or "/")`),void me.warn(xt.join(" "))}Er(new pe.wA(`${Nr}-version`,()=>({library:Nr,version:Ot}),"VERSION"))}function or(Pt,Ot){if(null!==Pt&&"function"!=typeof Pt)throw xr.create("invalid-log-argument");(0,B.Am)(Pt,Ot)}function Si(Pt){(0,B.Ub)(Pt)}Er(new pe.wA("platform-logger",Ot=>new ce(Ot),"PRIVATE")),bt(le,"0.7.17",""),bt(le,"0.7.17","esm2017"),bt("fire-js","")},1177:(pt,xe,V)=>{"use strict";V.d(xe,{wA:()=>B,H0:()=>be});var h=V(8239),pe=V(4213);class B{constructor(J,ee,ue){this.name=J,this.instanceFactory=ee,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const we="[DEFAULT]";class ce{constructor(J,ee){this.name=J,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ee=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ee)){const ue=new pe.BH;if(this.instancesDeferred.set(ee,ue),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:ee});Xe&&ue.resolve(Xe)}catch(Xe){}}return this.instancesDeferred.get(ee).promise}getImmediate(J){var ee;const ue=this.normalizeInstanceIdentifier(null==J?void 0:J.identifier),Xe=null!==(ee=null==J?void 0:J.optional)&&void 0!==ee&&ee;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Fe){if(Xe)return null;throw Fe}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if("EAGER"===J.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:we})}catch(ee){}for(const[ee,ue]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(ee);try{const Fe=this.getOrInitializeService({instanceIdentifier:Xe});ue.resolve(Fe)}catch(Fe){}}}}clearInstance(J=we){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,h.Z)(function*(){const ee=Array.from(J.instances.values());yield Promise.all([...ee.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...ee.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=we){return this.instances.has(J)}getOptions(J=we){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ee={}}=J,ue=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:ue,options:ee});for(const[Fe,rt]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Fe)&&rt.resolve(Xe);return Xe}onInit(J,ee){var ue;const Xe=this.normalizeInstanceIdentifier(ee),Fe=null!==(ue=this.onInitCallbacks.get(Xe))&&void 0!==ue?ue:new Set;Fe.add(J),this.onInitCallbacks.set(Xe,Fe);const rt=this.instances.get(Xe);return rt&&J(rt,Xe),()=>{Fe.delete(J)}}invokeOnInitCallbacks(J,ee){const ue=this.onInitCallbacks.get(ee);if(ue)for(const Xe of ue)try{Xe(J,ee)}catch(Fe){}}getOrInitializeService({instanceIdentifier:J,options:ee={}}){let ue=this.instances.get(J);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(me=J,me===we?void 0:me),options:ee}),this.instances.set(J,ue),this.instancesOptions.set(J,ee),this.invokeOnInitCallbacks(ue,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ue)}catch(Xe){}var me;return ue||null}normalizeInstanceIdentifier(J=we){return this.component?this.component.multipleInstances?J:we:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ee=this.getProvider(J.name);if(ee.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ee.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ee=new ce(J,this);return this.providers.set(J,ee),ee}getProviders(){return Array.from(this.providers.values())}}},3855:(pt,xe,V)=>{"use strict";V.d(xe,{in:()=>pe,Yd:()=>le,Ub:()=>be,Am:()=>me});const h=[];var pe=(()=>{return(J=pe||(pe={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",pe;var J})();const B={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},we=pe.INFO,ce={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},fe=(J,ee,...ue)=>{if(ee<J.logLevel)return;const Xe=(new Date).toISOString(),Fe=ce[ee];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Fe](`[${Xe}]  ${J.name}:`,...ue)};class le{constructor(ee){this.name=ee,this._logLevel=we,this._logHandler=fe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in pe))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?B[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...ee),this._logHandler(this,pe.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...ee),this._logHandler(this,pe.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...ee),this._logHandler(this,pe.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...ee),this._logHandler(this,pe.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...ee),this._logHandler(this,pe.ERROR,...ee)}}function be(J){h.forEach(ee=>{ee.setLogLevel(J)})}function me(J,ee){for(const ue of h){let Xe=null;ee&&ee.level&&(Xe=B[ee.level]),ue.userLogHandler=null===J?null:(Fe,rt,...Ye)=>{const _e=Ye.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch(Ee){return null}}).filter(de=>de).join(" ");rt>=(null!=Xe?Xe:Fe.logLevel)&&J({level:pe[rt].toLowerCase(),message:_e,args:Ye,type:Fe.name})}}}},8239:(pt,xe,V)=>{"use strict";function h(B,we,ce,fe,le,be,me){try{var J=B[be](me),ee=J.value}catch(ue){return void ce(ue)}J.done?we(ee):Promise.resolve(ee).then(fe,le)}function pe(B){return function(){var we=this,ce=arguments;return new Promise(function(fe,le){var be=B.apply(we,ce);function me(ee){h(be,fe,le,me,J,"next",ee)}function J(ee){h(be,fe,le,me,J,"throw",ee)}me(void 0)})}}V.d(xe,{Z:()=>pe})}},pt=>{pt(pt.s=4803)}]);